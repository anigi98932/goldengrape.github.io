<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>GoldenGrape's Blog (关于文章 现代眼科医生知识扩展包)</title><link>https://goldengrape.github.io/</link><description></description><atom:link href="https://goldengrape.github.io/categories/xian-dai-yan-ke-yi-sheng-zhi-shi-kuo-zhan-bao.xml" rel="self" type="application/rss+xml"></atom:link><language>zh_cn</language><copyright>Contents © 2019 &lt;a href="mailto:https://twitter.com/goldengrape"&gt;Golden Grape&lt;/a&gt; </copyright><lastBuildDate>Tue, 07 May 2019 09:20:55 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>自动生成Keynote演讲视频</title><link>https://goldengrape.github.io/posts/bulabula/auto_keynote_presentation/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;h3&gt;目的:&lt;/h3&gt;
&lt;p&gt;用mac上的系统语音, 自动播放keynote幻灯, 并且朗读keynote中的“演讲者备注”, 如果页面中有动画, 就依次播放完动画, 然后再切换到下一页.&lt;/p&gt;
&lt;!-- &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/AOMDt7xrIU4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen&gt;&lt;/iframe&gt; --&gt;

&lt;h3&gt;使用方法:&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;到这个&lt;a href="https://gist.github.com/goldengrape/eb4359a6467c5196435e469708c95f11"&gt;gist页面&lt;/a&gt;, 点击Download zip, 将代码下载到电脑上, 然后解压缩得到“Simple Play and Say.scpt”文件&lt;/li&gt;
&lt;li&gt;制作好keynote, 保持当前文档打开状态&lt;/li&gt;
&lt;li&gt;双击打开“Simple Play and Say.scpt”文件, 然后运行脚本&lt;/li&gt;
&lt;li&gt;QuickTime Player会自动录制屏幕播放过程. 然后可以保存或者导出成其他分辨率的视频.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这种方式可以快速生成演讲视频, 如果讲稿中有地方需要修改, 只要改动字符就可以了, 不必像对着镜头讲课录像那种必须要重新剪辑或者重新配音.&lt;/p&gt;
&lt;p&gt;而且说个英文什么的也很方便, 只是中文语音目前只有“婷婷”可以用.&lt;/p&gt;
&lt;h3&gt;进阶使用方法:&lt;/h3&gt;
&lt;p&gt;&lt;!-- TEASER_END --&gt;
直接使用QuickTime进行屏幕录像的时候, 默认使用的是“内置麦克风”, 如果环境比较嘈杂, 那么背景音也会录下来.&lt;/p&gt;
&lt;p&gt;解决的方法是让QuickTime进行“内录”, 也就是直接劫持声卡的声音. 有一个很久远的开源软件可以达成这个目的, &lt;a href="https://github.com/mattingalls/Soundflower/releases"&gt;Soundflower&lt;/a&gt;, 点击下载安装以后, 将出现两个新的声卡.&lt;/p&gt;
&lt;p&gt;先打开一次QuickTime Player, 新建屏幕录像, 然后点击录像按钮旁边的展开箭头, 将麦克风设定为Soundflower(2ch)&lt;/p&gt;
&lt;p&gt;&lt;img alt="屏幕快照 2018-08-26 10.59.06" src="https://i.loli.net/2018/08/26/5b8217b2b8a7e.png"&gt;&lt;/p&gt;
&lt;p&gt;QuickTime里面貌似设定一次以后就默认保持这种设置了.&lt;/p&gt;
&lt;p&gt;然后在运行脚本播放keynote之前, 要将系统的声音输出也设定到Soundflower(2ch)虚拟声卡上. 方法是点击屏幕顶部菜单栏中的音量图标, 就可以直接修改了.&lt;/p&gt;
&lt;p&gt;&lt;img alt="屏幕快照 2018-08-26 11.02.25" src="https://i.loli.net/2018/08/26/5b821858cc1bf.png"&gt;&lt;/p&gt;
&lt;p&gt;记得在重放的时候, 将声音的输出设备修改会“内置扬声器”, 否则就听不到声音了.&lt;/p&gt;
&lt;h3&gt;代码解释&lt;/h3&gt;
&lt;p&gt;代码修改自Sal Soghoian的&lt;a href="https://iworkautomation.com/keynote/slide-presenter-notes.html"&gt;iwork &amp;amp; automation网站&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;我添加了使用QuickTime进行屏幕录像的几段.&lt;/p&gt;
&lt;p&gt;之前一直无法解决自动播放动画的问题, 经过一上午的尝试(我可真无聊), 终于这样解决了:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;repeat 10 times
    tell document 1
        set cNum to (get slide number of current slide)
    end tell
    if cNum is not equal to i then
        exit repeat
    else
        show next
        say "," -- I really don't know why I have to say something here, english comma is a sound of silence
    end if
end repeat
&lt;/pre&gt;


&lt;p&gt;每个页面内“点击下一个”, 不超过10次, 如果你的动画太多, 可以修改这个数字. 但我建议还不如分成两页幻灯.&lt;/p&gt;
&lt;p&gt;然后去判断现在是不是还在当前页面, 或者已经是切换到了下一张, 如果切换了, 就跳出循环, 如果还在这一页, 就继续“点击下一个”, 但如果仅仅这么写, 就会出现一口气连续点击了10次, 直接跳到结尾了.&lt;/p&gt;
&lt;p&gt;我试过很多方法, 比如delay, do shell script "sleep " 之类, 都无法解决, 后来发现必须用say说点什么, 但又不想让在这里真的说点什么, 于是就说个逗号吧, 也算是某种“Sound of Silence”&lt;/p&gt;&lt;/div&gt;</description><category>applescript</category><category>教程</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/bulabula/auto_keynote_presentation/</guid><pubDate>Sun, 26 Aug 2018 02:00:00 GMT</pubDate></item><item><title>眼科数据随机森林</title><link>https://goldengrape.github.io/posts/python/random-forest-for-ophthalmology-data/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;要讲解"随机森林", 先要简介一下"决策树". 各位眼科大夫在眼科门诊每天都在用"决策树", 比如一位单侧眼痛伴同侧头痛的病人进入门诊:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;眼压&amp;gt;21mmHg吗?&lt;ul&gt;
&lt;li&gt;不是, 考虑其他可能&lt;/li&gt;
&lt;li&gt;是的, 考虑青光眼可能, 还有鉴别诊断1, 2, 3..., 进入下一题&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;前房浅吗?&lt;ul&gt;
&lt;li&gt;不是, 考虑其他可能&lt;/li&gt;
&lt;li&gt;是的, 考虑急性闭角型青光眼发作, 还有鉴别诊断x,y,z...,, 进入下一题&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;瞳孔光反射存在吗?&lt;ul&gt;
&lt;li&gt;存在, 考虑其他可能&lt;/li&gt;
&lt;li&gt;瞳孔固定, 考虑急性闭角型青光眼发作, 进入下一题
. . . .&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这就是一颗"决策树", 就是一堆判断题, 一层一层筛选, 最终将数据(病人)分成几类(急闭, 其他)&lt;/p&gt;
&lt;p&gt;"随机森林"就是由一组这样的"决策树"组成的分类器.
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;h2&gt;随机森林的优劣&lt;/h2&gt;
&lt;h3&gt;优点就是简单好用:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;它对输入的数据没什么特殊要求, 不需要很严格的预处理, 比如不需要归一化, 不需要正态分布化. 定量的数据也行, 定性的数据也行. 完全不挑食.&lt;/li&gt;
&lt;li&gt;它得到模型预测准确率还不差, 甚至使用默认参数也不差. 如果用同样的数据集实验, 不用深度学习的话. 随机森林的准确率大概可以排进前三.&lt;/li&gt;
&lt;li&gt;需要的数据量和运算量, 都还是在可接受范围内, 比如一两百个的数据, 用笔记本电脑跑上几分钟, 也许就能给出不错的结果.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;缺点:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;结果不好解释. 不过大概除了线性模型, 哪个机器学习出来的结果都不好解释.&lt;/li&gt;
&lt;li&gt;还是属于"传统"的机器学习方法. 有些太复杂的问题还是需要深度学习来做.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所以, 个人意见是遇到问题先用随机森林试试呗, 不好再换深度学习.&lt;/p&gt;
&lt;h2&gt;随机森林代码&lt;/h2&gt;
&lt;p&gt;通过python scikit-learn建立并且训练一个随机森林模型的代码非常好写, 实际上只有两句话:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;clf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;RandomForestClassifier&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;clf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;


&lt;p&gt;比较复杂的是如何标记数据, 如何把数据读取进来, 如何把数据整理清洗拆分. . .  干些体力活, 得到X_train, y_train这两个东西.&lt;/p&gt;
&lt;p&gt;程序世界的好处是, 体力活大多只需要干一次, 做好模板, 以后就轻松了. 所以我就在这里把眼科这部分的脏活累活先做好.&lt;/p&gt;
&lt;p&gt;目前支持的有医疗设备已经有:
&lt;em&gt; &lt;a href="http://www.zeaomed.com/jmdxty/772.html"&gt;Sirius角膜地形图&lt;/a&gt;
&lt;/em&gt; &lt;a href="https://www.pentacam.com/int/ophthalmologist-with-pentacam.html"&gt;PentaCam角膜地形图&lt;/a&gt;
&lt;em&gt; &lt;a href="http://www.wiskeymedical.com.cn/product/v1049"&gt;Grand Seiko WAM5500视调节力测量仪&lt;/a&gt;
&lt;/em&gt; &lt;a href="https://www.zeiss.com.cn/meditec/products/ophthalmology-optometry/glaucoma/diagnostics/perimetry/humphrey-field-analyzer-3.html"&gt;Humphrey视野(PDF需预先处理)&lt;/a&gt;
* &lt;a href="http://www.gvchina.com/product.aspx?t=1&amp;amp;c=12"&gt;HRT(PDF需预先处理)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;开源项目已经&lt;a href="https://github.com/goldengrape/read_medical_device_data"&gt;放在github上&lt;/a&gt;,
推荐通过&lt;a href="https://goldengrape.github.io/posts/python/random-forest-for-ophthalmology-data/notebooks.azure.com"&gt;微软的azure notebooks&lt;/a&gt;在线使用, 使用azure notebook的教程, 请参考&lt;a href="https://goldengrape.github.io/Python-for-ophthalmologist/"&gt;这篇教程&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;眼科数据随机森林模型的使用方法&lt;/h2&gt;
&lt;h3&gt;上传数据&lt;/h3&gt;
&lt;p&gt;如果你用的是微软azure notebooks, 那么在clone本项目以后, 可以设定成私有项目, 这样再传数据的时候, 不至于泄露给其他人. 你需要用浏览器在云端建立一个目录, 然后把医疗设备的数据报告一个一个上传上去, 看网速吧.&lt;/p&gt;
&lt;p&gt;如果你已经有能力在本地运行python, 甚至装好了anaconda,pandas,scikit-learn, 那无需太多解释, 你只需要把数据放在程序能够找到的路径里即可.&lt;/p&gt;
&lt;h3&gt;PDF数据预处理:&lt;/h3&gt;
&lt;p&gt;目前能够处理的是HRT和Humphrey视野计两种PDF报告, 找到python/pdf_parser目录,&lt;/p&gt;
&lt;p&gt;分别按照HRT.ipynb和Humphrey_VF.ipynb文件中的要求, 修改好路径, 运行. PDF文件的报告会被转换成csv文件.&lt;/p&gt;
&lt;p&gt;csv文件是"逗号分割的"电子表格文件, 可以方便使用excel编辑或者查看, 记得编辑完成后使用"另存为"csv文件.&lt;/p&gt;
&lt;h3&gt;class.csv文件设定&lt;/h3&gt;
&lt;p&gt;需要使用excel编辑这样一个表格, 示例请见\testdata\class.csv
&lt;img alt="屏幕快照 2018-05-14 22.21.30" src="https://i.loli.net/2018/05/14/5af99ba24ed2d.png"&gt;
第一列是class, 记录每一行所代表的病人的诊断, 有病/没病, 也可以有多个诊断.&lt;/p&gt;
&lt;p&gt;之后的每个单元格里填入的是该病人的数据文件名, 其中列标题要注明是哪种设备. (注意大小写, 业余作品不要太挑拣)&lt;/p&gt;
&lt;h3&gt;分析项目设定&lt;/h3&gt;
&lt;p&gt;需要使用excel再编辑一个表格, 示例请见\testdata\analysis_category.csv&lt;/p&gt;
&lt;p&gt;&lt;img alt="屏幕快照 2018-05-14 22.31.13" src="https://i.loli.net/2018/05/14/5af99df6d5270.png"&gt;&lt;/p&gt;
&lt;p&gt;列标题是设备的名称, 每个单元格里是需要分析该设备数据文件中的哪些项目, 项目的名称在各个设备的json中找, (注意大小写, 业余作品不要太挑拣)&lt;/p&gt;
&lt;p&gt;GrandSeikoWAM5500中的项目有:
&lt;em&gt; date: 检查时间
&lt;/em&gt; start_time: 检查开始时间
&lt;em&gt; eye: 眼别
&lt;/em&gt; time: 测量时间点
&lt;em&gt; power: 屈光状态
&lt;/em&gt; pupil: 瞳孔直径&lt;/p&gt;
&lt;p&gt;HRT中的项目有:
&lt;em&gt; "DOB": 出生日期, 操作员不一定都好好填的
&lt;/em&gt; "sex": 性别
&lt;em&gt; "date": 检查时间
&lt;/em&gt; "OS_data":左眼数据
&lt;em&gt; "OD_data":右眼数据
&lt;/em&gt; "Asymmetry_data": 非对称数据
* "classifiction": HRT设备给出的分类诊断, (不建议包含)&lt;/p&gt;
&lt;p&gt;humphrey视野计的项目有:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;"DOB":生日,&lt;/li&gt;
&lt;li&gt;"eye": 眼别&lt;/li&gt;
&lt;li&gt;"date":检查日期&lt;/li&gt;
&lt;li&gt;"False POS Errors":假阳性&lt;/li&gt;
&lt;li&gt;"False NEG Errors":假阴性, 这两个是判定视野检查质量的&lt;/li&gt;
&lt;li&gt;"VFI": 忘了是啥了.&lt;/li&gt;
&lt;li&gt;"MD": 平均缺损, 有重要随访意义&lt;/li&gt;
&lt;li&gt;"PSD": 又忘了是啥了&lt;/li&gt;
&lt;li&gt;"data": 这是二维的视野数据, 在送进随机森林的时候, 会抻成一列使用, 所以左右眼的排布会是不同的.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;pentacam角膜地形图:
"FRONT", "BACK", "Cornea", "Pachy", "Chamber","K",
"Pupil", "X", "Y"
注意, 这些数据里大多也是二维数据, 将抻成一维使用, 左右眼可能会有不同.&lt;/p&gt;
&lt;p&gt;sirius 角膜地形图:
&lt;em&gt; "Radii":,
&lt;/em&gt; "CornealThickness":,
&lt;em&gt; "ElevationAnterior":,
&lt;/em&gt; "ElevationPosterior":,
&lt;em&gt; "RefractiveEquivalentPower":,
&lt;/em&gt; "RefractiveFrontalPowerAnterior":,
&lt;em&gt; "RefractiveFrontalPowerPosterior":,
&lt;/em&gt; "SagittalAnterior":,
&lt;em&gt; "SagittalPosterior":,
&lt;/em&gt; "TangentialAnterior":,
* "TangentialPosterior":
这里面数据好多, 也是注意二维数据的问题, 要注意左右眼的问题.&lt;/p&gt;
&lt;h3&gt;运行随机森林模型&lt;/h3&gt;
&lt;p&gt;随机森林模型在python/random_forest_model.ipynb, 如果设定好class.csv和analysis_category.csv, 大概就不需要什么修改,可以直接训练了,&lt;/p&gt;
&lt;p&gt;训练完成后要观察一下ROC曲线和AUC评分. ROC曲线越靠近左上越好, AUC评分越接近1越好. 在该文件中, 我也有说明如何进行进一步的参数调节和优化. 但, 如果AUC评分巨高就直接发文章好了, 如果AUC评分接近0.5, 就算了吧, 换深度学习方式好了.&lt;/p&gt;
&lt;p&gt;最后, 这是一个业余项目, 代码并不完善, 还在缓慢而持续地改进中.  &lt;/p&gt;
&lt;!-- EOF --&gt;&lt;/div&gt;</description><category>ophthalmology</category><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/random-forest-for-ophthalmology-data/</guid><pubDate>Mon, 14 May 2018 14:00:00 GMT</pubDate></item><item><title>Scikit-learn笔记4(ROC曲线)</title><link>https://goldengrape.github.io/posts/python/scikit-learn-note-4/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://www.coursera.org/learn/python-machine-learning"&gt;Applied Machine Learning in Python&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这门课实在是太差了. 严重差评:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;"所谓私人恩怨，跟政治就是一回事。所以，如果有哪个白痴政客或者哪个大人物想要推行一项法令或政策，伤害到你或者你亲人朋友的利益，那就是私人恩怨。点燃你的怒火吧。" ----奎尔&lt;/p&gt;
&lt;p&gt;作为报复, 我决定把第三周的ppt给丫翻译了!&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="决策函数(decision_function)"&gt;决策函数(decision_function)&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-4/#%E5%86%B3%E7%AD%96%E5%87%BD%E6%95%B0(decision_function)"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;分类器对每个测试点都给出一个分数, 这个分数表示分类器预测的可信度. &lt;/li&gt;
&lt;li&gt;选择一个固定的决策阈值就给出了一个分类规则. (大于阈值的就是正分类, 小于阈值的就是负分类)&lt;/li&gt;
&lt;li&gt;通过改变决策阈值, 在所有可能的分数范围内扫描, 我们就可以给出给出一个曲线&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="预测属于某个分类的概率(predict_proba)"&gt;预测属于某个分类的概率(predict_proba)&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-4/#%E9%A2%84%E6%B5%8B%E5%B1%9E%E4%BA%8E%E6%9F%90%E4%B8%AA%E5%88%86%E7%B1%BB%E7%9A%84%E6%A6%82%E7%8E%87(predict_proba)"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;典型的规则: 选择最可能的分类
例如: 如果数值&amp;gt;0.5, 属于分类1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过改变阈值可以调节分类器的预测. &lt;/li&gt;
&lt;li&gt;更高的阈值导致更为保守的分类器&lt;ul&gt;
&lt;li&gt;例如只有数值&amp;gt;0.7才归入分类1&lt;/li&gt;
&lt;li&gt;高阈值增加了precision. 比之前低阈值时更少把样本归入分类1, 但是如果归入到样本1, 那么把握更大. &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;还是举个我更熟悉的例子吧, 比如仅仅用眼压作为青光眼的诊断标准,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;21mmHg就是一个阈值, &lt;/li&gt;
&lt;li&gt;大于21mmHg的就归入青光眼分类, 小于等于21mmHg的就归入正常眼的分类. 但显然这样会把一部分高眼压症的人算作是青光眼. &lt;/li&gt;
&lt;li&gt;如果把阈值提高到比如30mmHg, 那么筛出来的病人, 真正就是青光眼的可能性就要高很多. 就是Precision更高. &lt;/li&gt;
&lt;li&gt;如果把阈值降低到比如15mmHg, 那么就有更少的病人漏网, 也就是Recall更高&lt;/li&gt;
&lt;li&gt;后面会讲半天ROC曲线, 就是看阈值变化时, Precision和Recall的变化. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;del&gt;但是! 在此处吐槽一下. 这样的分类方法明显是错的啊, 本来根本不是用一个值来简单区分的事情, 为什么要强行这么做? 要诊断青光眼还要看视盘, 看盘沿, 看视野, 看动态变化, 本来就不是一个一维的事情, 不管其他, 去找一个参数的分界线是不对的啊. &lt;/del&gt;&lt;/p&gt;
&lt;p&gt;&lt;del&gt;_贱人就是矫情_&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;(4月4日更正), 此处的吐槽是不对的, 很抱歉. decision_function可以用到不同的分类器上, 是把多维的数据最终映射到一维上, 再拿到一维上来分类, 所以即使是深度学习, 如果是二分类问题, 仍然是最后由一个神经元输出[0, 1]之间的值, 并根据这个值来区分, 比如用sigmoid做激活函数, 那么分界阈值就是0.5, 但实际上可以设定不同. 所以仍然可以得出一个ROC曲线.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="再复习一下各种率"&gt;再复习一下各种率&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-4/#%E5%86%8D%E5%A4%8D%E4%B9%A0%E4%B8%80%E4%B8%8B%E5%90%84%E7%A7%8D%E7%8E%87"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;img src="https://goldengrape.github.io/images/ratios.png" alt=""&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;比如现在只用眼压区分青光眼, 补充一点背景知识: 已知95%的人群眼压是是10-21mmHg, 眼压最低也只能到房水的流出通道, 也就是静脉里面, 最低最低8mmHg, 眼压到30mmHg摸起来已经接近脑门的硬度了, 到40mmHg已经要疼得撞墙了.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;那么, 如果以10mmHg作为分界, 认为大于10mmHg的都是青光眼, 那么几乎所有的人类都是青光眼, 于是没有任何一个青光眼病人会被漏掉. &lt;/li&gt;
&lt;li&gt;如果以40mmHg作为分界, 认为大于40mmHg的才是青光眼, 那么只有急性发作的病人才会被当作是青光眼, 这时候每筛出一个病人, 肯定就是青光眼, 不会筛出来的不是, 但会漏掉很多病人. &lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="Precision-Recall曲线"&gt;Precision-Recall曲线&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-4/#Precision-Recall%E6%9B%B2%E7%BA%BF"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;X轴: Precision&lt;/li&gt;
&lt;li&gt;Y轴: Recall&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;右上顶端:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;理想点&lt;/li&gt;
&lt;li&gt;Precision=1.0&lt;/li&gt;
&lt;li&gt;Recall=1.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;P-R曲线的陡峭程度很重要. 在最大Precision时, 能够达到多大的Recall.&lt;br&gt;
&lt;img src="https://i.loli.net/2018/04/01/5ac0be6b687da.png" alt="P-R_curve.png"&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="ROC曲线"&gt;ROC曲线&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-4/#ROC%E6%9B%B2%E7%BA%BF"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;X轴: False Positive Rate 假阳性率&lt;/li&gt;
&lt;li&gt;Y轴: True Positive Rate  真阳性率&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;左上顶点:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;理想点&lt;/li&gt;
&lt;li&gt;False positive rate 假阳性率=0 &lt;/li&gt;
&lt;li&gt;True positive rate 真阳性率=1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://i.loli.net/2018/04/01/5ac0c250b9182.png" alt="ROC.png"&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;ul&gt;
&lt;li&gt;ROC曲线越往左上, 越好. &lt;/li&gt;
&lt;li&gt;曲线下面积(AUC), 越大越好&lt;/li&gt;
&lt;li&gt;45度线是随机瞎猜线&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://i.loli.net/2018/04/01/5ac0c511e280e.png" alt="ROC-2.png"&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="未完待续"&gt;未完待续&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-4/#%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/scikit-learn-note-4/</guid><pubDate>Sun, 01 Apr 2018 11:30:00 GMT</pubDate></item><item><title>Scikit-learn笔记3(各种率)</title><link>https://goldengrape.github.io/posts/python/%08scikit-learn-note-3/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;关于precision, recall的定义, 关于假阳性, 假阴性, 真阳性, 真阴性之类的定义, 我以后一定还是会忘记的.&lt;/p&gt;
&lt;p&gt;而且鉴于我以前凡是两个能够弄混的事情一定可以弄混的特性,&lt;/p&gt;
&lt;p&gt;于是把什么真假阴性阳性扩展到更多的情况, 画了张图&lt;/p&gt;
&lt;p&gt;红色是分子, 灰色是分母. (灰色区域都是包含红色的)&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://goldengrape.github.io/images/ratios.png"&gt;&lt;/p&gt;&lt;/div&gt;</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/%08scikit-learn-note-3/</guid><pubDate>Sun, 01 Apr 2018 04:00:00 GMT</pubDate></item><item><title>Scikit-learn笔记2</title><link>https://goldengrape.github.io/posts/python/scikit-learn-note-2/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://www.coursera.org/learn/python-machine-learning"&gt;Applied Machine Learning in Python&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这门课实在是太差了. 严重差评:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本身讲得就很差, 还经常口误&lt;/li&gt;
&lt;li&gt;不写板书, 对着ppt念&lt;/li&gt;
&lt;li&gt;代码写得也混乱, 在函数内部用import? ? &lt;/li&gt;
&lt;li&gt;交作业的时候要手动注释掉matplotlib&lt;/li&gt;
&lt;li&gt;考试填空题是给出函数的运行结果&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;我上大学时上毛泽东思想概论和邓小平理论的课听着都比这舒坦.&lt;/p&gt;
&lt;p&gt;作为报复, 我决定把第三周的ppt给丫翻译了!&lt;!-- TEASER_END --&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="评估"&gt;评估&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-2/#%E8%AF%84%E4%BC%B0"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;不同的应用可能有非常不同的目标&lt;/li&gt;
&lt;li&gt;Accuracy虽然广泛使用, 但其他的评估指标也可能使用. 例如:&lt;ul&gt;
&lt;li&gt;用户满意度 (网络搜索)&lt;/li&gt;
&lt;li&gt;收入(电子贸易)&lt;/li&gt;
&lt;li&gt;病人生存率的提高(医疗)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="不平衡分类中的Accuracy"&gt;不平衡分类中的Accuracy&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-2/#%E4%B8%8D%E5%B9%B3%E8%A1%A1%E5%88%86%E7%B1%BB%E4%B8%AD%E7%9A%84Accuracy"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;假设有两个分类: &lt;ul&gt;
&lt;li&gt;相关(R): 阳性分类结果&lt;/li&gt;
&lt;li&gt;不相关(N): 阴性分类结果&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;随机选择1000个样本, 平均而言: Out of 1000 randomly selected items, on average&lt;ul&gt;
&lt;li&gt;1个R&lt;/li&gt;
&lt;li&gt;999个N&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
Accuracy = \frac{正确预测的数量}{总量}
$$&lt;/p&gt;
&lt;p&gt;你建了一个分类器, 在test set上测试后发现accuracy=99.9%&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Wow! Amazingly good! 是不是? &lt;/li&gt;
&lt;li&gt;为了比较, 假定我们有一个"dummy"分类器, 就是个假分类器, 不管输入是什么, 都预测是最多频率的类别, 比如N&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;那么
$$
Accuracy_{DUMMY} = \frac{999}{1000}=99.9\%
$$&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Dummy分类器完全忽略输入数据"&gt;Dummy分类器完全忽略输入数据&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-2/#Dummy%E5%88%86%E7%B1%BB%E5%99%A8%E5%AE%8C%E5%85%A8%E5%BF%BD%E7%95%A5%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;scikit-learn中常用的DummyClassifier类型: &lt;ul&gt;
&lt;li&gt;most_frequent: 预测值是出现频率最高的类别&lt;/li&gt;
&lt;li&gt;stratified : 根据训练集中的频率分布给出随机预测&lt;/li&gt;
&lt;li&gt;uniform: 使用等可能概率给出随机预测&lt;/li&gt;
&lt;li&gt;constant: 根据用户的要求, 给出常数预测. &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;这个方法的主要动机是F1-scoring, 当阳性分类很少的情况. &lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如果你的模型预测结果跟Dummy差不多:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;功能无效，错误或缺失&lt;/li&gt;
&lt;li&gt;内核或超参数选择不当&lt;/li&gt;
&lt;li&gt;分类失衡, 有的类别太多&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="重点重点:-Binary-prediction-outcomes"&gt;重点重点: Binary prediction outcomes&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-2/#%E9%87%8D%E7%82%B9%E9%87%8D%E7%82%B9:-Binary-prediction-outcomes"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;
&lt;th style="text-align:left"&gt;&lt;/th&gt;
&lt;th style="text-align:left"&gt;预测为(-)&lt;/th&gt;
&lt;th style="text-align:left"&gt;预测为(+)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;实际为(-)&lt;/td&gt;
&lt;td style="text-align:left"&gt;TN&lt;/td&gt;
&lt;td style="text-align:left"&gt;FP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;实际为(+)&lt;/td&gt;
&lt;td style="text-align:left"&gt;FN&lt;/td&gt;
&lt;td style="text-align:left"&gt;TP&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;TP = true positive 真阳性&lt;/li&gt;
&lt;li&gt;FP = false positive (Type I error) 假阳性(Type I错误) , 印象里就是P&amp;lt;0.05的0.05&lt;/li&gt;
&lt;li&gt;TN = true negative 真阴性&lt;/li&gt;
&lt;li&gt;FN = false negative (Type II error)假阴性(Type II错误)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;上面的矩阵叫做: Confusion-Matrix&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Accuracy: 分类正确的概率. 实际为(-)预测为(-), 实际为(+)预测为(+)叫做正确. 
$$
Accuracy=\frac{TP + TN}{TP + TN + FP + FN}
$$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Classification error: (1-Accuracy), 分类错误的概率
$$
Classification\;  error=\frac{FP + FN}{TP + TN + FP + FN}
$$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Recall, 真阳性率: 实际上为(+), 能够被预测成(+)的概率&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Recall又叫 &lt;/li&gt;
&lt;li&gt;True Positive Rate (TPR): 真阳性率&lt;/li&gt;
&lt;li&gt;Sensitivity: 敏感性&lt;/li&gt;
&lt;li&gt;Probability of detection: 检出率
$$
Recall=\frac{TP}{TP+FN}
$$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Precision: 如果预测为(+), 那么预测正确的概率
$$
Precision=\frac{TP}{TP+FP}
$$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;False positive rate (FPR): 假阳性率, 误报率. 本来实际上是(-)的, 结果分类器报告成(+)的概率&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;又叫做: Specificity, 特异性
$$
False positive rate=\frac{FP}{TN+FP}
$$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="高precision,-低recall"&gt;高precision, 低recall&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-2/#%E9%AB%98precision,-%E4%BD%8Erecall"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;img src="https://i.loli.net/2018/03/31/5abf84bf4da95.png" alt="high precision.png"&gt;
无罪推定, 抓到的坏人都是有罪的, 但也可能有很多漏网了.&lt;/p&gt;
&lt;h3 id="高recall,-低precision"&gt;高recall, 低precision&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-2/#%E9%AB%98recall,-%E4%BD%8Eprecision"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;img src="https://i.loli.net/2018/03/31/5abf84c2c0a78.png" alt="high recall.png"&gt;
宁肯错杀一千, 不可放走一个.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="precision与recall的折衷"&gt;precision与recall的折衷&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-2/#precision%E4%B8%8Erecall%E7%9A%84%E6%8A%98%E8%A1%B7"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Recall指导的机器学习任务:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;法律搜索和法律信息提取&lt;/li&gt;
&lt;li&gt;肿瘤检测Tumor detection&lt;/li&gt;
&lt;li&gt;通常配备人类专家剔除假阳性&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Precision指导的机器学习任务&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;搜索引擎排序, 搜索建议&lt;/li&gt;
&lt;li&gt;文档分类&lt;/li&gt;
&lt;li&gt;很多面向用户的任务(因为用户记住错误!)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="F1-score:-结合precision与recall"&gt;F1-score: 结合precision与recall&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-2/#F1-score:-%E7%BB%93%E5%90%88precision%E4%B8%8Erecall"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;$$
F_1=2\frac{precision \times recall}{precision+recall}=\frac{2TP}{2TP+FN+FP}
$$&lt;/p&gt;
&lt;h3 id="F-score:-更一般地将precision与recall结合成单独一个数"&gt;F-score: 更一般地将precision与recall结合成单独一个数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-2/#F-score:-%E6%9B%B4%E4%B8%80%E8%88%AC%E5%9C%B0%E5%B0%86precision%E4%B8%8Erecall%E7%BB%93%E5%90%88%E6%88%90%E5%8D%95%E7%8B%AC%E4%B8%80%E4%B8%AA%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;$$
F_\beta=(1+\beta^2)\frac{precision \times recall}{\beta^2\times precision+recall}=\frac{(1+\beta^2)TP}{(1+\beta^2)TP+FN+FP}
$$&lt;/p&gt;
&lt;p&gt;𝛽用来调整recall vs precision之间的重要程度:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Precision-oriented users: 𝜷 = 0.5 &lt;/li&gt;
&lt;li&gt;Recall-oriented users: 𝜷 = 2&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;compute_scores&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TP&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;TN&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;FP&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;FN&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="c1"&gt;# Accuracy = TP + TN / (TP + TN + FP + FN)&lt;/span&gt;
    &lt;span class="c1"&gt;# Precision = TP / (TP + FP)&lt;/span&gt;
    &lt;span class="c1"&gt;# Recall = TP / (TP + FN)  Also known as sensitivity, or True Positive Rate&lt;/span&gt;
    &lt;span class="c1"&gt;# F1 = 2 * Precision * Recall / (Precision + Recall) &lt;/span&gt;
    &lt;span class="n"&gt;scores_dict&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;
    &lt;span class="n"&gt;scores_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"Accuracy"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TP&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;TN&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TP&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;TN&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;FP&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;FN&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;scores_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"Precision"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TP&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TP&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;FP&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;scores_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"Recall"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TP&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TP&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;FN&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# Also known as sensitivity, or True Positive Rate&lt;/span&gt;
    &lt;span class="n"&gt;scores_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"F1"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;scores_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"Precision"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;scores_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"Recall"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scores_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"Precision"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;scores_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"Recall"&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; 
    
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;scores_dict&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;c_matrix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"TN"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"FP"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
          &lt;span class="s2"&gt;"FN"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"TP"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;96&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;compute_scores&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;96&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[5]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;{'Accuracy': 0.905511811023622,
 'F1': 0.9411764705882353,
 'Precision': 0.9230769230769231,
 'Recall': 0.96}&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="未完待续"&gt;未完待续&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note-2/#%E6%9C%AA%E5%AE%8C%E5%BE%85%E7%BB%AD"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/scikit-learn-note-2/</guid><pubDate>Sat, 31 Mar 2018 12:30:00 GMT</pubDate></item><item><title>Scikit-learn笔记</title><link>https://goldengrape.github.io/posts/python/scikit-learn-note/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;最近在学Michigan大学Data science课程的第三门&lt;a href="https://www.coursera.org/learn/python-machine-learning/home/welcome"&gt;Applied Machine Learning in Python&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;唉, 老师讲课好差劲. 听一遍一点印象都没有, 很快就忘了. 如果一个老师如果上课的时候不写板书, 只用PPT, 高概率不是个好老师. 连作业里的代码风格都很差劲, 哪有在函数内部import的, 交作业的时候还得自己把matplotlib给注释掉.&lt;/p&gt;
&lt;p&gt;就是这个老师啦:&lt;/p&gt;
&lt;p&gt;&lt;img src="https://coursera-instructor-photos.s3.amazonaws.com/61/58158043d011e69605657346ccd592/kevyn.jpg" alt=""&gt;&lt;/p&gt;
&lt;p&gt;Kevyn Collins-Thompson&lt;/p&gt;
&lt;p&gt;所以, 得趁着刚写完作业, 还有些印象, 赶紧记录下来.&lt;/p&gt;
&lt;p&gt;这门课讲的也是机器学习, 但不是深度学习, 而是更为"传统"一些的. 用到的主要是Scikit-Learn.&lt;/p&gt;
&lt;p&gt;关于Scikit-learn, datacamp上有个&lt;a href="https://www.datacamp.com/community/blog/scikit-learn-cheat-sheet"&gt;cheat sheet&lt;/a&gt;看起来不错, 而且&lt;a href="http://scikit-learn.org/stable/documentation.html"&gt;SciKit-Learn自己的说明文档&lt;/a&gt;也很不错. 以后还是看这些文档参考.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="常用算法"&gt;常用算法&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note/#%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;这门课主要讲了SciKit-Learn里几个常用的算法:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;KNN&lt;/li&gt;
&lt;li&gt;线性回归: 最小二乘拟合, Ridge, Lasso, Polynomial Regression&lt;/li&gt;
&lt;li&gt;Logistic Regression&lt;/li&gt;
&lt;li&gt;支持向量机: 线性和Kernelized&lt;/li&gt;
&lt;li&gt;多层分类&lt;/li&gt;
&lt;li&gt;Cross-Validation&lt;/li&gt;
&lt;li&gt;Decision Trees&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="通用步骤"&gt;通用步骤&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note/#%E9%80%9A%E7%94%A8%E6%AD%A5%E9%AA%A4"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="分开数据集"&gt;分开数据集&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note/#%E5%88%86%E5%BC%80%E6%95%B0%E6%8D%AE%E9%9B%86"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;之前可能还需要归一化.&lt;/p&gt;
&lt;p&gt;传统的机器学习方法, 数据集的数量可能并不大, 因此还是会留出1/5~1/4的数据作为test set. 要用train_test_split把数据集分开.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 随便给个数据集&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;matplotlib&lt;/span&gt; inline
&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random_sample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'.'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[15]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[&amp;lt;matplotlib.lines.Line2D at 0x1a1493f5c0&amp;gt;]&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.model_selection&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;train_test_split&lt;/span&gt;
&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;train_test_split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'.'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"red"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'o'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"blue"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[17]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[&amp;lt;matplotlib.lines.Line2D at 0x1a14881f28&amp;gt;]&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="设模型并训练"&gt;设模型并训练&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note/#%E8%AE%BE%E6%A8%A1%E5%9E%8B%E5%B9%B6%E8%AE%AD%E7%BB%83"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;一般来说设定模型就是模型().fit(X_train,y_train),&lt;/p&gt;
&lt;p&gt;要应用训练好的模型就用模型.predict(X),&lt;/p&gt;
&lt;p&gt;评估的话, 就是模型.score(X_train, y_train) 和模型.score(X_test, y_test)&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [24]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sklearn.linear_model&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;LinearRegression&lt;/span&gt;
&lt;span class="n"&gt;linreg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;LinearRegression&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'.'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;linreg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'R-squared score (training): &lt;/span&gt;&lt;span class="si"&gt;{:.3f}&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;
     &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;linreg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_train&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_train&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'R-squared score (test): &lt;/span&gt;&lt;span class="si"&gt;{:.3f}&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;
     &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;linreg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;score&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X_test&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_test&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;R-squared score (training): 0.997
R-squared score (test): 0.998
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;




&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="各模型总结"&gt;各模型总结&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/scikit-learn-note/#%E5%90%84%E6%A8%A1%E5%9E%8B%E6%80%BB%E7%BB%93"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;
&lt;th style="text-align:left"&gt;含义&lt;/th&gt;
&lt;th style="text-align:left"&gt;函数&lt;/th&gt;
&lt;th style="text-align:left"&gt;cost function&lt;/th&gt;
&lt;th style="text-align:left"&gt;参数&lt;/th&gt;
&lt;th&gt;过拟合时调参&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;常规线性拟合&lt;/td&gt;
&lt;td style="text-align:left"&gt;LinearRegression&lt;/td&gt;
&lt;td style="text-align:left"&gt;MSE&lt;/td&gt;
&lt;td style="text-align:left"&gt;无&lt;/td&gt;
&lt;td&gt;无&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;参数L2约束(平方和)的线性拟合&lt;/td&gt;
&lt;td style="text-align:left"&gt;Ridge&lt;/td&gt;
&lt;td style="text-align:left"&gt;MSE+alpha* Sum(w^2)&lt;/td&gt;
&lt;td style="text-align:left"&gt;alpha&lt;/td&gt;
&lt;td&gt;增大alpha&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;参数L1约束(稀疏)的线性拟合&lt;/td&gt;
&lt;td style="text-align:left"&gt;Lasso&lt;/td&gt;
&lt;td style="text-align:left"&gt;MSE+ alpha* Sum(abs(w))&lt;/td&gt;
&lt;td style="text-align:left"&gt;alpha=2.0, max_iter = 10000&lt;/td&gt;
&lt;td&gt;增大alpha&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;多项式拟合&lt;/td&gt;
&lt;td style="text-align:left"&gt;PolynomialFeatures&lt;/td&gt;
&lt;td style="text-align:left"&gt;先poly = PolynomialFeatures(degree=2), 然后X_poly = poly.fit_transform(X), 再送入各种线性拟合&lt;/td&gt;
&lt;td style="text-align:left"&gt;同Ridge或Lasso&lt;/td&gt;
&lt;td&gt;同Ridge或Lasso&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;其实就是Sigmoid&lt;/td&gt;
&lt;td style="text-align:left"&gt;LogisticRegression&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;C, 负责L2约束&lt;/td&gt;
&lt;td&gt;减小C&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;线性SVM&lt;/td&gt;
&lt;td style="text-align:left"&gt;LinearSVC&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;C&lt;/td&gt;
&lt;td&gt;减小C&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;Kernelized SVM&lt;/td&gt;
&lt;td style="text-align:left"&gt;SVC(kernel = "rbf")&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;C, 负责曲面的平滑, gamma, 负责局部点的重要性&lt;/td&gt;
&lt;td&gt;减小C, 减小gamma&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:left"&gt;决策树&lt;/td&gt;
&lt;td style="text-align:left"&gt;DecisionTreeClassifier&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;max_depth, min_samples_leaf&lt;/td&gt;
&lt;td&gt;减小max_depth, 增大min_samples_leaf&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/scikit-learn-note/</guid><pubDate>Sun, 25 Mar 2018 15:30:00 GMT</pubDate></item><item><title>面向眼科医生的正则表达式(0)-简介</title><link>https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist-0/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;正则表达式是一种程序员用来在大量字符里进行定位的方法. 算得上是处理字符串时的解剖学了.&lt;/p&gt;
&lt;p&gt;最近解锁这个技能以后, 如同拿到了一把雷神之锤, 非常好用看什么都想砸一下. 
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;p&gt;有很多的眼科检查设备厂商, 以蔡司为代表, 非常邪恶. 不肯开放自己的数据接口, 只将数据以pdf的形式发送出来. 要想取得其中的数据, 很多医生恐怕是人眼OCR手动输入, 或者一部分自动化程度高一点的是把pdf转换成纯文本txt文件, 再从txt中复制粘贴. 再或者是类似同仁医院那样霸气地使用OCR处理整个pdf文件.&lt;/p&gt;
&lt;p&gt;用OCR处理整个pdf会有一些问题, 我现在还在尝试解决之中, 比如对于视野数据, 经常会出现-2 0这样的数字, 很容易就被识别成了-20, 还有可能把r识别成n之类. 这其中恐怕还有一些技巧.&lt;/p&gt;
&lt;p&gt;先把PDF转换成纯文本就不会有识别错误的问题, 但引入的问题是格式的混乱, 不知道txt中的文字是对应到pdf上的哪个位置, 这时候就需要正则表达式帮忙了.&lt;/p&gt;
&lt;p&gt;还是以视野数据为例, 我在提取视野数据时发现,&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;False POS Errors: False NEG Errors: Test Duration:
Blind Spot Central 1/13
15% XX 5%
GHT:
VFI:
MD: PSD:
Outside Normal Limits
76%
-8.33 dB P &amp;lt; 0.5% 10.06 dB P &amp;lt; 0.5%&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;实际上对应的关系是:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;False NEG Errors: 15%&lt;/li&gt;
&lt;li&gt;False NEG Errors: 5%&lt;/li&gt;
&lt;li&gt;VFI: 76%&lt;/li&gt;
&lt;li&gt;MD: -8.33 dB P &amp;lt; 0.5%&lt;/li&gt;
&lt;li&gt;PSD: 10.06 dB P &amp;lt; 0.5%&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;每一个视野报告的pdf中, 这一段除了数字不同, 其他都是类似的. 那么要把这些数字提取出来, 就要先定位, 然后剪切出想要的片段. 这时候就需要正则表达式了&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在python中, 处理正则表达式的工具包叫做re, 在其他语言中也有相应的工具包. 下面以python为例进行讲解.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"False POS Errors: False NEG Errors: Test Duration: Blind Spot Central 1/13 15&lt;/span&gt;&lt;span class="si"&gt;% X&lt;/span&gt;&lt;span class="s2"&gt;X 5&lt;/span&gt;&lt;span class="si"&gt;% G&lt;/span&gt;&lt;span class="s2"&gt;HT: VFI: MD: PSD: Outside Normal Limits 76% -8.33 dB P &amp;lt; 0.5% 10.06 dB P &amp;lt; 0.5%"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;观察一下这些数据我们会发现一些pattern, 比如这些数据都跟%有关, MD和PSD的单位是dB.&lt;/p&gt;
&lt;p&gt;曹安民教授讲课时说过"眼科就是pattern recognition, 如果不能识别出pattern来, 你就hopeless了"&lt;/p&gt;
&lt;p&gt;False NEG Errors, False NEG Errors, VFI的pattern很明显, 数字然后紧跟着%. 
要描述这个pattern可以用以下规则:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;[0-9]&lt;/code&gt;, 表示这是一个字符, 取值可以选取从0到9的数字&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[0-9]+&lt;/code&gt;, 表示这里有数字, 至少有一位数, 可以有多位数&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[0-9]+%&lt;/code&gt;, 表示这里有数字, 至少有一位数, 可以有多位数, 后面紧跟着一个%号. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们可以使用python re工具包里面的findall函数来测试一下:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"\d+%"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[5]:&lt;/div&gt;



&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;['15%', '5%', '76%', '5%', '5%']&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;很容易就把False NEG Errors, False NEG Errors, VFI的数据给分出来了.&lt;/p&gt;
&lt;p&gt;那么MD和PSD也类似, 都有以dB为结尾的特征,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[0-9]+ dB: 有至少一位数字, 可以有多位, 以空格和dB作为结尾&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"[0-9]+ dB"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[6]:&lt;/div&gt;



&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;['33 dB', '06 dB']&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;这时候没有提取出-8.33, 只是提取出了33 dB, 需要考虑到数字中还可能有正负号和小数点. 所以会更复杂一些:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;\-&lt;/code&gt; 表示-号, 因为-号在正则表达式中还有其他的含义, 所以要前面加一个\表示区分, 类似的还有&lt;code&gt;\.&lt;/code&gt;表示小数点&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\-*&lt;/code&gt;表示-号这个字符可以出现0次, 也可以出现多次. &lt;ul&gt;
&lt;li&gt;用*来表示出现0次或多次, &lt;/li&gt;
&lt;li&gt;用+来表示出现1次或多次&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;那么-8.33 dB和10.06 dB的pattern是: 有或者没有-号, 然后跟0个或者多个数字, 再接着是0个或者1个小数点, 然后是一定会有的数字, 再后面是空格和dB. 用正则表达式写出来就是:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;\-*[0-9]*\.*[0-9]+ dB&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"\-*[0-9]*\.*[0-9]+ dB"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[7]:&lt;/div&gt;



&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;['-8.33 dB', '10.06 dB']&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;现在已经可以提取出了数字和后面的单位, 但这还是字符, 要处理成数据还要再拆分, 也有简单的方案, 就是用()来给搜索的pattern分组: (-&lt;em&gt;[0-9]&lt;/em&gt;.*[0-9]+)描述的是数据部分, ( dB)描述的是单位部分.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"(\-*[0-9]*\.*[0-9]+)( dB)"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[8]:&lt;/div&gt;



&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[('-8.33', ' dB'), ('10.06', ' dB')]&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;这样就容易进行后续的处理了.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="一些常用的正则表达式:"&gt;一些常用的正则表达式:&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist-0/#%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F:"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;我处理了写文档, 觉得常用的也不多:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[0-9]或者\d表示数字&lt;/li&gt;
&lt;li&gt;[a-z]表示小写字母&lt;/li&gt;
&lt;li&gt;[A-Z]表示大写字母&lt;/li&gt;
&lt;li&gt;\n\t表示换行和tab&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+和*&lt;/code&gt;表示前面的字符可以出现多次, 其中+是表示至少出现1次, *没有这个限制&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在&lt;a href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist"&gt;下一篇的练习中&lt;/a&gt;, 还会再讲解一些更好用的技巧, 可以处理更为复杂的pattern.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist-0/</guid><pubDate>Mon, 12 Mar 2018 07:00:00 GMT</pubDate></item><item><title>面向眼科医生的正则表达式(1)-练习</title><link>https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;以从抗体序列中定位CDR来练习正则表达式.&lt;/p&gt;
&lt;p&gt;这个练习中, 我们将会使用这样一些正则表达式:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[A-Z]: 任意字母&lt;/li&gt;
&lt;li&gt;[A-Z]{3}: 任意字母重复3次&lt;/li&gt;
&lt;li&gt;[A-Z]{3,5}: 任意字母重复至少3次, 至多5次&lt;/li&gt;
&lt;li&gt;[A-Z]*?C: 任意字母重复0次或多次直到第一次遇到字母C&lt;/li&gt;
&lt;li&gt;WYQ|WLQ|WFQ|WYL: 在WYQ, WLQ, WFQ, WYL之中选1个&lt;/li&gt;
&lt;li&gt;^A:  以字母A开头&lt;!-- TEASER_END --&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="定位抗体序列中的CDR"&gt;定位抗体序列中的CDR&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#%E5%AE%9A%E4%BD%8D%E6%8A%97%E4%BD%93%E5%BA%8F%E5%88%97%E4%B8%AD%E7%9A%84CDR"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在设计抗体时, 如何找出抗体序列中的CDR是一个问题,&lt;/p&gt;
&lt;p&gt;按照&lt;a href="http://www.bioinf.org.uk/abs/#cdrdef"&gt;这个网页&lt;/a&gt;上所描述的方法, 也可以使用对序列进行分析&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="轻链的CDR-L"&gt;轻链的CDR-L&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#%E8%BD%BB%E9%93%BE%E7%9A%84CDR-L"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;ul&gt;
&lt;li&gt;CDR-L1&lt;ul&gt;
&lt;li&gt;Start Approx residue 24&lt;/li&gt;
&lt;li&gt;Residue before    always a Cys&lt;/li&gt;
&lt;li&gt;Residue after always a Trp. Typically Trp-Tyr-Gln, but also, Trp-Leu-Gln, Trp-Phe-Gln, Trp-Tyr-Leu&lt;/li&gt;
&lt;li&gt;Length    10 to 17 residues&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CDR-L2&lt;ul&gt;
&lt;li&gt;Start always 16 residues after the end of L1&lt;/li&gt;
&lt;li&gt;Residues before   generally Ile-Tyr, but also, Val-Tyr, Ile-Lys, Ile-Phe&lt;/li&gt;
&lt;li&gt;Length    always 7 residues (except NEW (7FAB) which has a deletion in this region)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CDR-L3&lt;ul&gt;
&lt;li&gt;Start always 33 residues after end of L2 (except NEW (7FAB) which has the deletion at the end of CDR-L2)&lt;/li&gt;
&lt;li&gt;Residue before    always Cys&lt;/li&gt;
&lt;li&gt;Residues after    always Phe-Gly-XXX-Gly&lt;/li&gt;
&lt;li&gt;Length    7 to 11 residues&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;以大名鼎鼎的&lt;a href="https://www.drugbank.ca/drugs/DB01270"&gt;Lucentis(Ranibizumab)序列&lt;/a&gt;为例&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="n"&gt;VL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"DIQLTQSPSSLSASVGDRVTITCSASQDISNYLNWYQQKPGKAPKVLIYFTSSLHSGVPS&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="s2"&gt;RFSGSGSGTDFTLTISSLQPEDFATYYCQQYSTVPWTFGQGTKVEIKRTVAAPSVFIFPP&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="s2"&gt;SDEQLKSGTASVVCLLNNFYPREAKVQWKVDNALQSGNSQESVTEQDSKDSTYSLSSTLT&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="s2"&gt;LSKADYEKHKVYACEVTHQGLSSPVTKSFNRGEC"&lt;/span&gt;
&lt;span class="n"&gt;VH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"EVQLVESGGGLVQPGGSLRLSCAASGYDFTHYGMNWVRQAPGKGLEWVGWINTYTGEPTY&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="s2"&gt;AADFKRRFTFSLDTSKSTAYLQMNSLRAEDTAVYYCAKYPYYYGTSHWYFDVWGQGTLVT&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="s2"&gt;VSSASTKGPSVFPLAPSSKSTSGGTAALGCLVKDYFPEPVTVSWNSGALTSGVHTFPAVL&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="s2"&gt;QSSGLYSLSSVVTVPSSSLGTQTYICNVNHKPSNTKVDKKVEPKSCDKTHL"&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"&amp;gt;Ranibizumab Light Chain&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;VL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"&amp;gt;Ranibizumab Heavy Chain&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;VH&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;&amp;gt;Ranibizumab Light Chain
 DIQLTQSPSSLSASVGDRVTITCSASQDISNYLNWYQQKPGKAPKVLIYFTSSLHSGVPSRFSGSGSGTDFTLTISSLQPEDFATYYCQQYSTVPWTFGQGTKVEIKRTVAAPSVFIFPPSDEQLKSGTASVVCLLNNFYPREAKVQWKVDNALQSGNSQESVTEQDSKDSTYSLSSTLTLSKADYEKHKVYACEVTHQGLSSPVTKSFNRGEC
&amp;gt;Ranibizumab Heavy Chain
 EVQLVESGGGLVQPGGSLRLSCAASGYDFTHYGMNWVRQAPGKGLEWVGWINTYTGEPTYAADFKRRFTFSLDTSKSTAYLQMNSLRAEDTAVYYCAKYPYYYGTSHWYFDVWGQGTLVTVSSASTKGPSVFPLAPSSKSTSGGTAALGCLVKDYFPEPVTVSWNSGALTSGVHTFPAVLQSSGLYSLSSVVTVPSSSLGTQTYICNVNHKPSNTKVDKKVEPKSCDKTHL
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="CDR-L1"&gt;CDR-L1&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#CDR-L1"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;h5 id="CDR-L1之前的部分"&gt;CDR-L1之前的部分&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#CDR-L1%E4%B9%8B%E5%89%8D%E7%9A%84%E9%83%A8%E5%88%86"&gt;¶&lt;/a&gt;&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;开始于第24个字母: &lt;ul&gt;
&lt;li&gt;正则表达式: &lt;code&gt;^[A-Z]{24}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;^表示从字符串开始&lt;/li&gt;
&lt;li&gt;[A-Z]表示一个字母&lt;/li&gt;
&lt;li&gt;{24}, 表示该字母重复了24次.&lt;/li&gt;
&lt;li&gt;但其实CDR序列开始于第24个字母, 它前面应该是24-1=23个字母, 所以应当是^[A-Z]{23}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;序列之前总是Cys(单字母C): &lt;code&gt;(^([A-Z]{22})C)&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;也就是CDR之前的序列最后一个字母是C, 那么又用掉一个字母, 应当是23-1=22&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;python有个正则表达式的package叫re, 其中re.findall(表达式, 目标字符串), 可以从目标字符串中找到正则表达式所描述的子串, 用括号把正则表达式括起来的话, 就是说这是一个部分&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_before&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{22}&lt;/span&gt;&lt;span class="s2"&gt;C)"&lt;/span&gt;
&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_before&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;VL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[2]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;['DIQLTQSPSSLSASVGDRVTITC']&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h5 id="CDR-L1序列的部分"&gt;CDR-L1序列的部分&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#CDR-L1%E5%BA%8F%E5%88%97%E7%9A%84%E9%83%A8%E5%88%86"&gt;¶&lt;/a&gt;&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;长度是10 to 17个字母: &lt;ul&gt;
&lt;li&gt;正则表达式: [A-Z]{10,17}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_itself&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{10,17})"&lt;/span&gt;
&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_before&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_itself&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;VL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# 注意现在还没有定义结尾部分, 所以会直接找到{10, 17}中最大的17这个值&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[3]:&lt;/div&gt;




&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[('DIQLTQSPSSLSASVGDRVTITC', 'SASQDISNYLNWYQQKP')]&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h5 id="CDR-L1序列之后的部分"&gt;CDR-L1序列之后的部分&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#CDR-L1%E5%BA%8F%E5%88%97%E4%B9%8B%E5%90%8E%E7%9A%84%E9%83%A8%E5%88%86"&gt;¶&lt;/a&gt;&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;序列之后总是Trp(单字母W). 典型的是Trp-Tyr-Gln(WYQ), 但也可能Trp-Leu-Gln(WLQ), Trp-Phe-Gln(WFQ), Trp-Tyr-Leu(WYL): &lt;ul&gt;
&lt;li&gt;正则表达式: &lt;code&gt;(WYQ|WLQ|WFQ|WYL)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;用|表示或的关系, 考虑到可读性, 我还是把所有的W都写出来了&lt;/li&gt;
&lt;li&gt;如果不想记住语言的优先级, 加括号会更安全一些: &lt;code&gt;((WYQ)|(WLQ)|(WFQ)|(WYL))&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_after&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(WYQ|WLQ|WFQ|WYL)"&lt;/span&gt;
&lt;span class="n"&gt;CDR_L1_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{22}&lt;/span&gt;&lt;span class="s2"&gt;C)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{10,17})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WYQ|WLQ|WFQ|WYL)"&lt;/span&gt;
&lt;span class="n"&gt;CDR_L2_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;
&lt;span class="n"&gt;CDR_L3_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;
&lt;span class="n"&gt;CDR_L_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_L2_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_L3_pattern&lt;/span&gt;

&lt;span class="n"&gt;CDR_Ls&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_L_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;VL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_Ls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[('DIQLTQSPSSLSASVGDRVTITC', 'SASQDISNYLN', 'WYQ')]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="CDR-L2"&gt;CDR-L2&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#CDR-L2"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;L1结束后16个字母: &lt;ul&gt;
&lt;li&gt;正则表达式: [A-Z]{16}&lt;/li&gt;
&lt;li&gt;但之前有WYQ已经用掉了3个字母, 又以1个字母开头, 所以应当是[A-Z]{12}&lt;/li&gt;
&lt;li&gt;实际操作中我发现这条好像很难匹配上, 不限定字母数字好像更好些, 用[A-Z]*?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;序列长度7个字母: &lt;ul&gt;
&lt;li&gt;正则表达式: [A-Z]{7}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;序列之&lt;strong&gt;前&lt;/strong&gt;通常是Ile-Tyr(IY), but also, Val-Tyr(VY), Ile-Lys(IK), Ile-Phe(IF)&lt;ul&gt;
&lt;li&gt;正则表达式: (IY|VY|IK|IF)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{22}&lt;/span&gt;&lt;span class="s2"&gt;C)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{10,17})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WYQ|WLQ|WFQ|WYL)"&lt;/span&gt;
&lt;span class="n"&gt;CDR_L2_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?(IY|VY|IK|IF))"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]&lt;/span&gt;&lt;span class="si"&gt;{7}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?)"&lt;/span&gt; &lt;span class="c1"&gt;# 以前此处有bug&lt;/span&gt;
&lt;span class="n"&gt;CDR_L3_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;
&lt;span class="n"&gt;CDR_L_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_L2_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_L3_pattern&lt;/span&gt;

&lt;span class="n"&gt;CDR_Ls&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_L_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;VL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_Ls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[('DIQLTQSPSSLSASVGDRVTITC', 'SASQDISNYLN', 'WYQ', 'QKPGKAPKVLIY', 'IY', 'FTSSLHS', '')]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="CDR-L3"&gt;CDR-L3&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#CDR-L3"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;L2结束后第33个字母开始, 开始前总是Cys(C),&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;正则表达式: [A-Z]{33}C&lt;/li&gt;
&lt;li&gt;但前面的IY用掉了2个, 开头用掉1个, C用掉1个, 所以是[A-Z]{29}C&lt;/li&gt;
&lt;li&gt;实际操作中我发现这条好像很难匹配上, 不限定字母数字好像更好些, 用[A-Z]*?C&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;序列长度7 to 11 字母:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;正则表达式: [A-Z]{7, 11}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;序列之后总是Phe-Gly-XXX-Gly(FG?G)&lt;ul&gt;
&lt;li&gt;正则表达式: FG[A-Z]G&lt;/li&gt;
&lt;li&gt;XXX表示的是任意, 所以用[A-Z]表示&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{22}&lt;/span&gt;&lt;span class="s2"&gt;C)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{10,17})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WYQ|WLQ|WFQ|WYL)"&lt;/span&gt;
&lt;span class="n"&gt;CDR_L2_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?(IY|VY|IK|IF))"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]&lt;/span&gt;&lt;span class="si"&gt;{7}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?)"&lt;/span&gt; &lt;span class="c1"&gt;# 以前此处有bug&lt;/span&gt;
&lt;span class="n"&gt;CDR_L3_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?C)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{7,11})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(FG[A-Z]G)"&lt;/span&gt;
&lt;span class="n"&gt;CDR_L_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_L1_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_L2_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_L3_pattern&lt;/span&gt;

&lt;span class="n"&gt;CDR_Ls&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_L_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;VL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;CDR_L1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_Ls&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;CDR_L2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_Ls&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;CDR_L3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_Ls&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_Ls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_L1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR_L2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR_L3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[('DIQLTQSPSSLSASVGDRVTITC', 'SASQDISNYLN', 'WYQ', 'QKPGKAPKVLIY', 'IY', 'FTSSLHS', '', 'GVPSRFSGSGSGTDFTLTISSLQPEDFATYYC', 'QQYSTVPWT', 'FGQG')]
SASQDISNYLN FTSSLHS QQYSTVPWT
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="重链的CDR-H"&gt;重链的CDR-H&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#%E9%87%8D%E9%93%BE%E7%9A%84CDR-H"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;CDR-H1&lt;ul&gt;
&lt;li&gt;Start Approx residue 26 (always 4 after a Cys) [Chothia / AbM defintion]; Kabat definition starts 5 residues later&lt;/li&gt;
&lt;li&gt;Residues before   always Cys-XXX-XXX-XXX&lt;/li&gt;
&lt;li&gt;Residues after    always a Trp. Typically Trp-Val, but also, Trp-Ile, Trp-Ala&lt;/li&gt;
&lt;li&gt;Length    10 to 12 residues [AbM definition]; Chothia definition excludes the last 4 residues&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CDR-H2&lt;ul&gt;
&lt;li&gt;Start always 15 residues after the end of Kabat / AbM definition) of CDR-H1&lt;/li&gt;
&lt;li&gt;Residues before   typically Leu-Glu-Trp-Ile-Gly, but a number of variations&lt;/li&gt;
&lt;li&gt;Residues after    Lys/Arg-Leu/Ile/Val/Phe/Thr/Ala-Thr/Ser/Ile/Ala&lt;/li&gt;
&lt;li&gt;Length    Kabat definition 16 to 19 residues; AbM (and recent Chothia) definition ends 7 residues earlier&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CDR-H3&lt;ul&gt;
&lt;li&gt;Start always 33 residues after end of CDR-H2 (always 2 after a Cys)&lt;/li&gt;
&lt;li&gt;Residues before   always Cys-XXX-XXX (typically Cys-Ala-Arg)&lt;/li&gt;
&lt;li&gt;Residues after    always Trp-Gly-XXX-Gly&lt;/li&gt;
&lt;li&gt;Length    3 to 25(!) residues&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="CDR-H1"&gt;CDR-H1&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#CDR-H1"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;开始于26个字母后, 序列前总是 Cys-XXX-XXX-XXX: &lt;ul&gt;
&lt;li&gt;正则表达式: ^[A-Z]{21}C[A-Z]{3}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;长度10-12个字母: &lt;ul&gt;
&lt;li&gt;正则表达式: [A-Z]{10,12}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;序列后总是Trp(W). 典型Trp-Val(WV), 但也可能Trp-Ile(WI), Trp-Ala(WA)&lt;ul&gt;
&lt;li&gt;正则表达式: (WV|WI|WA)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CDR_H1_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{21}&lt;/span&gt;&lt;span class="s2"&gt;C[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{3}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{10,12})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WV|WI|WA)"&lt;/span&gt;
&lt;span class="n"&gt;CDR_H2_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;
&lt;span class="n"&gt;CDR_H3_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;
&lt;span class="n"&gt;CDR_H_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_H1_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_H2_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_H3_pattern&lt;/span&gt;

&lt;span class="n"&gt;CDR_Hs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_H_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;VH&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_Hs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[('EVQLVESGGGLVQPGGSLRLSCAAS', 'GYDFTHYGMN', 'WV')]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="CDR-H2"&gt;CDR-H2&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#CDR-H2"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;开始总是在CDR-H1结束后15个字母, 序列开始前典型是Leu-Glu-Trp-Ile-Gly(LEWIG), 但也有一堆变化(WTF)&lt;ul&gt;
&lt;li&gt;正则表达式: [A-Z]*?LEWIG&lt;/li&gt;
&lt;li&gt;此处重重吐槽下, WTF表示what the fuck! 为什么生物学不找人待见, 别说生物学了, 连有机化学都是!说个什么规律, 结果反常情况比规律还多&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;长度16到19(Kabat定义), 或者7(AbM, Chothia定义)&lt;ul&gt;
&lt;li&gt;正则表达式: [A-Z]{7,19}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;序列之后Lys/Arg-Leu/Ile/Val/Phe/Thr/Ala-Thr/Ser/Ile/Ala, 看起来生物学家也使用某种正则表达式的雏形了, 这句话的意思是Lys或者Arg, 然后Leu/Ile/Val/Phe/Thr/Ala之中的1个, 然后Thr/Ser/Ile/Ala之中的一个&lt;ul&gt;
&lt;li&gt;正则表达式: &lt;code&gt;[K|R][L|I|V|F|T|A][T|S|I|A]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CDR_H1_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{21}&lt;/span&gt;&lt;span class="s2"&gt;C[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{3}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{10,12})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WV|WI|WA)"&lt;/span&gt;
&lt;span class="n"&gt;CDR_H2_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{7,19})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([K|R][L|I|V|F|T|A][T|S|I|A])"&lt;/span&gt;
&lt;span class="n"&gt;CDR_H3_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;
&lt;span class="n"&gt;CDR_H_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_H1_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_H2_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_H3_pattern&lt;/span&gt;

&lt;span class="n"&gt;CDR_Hs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_H_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;VH&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_Hs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[('EVQLVESGGGLVQPGGSLRLSCAAS', 'GYDFTHYGMN', 'WV', 'RQAPGKGLEW', 'VGWINTYTGEPTYAADFKR', 'RFT')]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="CDR-H3"&gt;CDR-H3&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#CDR-H3"&gt;¶&lt;/a&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;开时于CDR-H2后33个字母, 序列前总是Cys-XXX-XXX (典型是 Cys-Ala-Arg): &lt;ul&gt;
&lt;li&gt;正则表达式: &lt;code&gt;[A-Z]*? C[A-Z]{2}&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;长度通常是3到25个字母: &lt;ul&gt;
&lt;li&gt;正则表达式: [A-Z]{3,25}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;序列之后总是Trp-Gly-XXX-Gly&lt;ul&gt;
&lt;li&gt;正则表达式: WG[A-Z]G&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;CDR_H1_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{21}&lt;/span&gt;&lt;span class="s2"&gt;C[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{3}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{10,12})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WV|WI|WA)"&lt;/span&gt;
&lt;span class="n"&gt;CDR_H2_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{7,19})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([K|R][L|I|V|F|T|A][T|S|I|A])"&lt;/span&gt;
&lt;span class="n"&gt;CDR_H3_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?C[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{2}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{3,25})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WG[A-Z]G)"&lt;/span&gt;
&lt;span class="n"&gt;CDR_H_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_H1_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_H2_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR_H3_pattern&lt;/span&gt;

&lt;span class="n"&gt;CDR_Hs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_H_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;VH&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_Hs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;CDR_H1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_Hs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;CDR_H2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_Hs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;CDR_H3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR_Hs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_H1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR_H2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR_H3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[('EVQLVESGGGLVQPGGSLRLSCAAS', 'GYDFTHYGMN', 'WV', 'RQAPGKGLEW', 'VGWINTYTGEPTYAADFKR', 'RFT', 'FSLDTSKSTAYLQMNSLRAEDTAVYYCAK', 'YPYYYGTSHWYFDV', 'WGQG')]
GYDFTHYGMN VGWINTYTGEPTYAADFKR YPYYYGTSHWYFDV
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="识别CDR的函数"&gt;识别CDR的函数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#%E8%AF%86%E5%88%ABCDR%E7%9A%84%E5%87%BD%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;综上, 可以整合成一组函数, 专门用来识别CDR.
在实际使用中, HC CDR是有多种定义方式的, 所以采用了分类讨论的方式&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;search_CDR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;loc1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;loc2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;loc3&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="c1"&gt;# 根据pattern在seq中搜索CDR&lt;/span&gt;
    &lt;span class="c1"&gt;# loc1,loc2,loc3标明CDR在各个片段中的位置&lt;/span&gt;
    &lt;span class="n"&gt;CDR_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;
    &lt;span class="n"&gt;CDRs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;# 有可能CDR_pattern不能匹配出结果, 因此用try&lt;/span&gt;
        &lt;span class="c1"&gt;#CDR1_pattern, CDR2_pattern, CDR3_pattern, 每个都会匹配出若干结果, 需要根据loc提取&lt;/span&gt;
        &lt;span class="n"&gt;CDR1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDRs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;loc1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;CDR2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDRs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;loc2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;CDR3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDRs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;loc3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; 
        &lt;span class="c1"&gt;# 当CDR_pattern无法匹配时, 尽量找出错误的区域&lt;/span&gt;
        &lt;span class="c1"&gt;# 于是分别匹配各自的pattern, 如果发现匹配错误, 则单独用? 表示&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;CDR1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"?&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;loc1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;CDR1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"?&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;CDR2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"?&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;loc2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;CDR2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"?&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;CDR3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"?&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;loc3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;CDR3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"?"&lt;/span&gt;    
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;CDR1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;LC_to_CDR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;defintion&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"Kabat"&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;'''&lt;/span&gt;
&lt;span class="sd"&gt;    根据http://www.bioinf.org.uk/abs/#cdrdef中记载的规则, 寻找LC CDR序列&lt;/span&gt;
&lt;span class="sd"&gt;    '''&lt;/span&gt;
    &lt;span class="c1"&gt;# 如果匹配成功, re.findall返回3段序列, CDR前, CDR自身, CDR后, CDR自身位于1号位置&lt;/span&gt;
    &lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{22}&lt;/span&gt;&lt;span class="s2"&gt;C)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{10,17})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WYQ|WLQ|WFQ|WYL)"&lt;/span&gt;
    &lt;span class="c1"&gt;# 如果匹配成功, re.findall返回4!段序列, CDR前, (IY|VY|IK|IF之一), CDR自身, CDR后, CDR自身位于2号位置&lt;/span&gt;
    &lt;span class="c1"&gt;# CDR1与2之间使用松弛匹配, 没有严格限定字母数&lt;/span&gt;
    &lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?(IY|VY|IK|IF))"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]&lt;/span&gt;&lt;span class="si"&gt;{7}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?)"&lt;/span&gt; 
    &lt;span class="c1"&gt;# 如果匹配成功, re.findall返回3段序列, CDR前, CDR自身, CDR后, CDR自身位于1号位置&lt;/span&gt;
    &lt;span class="c1"&gt;# CDR2与3之间使用松弛匹配, 没有严格限定字母数&lt;/span&gt;
    &lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?C)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{7,11})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(FG[A-Z]G)"&lt;/span&gt;
    &lt;span class="n"&gt;CDR_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;search_CDR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;HC_to_CDR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;defintion&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"Kabat"&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;'''&lt;/span&gt;
&lt;span class="sd"&gt;    根据http://www.bioinf.org.uk/abs/#cdrdef中记载的规则, 寻找HC CDR序列&lt;/span&gt;
&lt;span class="sd"&gt;    '''&lt;/span&gt;
    &lt;span class="c1"&gt;# 使用Kabat定义&lt;/span&gt;
    &lt;span class="c1"&gt;# 如果匹配成功, re.findall返回3段序列, CDR前, CDR自身, CDR后, CDR自身位于1号位置&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;defintion&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"Kabat"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{21}&lt;/span&gt;&lt;span class="s2"&gt;C[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{8}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{5,7})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WV|WI|WA)"&lt;/span&gt;
        &lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]&lt;/span&gt;&lt;span class="si"&gt;{12}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{16,19})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([K|R][L|I|V|F|T|A][T|S|I|A])"&lt;/span&gt;
        &lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?C[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{2}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{3,25})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WG[A-Z]G)"&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;defintion&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"AbM"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{21}&lt;/span&gt;&lt;span class="s2"&gt;C[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{3}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{10,12})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WV|WI|WA)"&lt;/span&gt;
        &lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]&lt;/span&gt;&lt;span class="si"&gt;{12}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{9,12})[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{7}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([K|R][L|I|V|F|T|A][T|S|I|A])"&lt;/span&gt;
        &lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?C[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{2}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{3,25})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WG[A-Z]G)"&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;defintion&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"Chothia"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"(^[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{21}&lt;/span&gt;&lt;span class="s2"&gt;C[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{3}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{6,8})[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{4}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WV|WI|WA)"&lt;/span&gt;
        &lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]&lt;/span&gt;&lt;span class="si"&gt;{12}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{9,12})[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{7}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([K|R][L|I|V|F|T|A][T|S|I|A])"&lt;/span&gt;
        &lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]*?C[A-Z]&lt;/span&gt;&lt;span class="si"&gt;{2}&lt;/span&gt;&lt;span class="s2"&gt;)"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"([A-Z]{3,25})"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;"(WG[A-Z]G)"&lt;/span&gt;
    &lt;span class="n"&gt;CDR_pattern&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;
    &lt;span class="n"&gt;CDRs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;search_CDR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CDR1_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR2_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;CDR3_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;seq&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;还是用Lucentis测试一下&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [14]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;VL&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;LC_to_CDR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;VL&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;DIQLTQSPSSLSASVGDRVTITCSASQDISNYLNWYQQKPGKAPKVLIYFTSSLHSGVPSRFSGSGSGTDFTLTISSLQPEDFATYYCQQYSTVPWTFGQGTKVEIKRTVAAPSVFIFPPSDEQLKSGTASVVCLLNNFYPREAKVQWKVDNALQSGNSQESVTEQDSKDSTYSLSSTLTLSKADYEKHKVYACEVTHQGLSSPVTKSFNRGEC
['SASQDISNYLN', 'FTSSLHS', 'QQYSTVPWT']
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="n"&gt;defintion_list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"Kabat"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"AbM"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"Chothia"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;HCCDR_df_list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;defintion_list&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;HCCDRs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;HC_to_CDR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;VH&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;defintion&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;HCCDR_df_list&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;HCCDRs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;HCCDR_df_list&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;defintion_list&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"CDR 1"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"CDR 2"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"CDR 3"&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;

&lt;div class="prompt output_prompt"&gt;Out[18]:&lt;/div&gt;



&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe"&gt;
  &lt;thead&gt;
    &lt;tr style="text-align: right;"&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;CDR 1&lt;/th&gt;
      &lt;th&gt;CDR 2&lt;/th&gt;
      &lt;th&gt;CDR 3&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;Kabat&lt;/th&gt;
      &lt;td&gt;HYGMN&lt;/td&gt;
      &lt;td&gt;WINTYTGEPTYAADFKR&lt;/td&gt;
      &lt;td&gt;YPYYYGTSHWYFDV&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;AbM&lt;/th&gt;
      &lt;td&gt;GYDFTHYGMN&lt;/td&gt;
      &lt;td&gt;WINTYTGEPT&lt;/td&gt;
      &lt;td&gt;YPYYYGTSHWYFDV&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;Chothia&lt;/th&gt;
      &lt;td&gt;GYDFTH&lt;/td&gt;
      &lt;td&gt;WINTYTGEPT&lt;/td&gt;
      &lt;td&gt;YPYYYGTSHWYFDV&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="总结"&gt;总结&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#%E6%80%BB%E7%BB%93"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;在这个练习中使用了一些正则表达式:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[A-Z]: 任意字母&lt;/li&gt;
&lt;li&gt;[A-Z]{3}: 任意字母重复3次&lt;/li&gt;
&lt;li&gt;[A-Z]{3,5}: 任意字母重复至少3次, 至多5次&lt;/li&gt;
&lt;li&gt;[A-Z]*?C: 任意字母重复0次或多次直到第一次遇到字母C&lt;/li&gt;
&lt;li&gt;WYQ|WLQ|WFQ|WYL: 在WYQ, WLQ, WFQ, WYL之中选1个&lt;/li&gt;
&lt;li&gt;^A:  以字母A开头&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;仅仅使用这些就已经可以从抗体序列中找到CDR了&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="更新"&gt;更新&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/#%E6%9B%B4%E6%96%B0"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;(2018-3-26)
在之前的blog中, 对LC-CDR2的定义写错了. 把&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;"序列之前通常是Ile-Tyr(IY), but also, Val-Tyr(VY), Ile-Lys(IK), Ile-Phe(IF)"
错当成了&lt;/li&gt;
&lt;li&gt;"序列之后通常是Ile-Tyr(IY), but also, Val-Tyr(VY), Ile-Lys(IK), Ile-Phe(IF)"&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;已经修改了代码&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/reg101-for-ophthalmologist/</guid><pubDate>Sun, 11 Mar 2018 04:00:00 GMT</pubDate></item><item><title>统计图清理</title><link>https://goldengrape.github.io/posts/python/dejunkifying-a-plot/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;最近正在学&lt;a href="https://www.coursera.org/learn/python-plotting/home/welcome"&gt;Applied Plotting, Charting &amp;amp; Data Representation in Python&lt;/a&gt;, 老师在第一周的课程中先讲了一遍统计图的审美, 其中有一段是展示如何将图中无用的部分清除, 所谓Dejunkify, 以强调显示主题. 感觉非常好. 完成第二周的作业后, 我应该是能够用matplotlib进行基本的画图了. 所以试着把这个例子重现一遍.&lt;/p&gt;
&lt;p&gt;课程中的例子来自于&lt;a href="https://www.darkhorseanalytics.com/blog/data-looks-better-naked"&gt;Dark Horse&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;爱德华·图夫特（Edward Tufte）在他1983年经典的著作&lt;a href="http://www.humanities.ufl.edu/pdf/tufte-aesthetics_and_technique.pdf"&gt;“量化信息的视觉显示”&lt;/a&gt;（The Visual Display of Quantitative Information） 一书中指出：“数据墨水(Data-ink)是图像中不可抹去的核心，是为了反映数字的变化而安排的不可或缺的印迹”&lt;/p&gt;
&lt;p&gt;Edward Tufte introduced the concept of data-ink in his 1983 classic The Visual Display of Quantitative Information. In it he states "Data-ink is the non-erasable core of the graphic, the non-redundant ink arranged in response to variation in the numbers represented" (emphasis mine).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一个"好"的统计图, 应当是尽可能多的保留data ink, 尽可能少的chart junk. 这一段动画显示了如何把一个凌乱的统计图删减到只包含必要的"Data-ink"的过程. 
&lt;img src="http://static1.squarespace.com/static/56713bf4dc5cb41142f28d1f/5671e8bf816924fc22651410/5671eae2816924fc2265189a/1450306274301/data-ink.gif" alt=""&gt;&lt;/p&gt;
&lt;p&gt;接下来我试着用matplotlib重现这个过程, 也算是参照&lt;a href="https://goldengrape.github.io/posts/python/cheatsheet/Matplotlib_cheat_sheet"&gt;matplotlib cheat sheet&lt;/a&gt; 的一次练习. 
&lt;!-- TEASER_END --&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="基本数据"&gt;基本数据&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;数据很简单, 五种食物中每100g所含的热量. 以卡路里为单位:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;炸薯条: 607&lt;/li&gt;
&lt;li&gt;薯片: 542&lt;/li&gt;
&lt;li&gt;培根: 533&lt;/li&gt;
&lt;li&gt;披萨: 296&lt;/li&gt;
&lt;li&gt;热狗: 260&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [68]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;matplotlib&lt;/span&gt; &lt;span class="n"&gt;inline&lt;/span&gt;

&lt;span class="n"&gt;cal&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;607&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;542&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;533&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;296&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;260&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;food&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"French &lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt; Fries"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Potato&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;Chips"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Bacon"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Pizza"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"Chili Dog"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# 我没办法使用中文label, 至少目前是&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cal&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[68]:&lt;/div&gt;



&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;French \n Fries    607
Potato\nChips      542
Bacon              533
Pizza              296
Chili Dog          260
dtype: int64&lt;/pre&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="matplotlib绘图策略"&gt;matplotlib绘图策略&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#matplotlib%E7%BB%98%E5%9B%BE%E7%AD%96%E7%95%A5"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;之前说过&lt;a href="https://goldengrape.github.io/posts/python/pandaszhong-ji-he-de-yun-suan"&gt;pandas的最佳实践&lt;/a&gt;是:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;确定你需要的数据文件是什么名字&lt;/li&gt;
&lt;li&gt;去stackoverflow搜数据文件名字看看教程. &lt;/li&gt;
&lt;li&gt;如果不能满足自己的要求, 提个问题, 然后等一周. &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;对于MatPlotLib, 我估计最佳实践是这样的:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;打开&lt;a href="https://matplotlib.org/gallery/"&gt;matplotlib的gallery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;看看那张图长得像你想要的. &lt;/li&gt;
&lt;li&gt;打开链接然后copy代码改改. &lt;/li&gt;
&lt;/ol&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="基础bar图"&gt;基础bar图&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#%E5%9F%BA%E7%A1%80bar%E5%9B%BE"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;三句话, 看起来还蛮简洁的. 所以我决定先去实现最终效果. 然后逆序表现Dejunkify过程. 说实话还挺难的&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [72]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXoAAAD8CAYAAAB5Pm/hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz%0AAAALEgAACxIB0t1+/AAADtVJREFUeJzt3V+IXPd5h/HnG8mxQ9I2Nt4uQhKVLpYEOWC7LKqLS0kj%0AUqtxiHxRzAYS1KKiG6U4EEil3pRcCHwV0ou6IJI0gqQRS/5gkYQUVXEIhWBlnTh/JFl4iS0kIVkb%0Ah5CkFwpS3l7scRi70c6MdmbH/u3zATFnfnOO5j0YPz6c3RmnqpAktetNkx5AkjRehl6SGmfoJalx%0Ahl6SGmfoJalxhl6SGmfoJalxhl6SGmfoJalxGyc9AMDdd99d27Ztm/QYkvSG8swzz/ysqqb67fe6%0ACP22bdtYWFiY9BiS9IaS5Pwg+3nrRpIaZ+glqXGGXpIaZ+glqXGGXpIaZ+glqXGGXpIaN1Dok7w9%0AyZeSPJfkbJI/T3JXkhNJnu8e7+zZ/1CSxSTnkjw0vvElSf0MekX/r8A3q+qdwL3AWeAgcLKqZoCT%0A3XOS7ADmgHuA3cATSTaMenBJ0mD6fjI2yR8Bfwn8HUBV/Qb4TZI9wLu73Y4C3wb+CdgDHKuqa8AL%0ASRaBncB3Rzz772w7+PVx/dVr6sXHH570CJIaNMgV/XZgCfiPJD9I8ukkbwWmq+pyt88VYLrb3gxc%0A6Dn+YrcmSZqAQUK/EfhT4N+r6n7gf+lu07yiqgqoYd44yf4kC0kWlpaWhjlUkjSEQUJ/EbhYVU93%0Az7/EcvhfSrIJoHu82r1+Cdjac/yWbu1VqupIVc1W1ezUVN8vX5Mk3aK+oa+qK8CFJO/olnYBZ4Dj%0AwN5ubS/wZLd9HJhLcnuS7cAMcGqkU0uSBjbo1xT/I/CFJG8Gfgr8Pcv/kZhPsg84DzwKUFWnk8yz%0A/B+D68CBqrox8sklSQMZKPRV9Sww+3te2nWT/Q8Dh1cxlyRpRPxkrCQ1ztBLUuMMvSQ1ztBLUuMM%0AvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1btD/8Yhep7Yd%0A/PqkRxiZFx9/eNIjSE3yil6SGmfoJalx3rrRG5a3raTBeEUvSY0z9JLUOEMvSY0z9JLUOEMvSY0z%0A9JLUOEMvSY0bKPRJXkzy4yTPJlno1u5KciLJ893jnT37H0qymORckofGNbwkqb9hruj/qqruq6rZ%0A7vlB4GRVzQAnu+ck2QHMAfcAu4EnkmwY4cySpCGs5tbNHuBot30UeKRn/VhVXauqF4BFYOcq3keS%0AtAqDhr6A/07yTJL93dp0VV3utq8A0932ZuBCz7EXu7VXSbI/yUKShaWlpVsYXZI0iEG/6+YvqupS%0Akj8GTiR5rvfFqqokNcwbV9UR4AjA7OzsUMdKkgY30BV9VV3qHq8CX2X5VsxLSTYBdI9Xu90vAVt7%0ADt/SrUmSJqBv6JO8NckfvLIN/DXwE+A4sLfbbS/wZLd9HJhLcnuS7cAMcGrUg0uSBjPIrZtp4KtJ%0AXtn/P6vqm0m+B8wn2QecBx4FqKrTSeaBM8B14EBV3RjL9JKkvvqGvqp+Ctz7e9ZfBnbd5JjDwOFV%0ATydJWjU/GStJjTP0ktQ4Qy9JjTP0ktQ4Qy9JjTP0ktQ4Qy9JjTP0ktQ4Qy9JjTP0ktQ4Qy9JjTP0%0AktQ4Qy9JjTP0ktQ4Qy9JjTP0ktQ4Qy9JjTP0ktQ4Qy9JjTP0ktQ4Qy9JjTP0ktQ4Qy9JjTP0ktQ4%0AQy9JjRs49Ek2JPlBkq91z+9KciLJ893jnT37HkqymORckofGMbgkaTDDXNE/BpzteX4QOFlVM8DJ%0A7jlJdgBzwD3AbuCJJBtGM64kaVgDhT7JFuBh4NM9y3uAo932UeCRnvVjVXWtql4AFoGdoxlXkjSs%0AQa/oPwV8HPhtz9p0VV3utq8A0932ZuBCz34Xu7VXSbI/yUKShaWlpeGmliQNrG/ok7wfuFpVz9xs%0An6oqoIZ546o6UlWzVTU7NTU1zKGSpCFsHGCfB4EPJHkfcAfwh0k+D7yUZFNVXU6yCbja7X8J2Npz%0A/JZuTZI0AX2v6KvqUFVtqaptLP+Q9VtV9SHgOLC3220v8GS3fRyYS3J7ku3ADHBq5JNLkgYyyBX9%0AzTwOzCfZB5wHHgWoqtNJ5oEzwHXgQFXdWPWkkqRbMlToq+rbwLe77ZeBXTfZ7zBweJWzSZJGwE/G%0ASlLjDL0kNc7QS1LjDL0kNc7QS1LjDL0kNc7QS1LjDL0kNc7QS1LjDL0kNc7QS1LjDL0kNc7QS1Lj%0ADL0kNc7QS1LjDL0kNc7QS1LjDL0kNc7QS1LjDL0kNc7QS1LjDL0kNc7QS1LjDL0kNc7QS1Lj+oY+%0AyR1JTiX5YZLTST7Rrd+V5ESS57vHO3uOOZRkMcm5JA+N8wQkSSsb5Ir+GvCeqroXuA/YneQB4CBw%0AsqpmgJPdc5LsAOaAe4DdwBNJNoxjeElSf31DX8t+3T29rftTwB7gaLd+FHik294DHKuqa1X1ArAI%0A7Bzp1JKkgQ10jz7JhiTPAleBE1X1NDBdVZe7Xa4A0932ZuBCz+EXu7XX/p37kywkWVhaWrrlE5Ak%0ArWyg0FfVjaq6D9gC7Ezyrte8Xixf5Q+sqo5U1WxVzU5NTQ1zqCRpCBuH2bmqfpHkKZbvvb+UZFNV%0AXU6yieWrfYBLwNaew7Z0a5JGaNvBr096hJF48fGHJz1C8wb5rZupJG/vtt8CvBd4DjgO7O122ws8%0A2W0fB+aS3J5kOzADnBr14JKkwQxyRb8JONr95sybgPmq+lqS7wLzSfYB54FHAarqdJJ54AxwHThQ%0AVTfGM74kqZ++oa+qHwH3/571l4FdNznmMHB41dNJklbNT8ZKUuMMvSQ1ztBLUuMMvSQ1ztBLUuMM%0AvSQ1ztBLUuMMvSQ1bqjvupGk14NWvucH1ua7fryil6TGGXpJapyhl6TGGXpJapyhl6TGGXpJapyh%0Al6TGGXpJapyhl6TGGXpJapyhl6TGGXpJapyhl6TGGXpJapyhl6TGGXpJalzf0CfZmuSpJGeSnE7y%0AWLd+V5ITSZ7vHu/sOeZQksUk55I8NM4TkCStbJAr+uvAx6pqB/AAcCDJDuAgcLKqZoCT3XO61+aA%0Ae4DdwBNJNoxjeElSf31DX1WXq+r73favgLPAZmAPcLTb7SjwSLe9BzhWVdeq6gVgEdg56sElSYMZ%0A6h59km3A/cDTwHRVXe5eugJMd9ubgQs9h13s1iRJEzBw6JO8Dfgy8NGq+mXva1VVQA3zxkn2J1lI%0AsrC0tDTMoZKkIQwU+iS3sRz5L1TVV7rll5Js6l7fBFzt1i8BW3sO39KtvUpVHamq2aqanZqautX5%0AJUl9DPJbNwE+A5ytqk/2vHQc2Ntt7wWe7FmfS3J7ku3ADHBqdCNLkoaxcYB9HgQ+DPw4ybPd2j8D%0AjwPzSfYB54FHAarqdJJ54AzLv7FzoKpujHxySdJA+oa+qv4HyE1e3nWTYw4Dh1cxlyRpRPxkrCQ1%0AztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBL%0AUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1rm/ok3w2%0AydUkP+lZuyvJiSTPd4939rx2KMliknNJHhrX4JKkwQxyRf85YPdr1g4CJ6tqBjjZPSfJDmAOuKc7%0A5okkG0Y2rSRpaH1DX1XfAX7+muU9wNFu+yjwSM/6saq6VlUvAIvAzhHNKkm6Bbd6j366qi5321eA%0A6W57M3ChZ7+L3ZokaUJW/cPYqiqghj0uyf4kC0kWlpaWVjuGJOkmbjX0LyXZBNA9Xu3WLwFbe/bb%0A0q39P1V1pKpmq2p2amrqFseQJPVzq6E/DuzttvcCT/aszyW5Pcl2YAY4tboRJUmrsbHfDkm+CLwb%0AuDvJReBfgMeB+ST7gPPAowBVdTrJPHAGuA4cqKobY5pdkjSAvqGvqg/e5KVdN9n/MHB4NUNJkkbH%0AT8ZKUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBL%0AUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuMMvSQ1ztBLUuPG%0AFvoku5OcS7KY5OC43keStLKxhD7JBuDfgL8BdgAfTLJjHO8lSVrZuK7odwKLVfXTqvoNcAzYM6b3%0AkiStYFyh3wxc6Hl+sVuTJK2xVNXo/9Lkb4HdVfUP3fMPA39WVR/p2Wc/sL97+g7g3MgHGa27gZ9N%0AeogJWc/nDuv7/NfzucPr//z/pKqm+u20cUxvfgnY2vN8S7f2O1V1BDgypvcfuSQLVTU76TkmYT2f%0AO6zv81/P5w7tnP+4bt18D5hJsj3Jm4E54PiY3kuStIKxXNFX1fUkHwH+C9gAfLaqTo/jvSRJKxvX%0ArRuq6hvAN8b190/AG+Y20xis53OH9X3+6/ncoZHzH8sPYyVJrx9+BYIkNc7Q97Gev8ohyWeTXE3y%0Ak0nPstaSbE3yVJIzSU4neWzSM62lJHckOZXkh935f2LSM621JBuS/CDJ1yY9y2oZ+hX4VQ58Dtg9%0A6SEm5DrwsaraATwAHFhn/+yvAe+pqnuB+4DdSR6Y8Exr7THg7KSHGAVDv7J1/VUOVfUd4OeTnmMS%0AqupyVX2/2/4Vy//Cr5tPd9eyX3dPb+v+rJsf6CXZAjwMfHrSs4yCoV+ZX+UgkmwD7geenuwka6u7%0AdfEscBU4UVXr6fw/BXwc+O2kBxkFQy+tIMnbgC8DH62qX056nrVUVTeq6j6WP9m+M8m7Jj3TWkjy%0AfuBqVT0z6VlGxdCvrO9XOahdSW5jOfJfqKqvTHqeSamqXwBPsX5+XvMg8IEkL7J8u/Y9ST4/2ZFW%0Ax9CvzK9yWKeSBPgMcLaqPjnpedZakqkkb++23wK8F3huslOtjao6VFVbqmoby//Of6uqPjThsVbF%0A0K+gqq4Dr3yVw1lgfj19lUOSLwLfBd6R5GKSfZOeaQ09CHyY5au5Z7s/75v0UGtoE/BUkh+xfMFz%0Aoqre8L9muF75yVhJapxX9JLUOEMvSY0z9JLUOEMvSY0z9JLUOEMvSY0z9JLUOEMvSY37P6wuwv7y%0AAZTgAAAAAElFTkSuQmCC"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Dejunkify版本"&gt;Dejunkify版本&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#Dejunkify%E7%89%88%E6%9C%AC"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [234]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 自动标注数字&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;autolabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rects&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; 
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;rects&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;height&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_height&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_x&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
                 &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
                 &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                 &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"w"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="n"&gt;horizontalalignment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'center'&lt;/span&gt;
                &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;autoticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ticks&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;tick&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rects&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ticks&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_x&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_width&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
                 &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
                 &lt;span class="n"&gt;tick&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="n"&gt;horizontalalignment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'center'&lt;/span&gt;
                &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [242]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# 自定义plot时的参数&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"#CD5855"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"top"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"bottom"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"right"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"left"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# 设置外框&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    
    

&lt;span class="c1"&gt;# title&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Calories per 100g'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'left'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 如果使用ax.set(title=...), 不知道怎么设定loc&lt;/span&gt;

&lt;span class="n"&gt;rects&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# ticks&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;yaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;autoticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rects&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# labels &lt;/span&gt;
&lt;span class="n"&gt;autolabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rects&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其实, 相对后面的来说, 这个最简洁的版本反而是最容易写的. 其中稍微有点复杂的是要直接标注数字, 在这里是使用了plt.text往上写的.&lt;/p&gt;
&lt;p&gt;当使用plt.bar绘制柱状图以后, 原来产生了一个柱子的列表, 可以用for来循环访问每个柱子的参数. 通过这种方法把每个柱子上标记上数字.&lt;/p&gt;
&lt;p&gt;另一个困难是如果把x轴上的线去掉, xticks还在的话, 会出现一个细小的竖线标记. 所以只好用标记数字的方法把xticks标记在底部了.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="(undo)-Direct-Label"&gt;(undo) Direct Label&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#(undo)-Direct-Label"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [243]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# 自定义plot时的参数&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"#CD5855"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"top"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"bottom"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"right"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"left"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="c1"&gt;# 设置外框&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# title&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Calories per 100g'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'left'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Limits&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;700&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# ticks&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;rects&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;autoticks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rects&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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%0Ag97MLHP/HyE3jBCUa4GuAAAAAElFTkSuQmCC"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;显示y轴很容易, matplotlib把四面的框叫做spines, 可以分别设定每个spine.set_visible()是True还是False, 注意还需要指定y轴的范围: ax.set_ylim(0,700)&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="(undo)-Remove-Lines"&gt;(undo) Remove Lines&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#(undo)-Remove-Lines"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [247]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# 自定义plot时的参数&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"#CD5855"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"top"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"bottom"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"right"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"left"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# 设置外框&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# title&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Calories per 100g'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'left'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Limits&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;700&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# ticks&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ticks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;ticklabels&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# grid&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'y'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 我不知道怎么设定 zorder&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;水平的格线叫做grid, 如果是水平竖直都要, axis="both", 在&lt;a href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.grid.html"&gt;grid的说明&lt;/a&gt;中, 提到可以使用zorder, 但我试过很多数值, 也没办法把水平格线放到柱子后面去.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="(undo)Remove-Shade"&gt;(undo)Remove Shade&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#(undo)Remove-Shade"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;增加阴影效果太难找了, 最后&lt;a href="https://matplotlib.org/users/transforms_tutorial.html#using-offset-transforms-to-create-a-shadow-effect"&gt;终于找到&lt;/a&gt;, 
原来是要用transforms重新画一遍!&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [256]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.patches&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;patches&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.transforms&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;transforms&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# 自定义plot时的参数&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"#CD5855"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#B2B2B2'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"top"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"bottom"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"right"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"left"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# 设置外框&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# title&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Calories per 100g'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'left'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Limits&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;700&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# ticks&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ticks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;ticklabels&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;rects&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Shadow Effect!!&lt;/span&gt;

&lt;span class="c1"&gt;# shift the object over 2 points, and down 2 points&lt;/span&gt;
&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;72.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;72.&lt;/span&gt;
&lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;transforms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ScaledTranslation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dpi_scale_trans&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;shadow_transform&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transData&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;offset&lt;/span&gt;

&lt;span class="c1"&gt;# now plot the same data with our offset transform;&lt;/span&gt;
&lt;span class="c1"&gt;# use the zorder to make sure we are below the line&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'black'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;shadow_transform&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'y'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 我不知道怎么设定zorder&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXoAAAEUCAYAAAAlXv26AAAABHNCSVQICAgIfAhkiAAAAAlwSFlz%0AAAALEgAACxIB0t1+/AAAHZFJREFUeJzt3X+UXVV99/H3hwQI8ivE6DgmKKmEwYQKyhhqpT5j8wjx%0ABwaXNSYqBosrVUFr1Srp8qnoalp8XP5qJZZU1Cg/YqQiCU+txkAsKBIg/ExgJBJSEgMRhEgSjST5%0APn+cPeXMcGfmzMy9uTc7n9dad825++xz7j47935mz77nnCgiMDOzfB3U7AaYmVljOejNzDLnoDcz%0Ay5yD3swscw56M7PMOejNzDKXTdBLCknHD3Pbd0r6Ub3bZGbWCloq6CW9Q9JtkrZL2iLpB5JOb/Tr%0ARsQVEXFGo1+nniSdJOmHkh6T9KyLISSNk3SNpB2SNkp6R5/10yXdL2mnpBskvXjftd7M9qWWCXpJ%0AHwG+BPwj0Aa8CLgEeHODX3d0I/dfD/208WlgKXBeP5tdAvyBoi/fCXxV0tS0v/HA94D/A4wDbgO+%0AU+dmm1mriIimP4Cjge3A2waoMw24GXgS2AJ8BTiktD6A40v7+xbwa2Aj8EngoLTuXOCnwBeBx4F/%0ASGU3lfZ1IrAC+A3QDcwqrXsDsA54CtgMfKyf9va8zleAbcD9wPQ+x3xZOpbNqR2j+mvjAP1yfPHP%0A2KvscIqQP6FU9i3g4rQ8D/hZn/q/A05Mz58LLAd+C9ya2nZTf23www8/WvvRKiP6VwFjgGsGqLMH%0A+BtgfKo/HfhAP3X/hSJI/wj4X8C7gfeU1p8GPEgx2l1Q3lDS4RQhfyXwfGA2sFDSlFTlMuCvIuJI%0A4CTg+gHafBrwy9TmTwHfkzQurfsmsJsiqF8OnAG8t0obKzgB2B0RvyiV3QVMTctT03MAImIHsL60%0A/hJgB/ACYG56mNl+qlWC/rnAYxGxu78KEXF7RPw8InZHxEPApRQh3oukURThPD8inkp1Pw+cU6r2%0Aq4j4l7Sv3/XZxZuAhyLiG2n9HcC/A29L658Gpkg6KiKeiIg1AxzXVuBLEfF0RHyH4q+DN0pqo/jL%0A4MMRsSMitlKM3mdXbONgjqAYjZf9FjiytH5brfWp/94KfCoidkbEOmDxEF/fzFpIqwT948D4gebL%0AJZ0g6TpJj0j6LcVc/vgaVccDB1NM2fTYCEwoPX94gLa8GDhN0pM9D4o57hek9W+lCOmNkn4i6VUD%0A7GtzRJS/KN0IvDC9xsHAltJrXErxF0SVNg5mO3BUn7KjKaabBlv/PGB0n9cfSVvMrMlaJehvBnYB%0AZw9Q56sU89yTI+Io4O8A1aj3GMWou3wWyYso5sF7DHTLzoeBn0TE2NLjiIh4P0BE3BoRMylC+fsU%0AX4j2Z4KkchtfBPwqvcYuYHzpNY6KiKmluiO5regvgNGSJpfKTgbWpuW16TnwP9NVL0nlv6aYUppY%0A2vbYEbTFzJqsJYI+IrYBfw9cIulsSc+RdLCk10v6v6nakRTTC9slnQi8v5997aEI3wWSjkynDX4E%0AuLxic64DTpB0TmrDwZJeKemlkg5J59wfHRFPp/bsHWBfzwc+lPbxNuClwH9ExBbgR8DnJR0l6SBJ%0AL5H0rKmo/qgwBjgkPR8j6dDUBzsozqr5jKTD0ymqbwa+nTa/BjhJ0lvTPj4F3BUR96f++x5wUfp3%0AOJHiOw4z20+1RNADRMTnKQL5kxSjyoeBCyhGzQAfA95BMb3wbwx8OuAHKb5MfBC4ieKL1a9XbMdT%0AFF+MzqYYfT8CfBY4NFU5B3goTR+9j2Japz+3AJMp/spYAPxFRDye1r2bIqTXAU8AVwPtVdqYvJji%0ATJmeUfrvKL4D6PEB4DCK7wmuBN4fEWvTMf6aYgpqQXrtafT+fuACiqmcRyh+OVxF8ReIme2H1HsK%0A2epF0rnAeyOi4Rd8NZqkzwIviAiffWO2H2qZEb21DkknSnpZmh6aRnFR1kCnvppZCxs06CV1SLqz%0A9PitpA+nS+xXSHog/TymtM18SesldUs6s7GHYA1wJMU8/Q6KKbLPA9c2tUVmNmxDmrpJ51hvpriY%0A53zgNxFxsaQLgWMi4hPpwqKrKOZ9Xwj8mOIKzT11b72ZmQ1qqFM304FfRsRGYCbPXEizmGdOjZwJ%0ALImIXRGxgeKKy2n1aKyZmQ3dUIN+NsVoHaAtnSYIxdkZbWl5Ar0vsNlE74uVzMxsH6p850ZJh1Cc%0Aiz2/77qIiFq3yh1kf/Mobq7FpEmTTv361yud/WhmZklXV1eti0afZSi36H09sCYiHk3PH5XUHhFb%0AJLVTnK8NxRx++UrKifS+KhWAiFgELALo7OyMrq6uITTFzMyqGsrUzRyembYBWMYzdzWcyzNnZSwD%0AZks6VNIkiguGVo+0oWZmNjyVRvTpXiivA/6qVHwxsFTSeRQ365oFEBFrJS2luOJzN3C+z7gxM2ue%0AlrgytrOzM2677bZmN8PMbH9TaY7eV8aamWXOQW9mljkHvZlZ5hz0ZmaZc9CbmWXOQW9mljkHvZlZ%0A5hz0ZmaZc9CbmWXOQW9mljkHvZlZ5hz0ZmaZc9CbmWXOQW9mljkHvZlZ5hz0ZmaZc9CbmWXOQW9m%0AljkHvZlZ5hz0ZmaZc9CbmWXOQW9mlrlKQS9prKSrJd0v6T5Jr5I0TtIKSQ+kn8eU6s+XtF5St6Qz%0AG9d8MzMbTNUR/ZeB/4yIE4GTgfuAC4GVETEZWJmeI2kKMBuYCswAFkoaVe+Gm5lZNaMHqyDpaOA1%0AwLkAEfEH4A+SZgJdqdpiYBXwCWAmsCQidgEbJK0HpgE317nt/2P58uWN2nVlZ511VrObYGZWU5UR%0A/STg18A3JN0h6WuSDgfaImJLqvMI0JaWJwAPl7bflMrMzKwJBh3RpzqvAD4YEbdI+jJpmqZHRISk%0AGMoLS5oHzANoa2tj1apVQ9m8l7179w5723oZSfvNzIajq6urUr0qQb8J2BQRt6TnV1ME/aOS2iNi%0Ai6R2YGtavxk4trT9xFTWS0QsAhYBdHZ2RtUG19IKUzcjab+ZWSMNGvQR8YikhyV1REQ3MB1Ylx5z%0AgYvTz2vTJsuAKyV9AXghMBlY3YjGt5KLLrqorvXMzOqlyoge4IPAFZIOAR4E3kMxv79U0nnARmAW%0AQESslbSU4hfBbuD8iNhT95abmVkllYI+Iu4EOmusmt5P/QXAghG0y8zM6sRXxpqZZc5Bb2aWOQe9%0AmVnmHPRmZplz0JuZZc5Bb2aWOQe9mVnmHPRmZplz0JuZZc5Bb2aWOQe9mVnmHPRmZplz0JuZZa7q%0AbYptP9EK/wkL+P/QNWslHtGbmWXOQW9mljlP3VjW1syZ1ewmAPCKq5Y2uwl2AHPQW0P4/9A1ax2e%0AujEzy5yD3swsc566MdsHPJVlzeQRvZlZ5ioFvaSHJN0j6U5Jt6WycZJWSHog/TymVH++pPWSuiWd%0A2ajGm5nZ4IYyon9tRJwSEZ3p+YXAyoiYDKxMz5E0BZgNTAVmAAsljapjm83MbAhGMnUzE1iclhcD%0AZ5fKl0TErojYAKwHpo3gdczMbASqBn0AP5Z0u6R5qawtIrak5UeAtrQ8AXi4tO2mVGZmZk1Q9ayb%0A0yNis6TnAysk3V9eGREhKYbywukXxjyAtrY2Vq1aNZTNe9m7d++wt62Xjo6OSvVGcpxVtEJfQOv0%0Ax84zZjR0/1V1jDmsUr1G94flpaurq1K9SkEfEZvTz62SrqGYinlUUntEbJHUDmxN1TcDx5Y2n5jK%0A+u5zEbAIoLOzM6o2uJZWuGNjd3d3pXpz5sxpaDtaoS+gdfpjzaULG7r/qlZ3TKlUr9H9YQemQadu%0AJB0u6cieZeAM4F5gGTA3VZsLXJuWlwGzJR0qaRIwGVhd74abmVk1VUb0bcA1knrqXxkR/ynpVmCp%0ApPOAjcAsgIhYK2kpsA7YDZwfEXsa0nozMxvUoEEfEQ8CJ9cofxyY3s82C4AFI26dmZmNmK+MNTPL%0AnIPezCxzDnozs8w56M3MMuegNzPLnIPezCxzDnozs8w56M3MMuegNzPLnIPezCxzDnozs8w56M3M%0AMuegNzPLnIPezCxzDnozs8w56M3MMuegNzPLnIPezCxzDnozs8w56M3MMuegNzPLnIPezCxzlYNe%0A0ihJd0i6Lj0fJ2mFpAfSz2NKdedLWi+pW9KZjWi4mZlVM5QR/V8D95WeXwisjIjJwMr0HElTgNnA%0AVGAGsFDSqPo018zMhqpS0EuaCLwR+FqpeCawOC0vBs4ulS+JiF0RsQFYD0yrT3PNzGyoqo7ovwR8%0AHNhbKmuLiC1p+RGgLS1PAB4u1duUyszMrAlGD1ZB0puArRFxu6SuWnUiIiTFUF5Y0jxgHkBbWxur%0AVq0ayua97N27d/BKDdbR0VGp3kiOs4pW6Atonf7YecaMhu6/qo4xh1Wq1+j+sLx0dXVVqjdo0AOv%0ABt4s6Q3AGOAoSZcDj0pqj4gtktqBran+ZuDY0vYTU1kvEbEIWATQ2dkZVRtcy/Lly4e9bb10d3dX%0AqjdnzpyGtqMV+gJapz/WXLqwofuvanXHlEr1Gt0fdmAadOomIuZHxMSIOI7iS9brI+JdwDJgbqo2%0AF7g2LS8DZks6VNIkYDKwuu4tNzOzSqqM6PtzMbBU0nnARmAWQESslbQUWAfsBs6PiD0jbqmZmQ3L%0AkII+IlYBq9Ly48D0fuotABaMsG1mZlYHvjLWzCxzDnozs8w56M3MMuegNzPLnIPezCxzDnozs8w5%0A6M3MMuegNzPLnIPezCxzDnozs8w56M3MMuegNzPLnIPezCxzDnozs8w56M3MMuegNzPLnIPezCxz%0ADnozs8w56M3MMuegNzPLnIPezCxzDnozs8wNGvSSxkhaLekuSWslfTqVj5O0QtID6ecxpW3mS1ov%0AqVvSmY08ADMzG1iVEf0u4M8j4mTgFGCGpD8BLgRWRsRkYGV6jqQpwGxgKjADWChpVCMab2Zmgxs0%0A6KOwPT09OD0CmAksTuWLgbPT8kxgSUTsiogNwHpgWl1bbWZmlVWao5c0StKdwFZgRUTcArRFxJZU%0A5RGgLS1PAB4ubb4plZmZWROMrlIpIvYAp0gaC1wj6aQ+60NSDOWFJc0D5gG0tbWxatWqoWzey969%0Ae4e9bb10dHRUqjeS46yiFfoCWqc/dp4xo6H7r6pjzGGV6jW6PywvXV1dlepVCvoeEfGkpBso5t4f%0AldQeEVsktVOM9gE2A8eWNpuYyvruaxGwCKCzszOqNriW5cuXD3vbeunu7q5Ub86cOQ1tRyv0BbRO%0Af6y5dGFD91/V6o4pleo1sj9a5b1x1llnNbsJB5wqZ908L43kkXQY8DrgfmAZMDdVmwtcm5aXAbMl%0AHSppEjAZWF3vhpuZWTVVRvTtwOJ05sxBwNKIuE7SzcBSSecBG4FZABGxVtJSYB2wGzg/Tf2YmVkT%0ADBr0EXE38PIa5Y8D0/vZZgGwYMStMzOzERvSHL2Z2UhddNFFda1ng/MtEMzMMuegNzPLnIPezCxz%0ADnozs8w56M3MMuegNzPLnE+vNLMD0oF0SwiP6M3MMuegNzPLnIPezCxznqM3M2uifXFLCI/ozcwy%0A56A3M8ucg97MLHMOejOzzDnozcwy56A3M8ucg97MLHMOejOzzDnozcwy56A3M8ucg97MLHODBr2k%0AYyXdIGmdpLWS/jqVj5O0QtID6ecxpW3mS1ovqVvSmY08ADMzG1iVEf1u4KMRMQX4E+B8SVOAC4GV%0AETEZWJmek9bNBqYCM4CFkkY1ovFmZja4QYM+IrZExJq0/BRwHzABmAksTtUWA2en5ZnAkojYFREb%0AgPXAtHo33MzMqlFEVK8sHQf8F3AS8N8RMTaVC3giIsZK+grw84i4PK27DPhBRFzdZ1/zgHkAbW1t%0Apy5ZsmTYB7Ft27Zhb1svO3furFSvvb29oe1ohb6A1umPnRsebOj+q9o25rBK9RrZH35v9JZDf3R1%0AdanKtpXvRy/pCODfgQ9HxG+LbC9EREiq/huj2GYRsAigs7Mzurq6hrJ5L63wfz92d3dXqjdnzpyG%0AtqMV+gJapz/WXLqwofuvanXHlEr1Gtkffm/0diD1R6WzbiQdTBHyV0TE91Lxo5La0/p2YGsq3wwc%0AW9p8YiozM7MmqHLWjYDLgPsi4gulVcuAuWl5LnBtqXy2pEMlTQImA6vr12QzMxuKKlM3rwbOAe6R%0AdGcq+zvgYmCppPOAjcAsgIhYK2kpsI7ijJ3zI2JP3VtuZmaVDBr0EXET0N+E//R+tlkALBhBu8zM%0ArE58ZayZWeYc9GZmmXPQm5llzkFvZpY5B72ZWeYc9GZmmXPQm5llzkFvZpY5B72ZWeYc9GZmmXPQ%0Am5llzkFvZpY5B72ZWeYc9GZmmXPQm5llzkFvZpY5B72ZWeYc9GZmmXPQm5llzkFvZpY5B72ZWeYc%0A9GZmmRs06CV9XdJWSfeWysZJWiHpgfTzmNK6+ZLWS+qWdGajGm5mZtVUGdF/E5jRp+xCYGVETAZW%0ApudImgLMBqambRZKGlW31pqZ2ZANGvQR8V/Ab/oUzwQWp+XFwNml8iURsSsiNgDrgWl1aquZmQ2D%0AImLwStJxwHURcVJ6/mREjE3LAp6IiLGSvgL8PCIuT+suA34QEVfX2Oc8YB5AW1vbqUuWLBn2QWzb%0Atm3Y29bLzp07K9Vrb29vaDtaoS+gdfpj54YHG7r/qraNOaxSvUb2h98bveXQH11dXaqy7eihNenZ%0AIiIkDf7b4tnbLQIWAXR2dkZXV9ew27B8+fJhb1sv3d3dlerNmTOnoe1ohb6A1umPNZcubOj+q1rd%0AMaVSvUb2h98bvR1I/THcs24eldQOkH5uTeWbgWNL9SamMjMza5LhBv0yYG5angtcWyqfLelQSZOA%0AycDqkTXRzMxGYtCpG0lXAV3AeEmbgE8BFwNLJZ0HbARmAUTEWklLgXXAbuD8iNjToLabmVkFgwZ9%0ARPQ3MTS9n/oLgAUjaZSZmdWPr4w1M8ucg97MLHMOejOzzDnozcwy56A3M8ucg97MLHMOejOzzDno%0Azcwy56A3M8ucg97MLHMOejOzzDnozcwy56A3M8ucg97MLHMOejOzzDnozcwy56A3M8ucg97MLHMO%0AejOzzDnozcwy56A3M8ucg97MLHMNC3pJMyR1S1ov6cJGvY6ZmQ2sIUEvaRRwCfB6YAowR9KURryW%0AmZkNrFEj+mnA+oh4MCL+ACwBZjbotczMbACKiPrvVPoLYEZEvDc9Pwc4LSIuKNWZB8xLTzuA7ro3%0ApLrxwGNNfP1W4/7ozf3xDPdFb83uj8ciYsZglUbvi5bUEhGLgEXNev0ySbdFRGez29Eq3B+9uT+e%0A4b7obX/pj0ZN3WwGji09n5jKzMxsH2tU0N8KTJY0SdIhwGxgWYNey8zMBtCQqZuI2C3pAuCHwCjg%0A6xGxthGvVSctMYXUQtwfvbk/nuG+6G2/6I+GfBlrZmatw1fGmpllzkFvZpa5/T7oJe2RdGfpcVwD%0AX6tL0nWN2n89lfrlXknflfScAeqOlfSBCvusVK8VlfrjLklrJP1ps9vUKvp7r0j6WbPbVi+SXiBp%0AiaRfSrpd0n9IOmGgz7Skr/Vc0S/pIUnj03LNfin149r0PvuopJbI2JZoxAj9LiJOKT0eKq+U1LRr%0ABZqsp19OAv4AvG+AumOBKgFetV4r6umPk4H5wD81u0EtpOZ7JSKy+GUoScA1wKqIeElEnErxHmgb%0AaLuIeG9ErKtR3l+/9PTjVOB1FLeA+dTIWl8fOQT9s0g6V9IySdcDK1PZ30q6VdLdkj6dyo6TdJ+k%0Af0u/hX8k6bC07nhJPy6NAF+Sdn+EpKsl3S/pivQmanU3AscDSPpIGrndK+nDaf3FwEvSaORzko6Q%0AtDId9z2SZvZTT+nnvane25twbMNxFPAEwADHiqR3p/fLXZK+ncqOk3R9Kl8p6UWp/JuS/lnSzyQ9%0AmK4O3x+V3yvb08/PlP5i3izpG5LeVyrbIOmGVPerkm5Ln6dPN/E4yl4LPB0R/9pTEBF3RcSN6WnN%0Az7SkVZKedTFUT78MJCK2Ulz5f0H6nIxJ/XaPpDskvTbt6zmSlkpaJ+kaSbfUes0Ri4j9+gHsAe5M%0Aj2tS2bnAJmBcen4GxWlQovjldh3wGuA4YDdwSqq3FHhXWr4FeEtaHgM8B+gCtlFcAHYQcDNwerP7%0AoJ9+2Z5+jgauBd4PnArcAxwOHAGsBV6e+uHe0rajgaPS8nhgfeq7vvXeCqygOIW2DfhvoL3Zxz7I%0A++T+9G946iDHOhX4BTA+ret5Ly0H5qblvwS+n5a/CXw3vS+mUNzrqenHPdz3Srm8VG9sev+cWio7%0AmOKXw1l9+mkUsAp4WQsc34eAL/azrt/PdGp/Z1p+qPRe2N7Pvp5VDjyZPhsfpTjNHODE9FkZA3wM%0AuDSVn0SRR5317oMcRvTlqZu3lMpXRMRv0vIZ6XEHsIaioyendRsi4s60fDtwnKQjgQkRcQ1ARPw+%0AInamOqsjYlNE7KUIjuMadmQjc5ikO4HbKN5UlwGnU/wy3BER24HvAX9WY1sB/yjpbuDHwARq/5l7%0AOnBVROyJiEeBnwCvrP+h1EXP++REYAbwrTRy6+9Y/xz4bkQ8BlB6L70KuDItf5uiD3p8PyL2RvHn%0A/oDTAi2m1null9RXlwNfiIjbS6u+DFwfEcvT81mS1lB81qZS/NJrdfviM306Rf8REfcDG4ETUvmS%0AVH4vcHcDXrt597rZB3aUlgX8U0RcWq6g4ovbXaWiPcBhg+y3b/1W7cPfRcQp5YIhzDK9E3gexcjt%0AaUkPUYw+shARN6cv1p4HvIH6HWv5vbE/TOn1eNZ7pYaLgE0R8Y2eAknnAi8GLkjPJ1GMUF8ZEU9I%0A+iat8b5ZCww0ldaQz7SkP0r721qP/Y1EDiP6Kn4I/KWkIwAkTZD0/P4qR8RTwCZJZ6f6h2qAs1b2%0AIzcCZ6d5wcOBt6Syp4AjS/WOBram4HstxYeZGvVuBN4uaZSk51FMh61u9EGMlKQTKaYWHqf/Y70e%0AeJuk56ZtxqXyn1Hc0gOKX4g3kjlJZwH/m2IKpKfsVIpQf1caCUPx3ccOYJukNoovI1vB9cChKu6Y%0AC4Ckl0mq9ddsXaTPw78CX4liXuZGivcLkk4AXkRxx96fArNS+RTgjxvRnlYdjdZVRPxI0kuBm9Oo%0AdjvwLorftv05B7hU0meAp4G3NbyhDRYRa9IoqyeMvxYRdwBI+qmke4EfAJ8Flku6h+LP+fvT9o/3%0AqfdxiqmMu4AAPh4Rj+zLYxqCnukJKEbbcyNij6QrqH2sayUtAH4iaQ/FVMS5wAeBb0j6W+DXwHv2%0A8XE0w0coprRWp8/PMoqbFo4Dbkhlt0XEeyXdQdGHD1OEWNNFREh6C/AlSZ8Afk8x5/5hiuOql573%0A2MEUc+3fBr6Q1i0EvpreZ7uBcyNil6SFwGJJ6yj6bS3FdwZ15VsgmJk1iYr/je/giPi9ijP7fgx0%0ARPEfNtXNATGiNzNrUc+h+KvoYIq/ND9Q75AHj+jNzLKX/ZexKi5dvqd0cUfNq9qU0eXefan25d/z%0AVOHSbzPb/2U/ok+ny3X2nA9dY/3oiNi9b1u176Tzn38GLI50ZaCkk4E3U/w/vm9qZvvMrPGyH9HX%0AouJGRjdKWgasS2XbS+tr3S7hcEn/T8Xl8Pdq/7ncv+bl3xSnew166bek7ZK+qOKS9pXptDEkfShd%0Atn23pCVNOC4zq+hA+TL2hnSK3K6IOC2VvQI4KSI2lCtKOoPiqtlpFF+OLJP0GoqLan4VEW9M9Y7e%0AZ60fmZMorvit5eUUVy/+iuJUuFcDN/WpczjFqXN/I+nvKW7SdAFwITApnSI2tiEtN7O6OFBG9K9N%0Al7+fVipb3Tfkk/5ul3AP8DpJn5X0ZxFR93Ndm6DKpd97ge+k5ct55pL/u4ErJL2L4rxgM2tRB0rQ%0A17Kjn/Ke2yX03D/n+Ii4LCJ+QfFXwD3AP6TR7f5gLcXNzGoZzqXfPV/qvBG4hKJPbtWBeztos5Z3%0AIAd9f2reLkHSC4GdEXE58DmKgNsf1Lz8m9o3M6vlIJ65T8g7gJtU/GcKx0bEDcAnKG4jcET9mmxm%0A9eRRWB8D3C7heOBzkvZS3BLh/c1rZXUDXP79/Yq72AFMk/RJipszvZ3iPjGXp+8pBPxzRDxZ98ab%0AWV1kf3qljYyk7RHh0brZfsxTN2ZmmfOI3swscx7Rm5llzkFvZpY5B72ZWeYc9GZmmXPQm5llzkFv%0AZpa5/w9jDc2FXuHS/wAAAABJRU5ErkJggg=="&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;画阴影这件事太可怕了, 我可不想做第二遍了. 很奇怪的是与grid不同, 在画阴影的时候是可以设定zorder的&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="(undo)Remove-special-effect"&gt;(undo)Remove special effect&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#(undo)Remove-special-effect"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;原图上是每个柱子还有个隆起的3D效果, 我直接放弃了.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="(undo)Reduce-Colors"&gt;(undo)Reduce Colors&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#(undo)Reduce-Colors"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [254]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# 自定义plot时的参数&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'#05BCFA'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#05B659'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"#CD5855"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#856DB4'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#FDFF02'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"top"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"bottom"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"right"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"left"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# 设置外框&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# title&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Calories per 100g'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'left'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Limits&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;700&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# ticks&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ticks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;ticklabels&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;



&lt;span class="n"&gt;rects&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Shadow Effect!!&lt;/span&gt;

&lt;span class="c1"&gt;# shift the object over 2 points, and down 2 points&lt;/span&gt;
&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;72.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;72.&lt;/span&gt;
&lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;transforms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ScaledTranslation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dpi_scale_trans&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;shadow_transform&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transData&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;offset&lt;/span&gt;

&lt;span class="c1"&gt;# now plot the same data with our offset transform;&lt;/span&gt;
&lt;span class="c1"&gt;# use the zorder to make sure we are below the line&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'black'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;shadow_transform&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'y'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 我不知道怎么设定zorder&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="(undo)Remove-Borders"&gt;(undo)Remove Borders&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#(undo)Remove-Borders"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [213]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_edgecolor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"black"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# 自定义plot时的参数&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'#05BCFA'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#05B659'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"#CD5855"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#856DB4'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#FDFF02'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"top"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"bottom"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"right"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"left"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# 设置外框&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# title&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Calories per 100g'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'left'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Limits&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;700&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# ticks&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ticks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;ticklabels&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;



&lt;span class="n"&gt;rects&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"black"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;linewidth&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Shadow Effect!!&lt;/span&gt;

&lt;span class="c1"&gt;# shift the object over 2 points, and down 2 points&lt;/span&gt;
&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;72.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;72.&lt;/span&gt;
&lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;transforms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ScaledTranslation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dpi_scale_trans&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;shadow_transform&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transData&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;offset&lt;/span&gt;

&lt;span class="c1"&gt;# now plot the same data with our offset transform;&lt;/span&gt;
&lt;span class="c1"&gt;# use the zorder to make sure we are below the line&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'black'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;shadow_transform&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'y'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 我不知道怎么设定zorder&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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%0AAABJRU5ErkJggg=="&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;border的设定, 一般是edgecolor来做, 多个元素看起来都可以画edgecolor&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="(undo)Remove-redundant-labels"&gt;(undo)Remove redundant labels&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#(undo)Remove-redundant-labels"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [265]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_edgecolor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"black"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# 自定义plot时的参数&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'#05BCFA'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#05B659'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"#CD5855"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#856DB4'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#FDFF02'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"top"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"bottom"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"right"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"left"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# 设置外框&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Limits&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;700&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# ticks&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ticks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;ticklabels&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;rects&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"black"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;linewidth&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Shadow Effect!!&lt;/span&gt;

&lt;span class="c1"&gt;# shift the object over 2 points, and down 2 points&lt;/span&gt;
&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;72.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;72.&lt;/span&gt;
&lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;transforms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ScaledTranslation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dpi_scale_trans&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;shadow_transform&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transData&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;offset&lt;/span&gt;

&lt;span class="c1"&gt;# now plot the same data with our offset transform;&lt;/span&gt;
&lt;span class="c1"&gt;# use the zorder to make sure we are below the line&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'black'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;shadow_transform&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'y'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 我不知道怎么设定zorder&lt;/span&gt;

&lt;span class="c1"&gt;# labels&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"Calories per 100g for different food"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
       &lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"Type of Food"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
       &lt;span class="n"&gt;ylabel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"Number of Calories"&lt;/span&gt;
      &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rects&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bbox_to_anchor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.05&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"black"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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%0A2nU666yzjty8eXOJeW79+vWp99xzzyFlbTPe5RJNCVtERGqN9PT0gvnz58/94osv5tSpU8fvv//+%0AEhPthg0bUp9++ulDy9pmvMslmhK2iIjUSieeeOKWRYsWpQPceeedGe3atevUrl27Tn/84x8PBbjx%0AxhtbLF++PL1Dhw5ZV111VYtNmzalHH/88ZlZWVkdMzMzs1544YUDi1uuoKCAq666qkW7du06ZWZm%0AZv3jH/9oXFoclUUP/xARkVonNzeXd95554C+fft+9/777zd48cUXD8rOzp7n7nTr1q3jaaedtvn+%0A++9f0b9///rz58+fW7jOv//970VNmjQpWL16dVrPnj07DB48+Nuiyz377LMHzp49u/68efPmrF69%0AOq1Hjx4d+/btu+WII47ITeQxqYUtIiK1Rk5OTkqHDh2yunTpktWiRYudQ4cOXT958uT9zz777G8P%0AOOCAgkaNGhWcc845G997772GRdctKCiwG264oUVmZmZWnz59MtetW1d3xYoVezRs33///Ybnn3/+%0AN2lpabRs2TKvZ8+eWz744IOEPxBELWwREak1Cs9hV2TdJ554osmGDRvSZs+ePS89Pd2bN2/eZfv2%0A7TWmYauELSIilc7MuiViu+6eXd51+vTps+XnP/95q7vvvnuNuzNhwoTGzz777JeNGjXK37p1666E%0AvGnTptSDDz44Nz093ceNG9dw1apVdQGKLnfSSSdt/sc//nHIddddt2HdunVp06ZN2//hhx9eXjlH%0AWDIlbBERqdVOPPHEbYMHD95w7LHHdgS4+OKLvz7hhBO2A3Tr1m1Lu3btOp166qmb7rzzzjVnnXVW%0A28zMzKyjjjpqW+vWrXcAHHbYYfmxyz3++OMrPvzww/07duzYycz8rrvuWnH44YfnJfo4EvZ4zapQ%0AGY/XrAlP6xo7dmyZy2poUhGpLFXxeM3CFnadCRdWyrZzz34JqFgLO5mU9njNGtM3LyIiIiVTwhYR%0AEUkCStgiIlJrLFu2LK1///5HtmzZsnOnTp06nnzyyW2HDx9+cJ8+fdoWt/wFF1xwRHZ2dr2qjrMi%0AdNGZ7DqfX1Mk83UVIlJ9CgoKGDhwYNvBgwdvGD9+/JcAH330Uf3XXnvtwJLWefnll5dWXYR7Rwlb%0AREQSpvBisaowfvz4hmlpaX7zzTd/XVh2/PHHb9+wYUPalClTDujXr9+RCxYsqN+lS5dtb7zxxlcp%0A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"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;可以用ax.set来统一设定title, xlabel, ylable&lt;/p&gt;
&lt;p&gt;legend设定是, 如果是plt.plot画线的图, 可以在每条线上设定label, 那么legend的时候可以自动找到label的标记. 但bar图里, 大概还是要把柱子和标签分别放上. 注意legend的位置, 默认是在图片内定位的, 用loc的时候总在图里面转来转去, 要把legend放在图片外面, 需要设定它的bbox_to_anchor, 参考&lt;a href="https://matplotlib.org/2.0.0/users/legend_guide.html#legend-location"&gt;legend guide&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="(undo)Remove-Background-Colors"&gt;(undo)Remove Background Colors&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#(undo)Remove-Background-Colors"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;如此村儿的配色, 难道原作是用的MS Powerpoint?&lt;/p&gt;
&lt;p&gt;原作中还用的是图片作为底色, 我还没学会. 先用纯色好了.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [259]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;facecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'#DDC27D'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_edgecolor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"black"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_facecolor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"#BEC1C0"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# 自定义plot时的参数&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'#05BCFA'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#05B659'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"#CD5855"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#856DB4'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'#FDFF02'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"top"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"bottom"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"right"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;"left"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;# 设置外框&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;spines_visible&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spines&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_visible&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Limits&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;700&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# ticks&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ticks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;ticklabels&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;rects&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"black"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;linewidth&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="c1"&gt;# backgroundcolor="#BEC1C0"&lt;/span&gt;
               &lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Shadow Effect!!&lt;/span&gt;

&lt;span class="c1"&gt;# shift the object over 2 points, and down 2 points&lt;/span&gt;
&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;72.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;72.&lt;/span&gt;
&lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;transforms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ScaledTranslation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dpi_scale_trans&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;shadow_transform&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transData&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;offset&lt;/span&gt;

&lt;span class="c1"&gt;# now plot the same data with our offset transform;&lt;/span&gt;
&lt;span class="c1"&gt;# use the zorder to make sure we are below the line&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'black'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;shadow_transform&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'y'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 我不知道怎么设定zorder&lt;/span&gt;

&lt;span class="c1"&gt;# labels&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"Calories per 100g for different food"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
       &lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"Type of Food"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
       &lt;span class="n"&gt;ylabel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"Number of Calories"&lt;/span&gt;
      &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rects&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;food&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;facecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'#DDC27D'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
          &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"black"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
          &lt;span class="n"&gt;bbox_to_anchor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.05&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;



&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAewAAAEiCAYAAAA7yOGkAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz%0AAAALEgAACxIB0t1+/AAAIABJREFUeJzs3WdgVMUWwPH/7qaQnpCeQOiEGqqAhB5KQheUohQpQgCp%0AjyIKAiJNQUGegghWkCq9BOm8oKiAFJEOoaWT3rObfR8iCzEJm8RsksXz+2Jyd+7MuePqydw7d0Zx%0A6+RsLUIIIYQo05SlHYAQQggh9JOELYQQQhgBSdhCCCGEEZCELYQQQhgBSdhCCCGEEZCELYQQQhgB%0ASdj/QtXazCfkQUyRzt314yWGTtlQzBH9exw8eRXfviuo32Uxl6+HFXv9K748wZT5OwAIjYinfpfF%0AaDRZAETHJDHgzW/w6bKEhf89hFarZfqi3TTq+iEvjVpX7LEUhw07z9Cs10fU77KY2PiUYqv39O8h%0A+PZdXmz1CVESTEo7AFE0uw9dYt2WX7h9LxorC3Nq13Bl3OBWNPXxMmi7vTrXp1fn+gZto7hdux3J%0Aok8P8cf1MGLjU7l1cnaOz+MSUnlryR6Cf7uNg50l00a1p2enJ9d46uwd5n58gNCIeBrU8eTDmT3x%0AdLMvUiyLPzvM3En+dGrt/Y+uqSA8XO24dPAt3e8b95zDwc6CC0HTUSgU/HbhHqfO3ObUDxOxtDAz%0AeDx/16bfJyya3h3fplXz/DxTrWHBfw/xw+ph1K7uVsLRCVH2yAjbCK3bfJr5K39k7CBfftk5hf9t%0Am8Dgl5py+NR1g7arVmcZtP7ikFeMpiZKuravw6LpPfI8Z87HBzA1UfHLzil8PLs3sz86wPU7kQDE%0AxKUwdtZWJo9ox7m906jv7cGEuduLHN/DiDhqVHEu0rmPR8pFFRoeT/XKzigUCl0snm72RUrWJfFd%0AiI5JJj1DTY3KLgZvSwhjICNsI5OYlMbyL4+z5K2edGlbW3e8Q8uadGhZE4ALfz5k/sqD3LwbTTkz%0AU/zb1uLtNztjZqrKs765K4I4efoW5cqZ0r97I8YOboVSqWDbgQts3nOOBrU92XHwIq/2akKlCuXZ%0Asvd3tnz6OgC37kYzb0UQf1wLo7y9JZNHtKNbh7oAHPv5Bos/O0xYZALWVuYMe6U5bwx8MVcMj9up%0AW8ONHT9ewsXRmrmTA/BtUkUX44L/HuL46ZsolQr6BjRg0vC2qFTKPGP8zxvtc9Rf1cuJql5OeT4G%0ASEnN4OCJKxz4JhArSzOa+njRsVVNdh68xPRAPw6evEqNys50bV8HgInD2tC0xzJu3Y2mWiUnYuNT%0AmL5oN7+ev0sVL0dav1CNX87f1fXPY+kZapr2WIpGo6X78DU4l7fm2KY3uRkSxbsfHeDPm+G4Odkw%0AdVQHOrbKHn1PW7iLcuamPAyP59cLd/l8Yb9co9H7obFMX7Sby9fDaVjXk6oVHXWfPQiLo23/lVw7%0A+g4zP9jD7kN/oFDA19t+YebYTsxfeRC1Oov6XRYzon8LJg1vx9GfrvPR2uM8CI+jeiVn3p/alVrV%0AXIHsEfFrvZqw69Af3Ln/iEsH3+JRXDLzlgfx24V7WFqYMaxfc15/uRmQfXv+5t0ozMxMOHTyGh6u%0Atnzwdi98annwn/d3EhoRzxtvbUalUvDm0DaMfrWlLvY79x/RY8QXADTq9gE+tTzZsGIwZy/dZ/7K%0Ag9y5H0OViuWZPb4LTepXBCAiOpHZS/dx5tJ97GwtGP1qSwb0aAxAWnoms5ft53DwdVwcrenbtUGu%0A74IQZZ0kbCNz7vID0jPUdG5dK98ySpWSd97sTH1vD8KjEhg+7Xs27DjDsH7Nc5WduyKIpKR0jm1+%0Ak7j4VIb+ZwMujtb0694IgAtXHtLdry6/7JyCWqNh79E/deempGYwZMoGJo9oy5cfvMq12xEM/c8G%0AalZ1oUZlZ2Yu2cvKeX15oYEX8Ymp3A+NyzfmC1ceEtCuNmf2/IeDJ64ydtZWTmwej72tBdMW7cbR%0A3oqjG8eRkpbJGzM24e5iy6u9muQZY2Hcuf8IlUpJlacSXe1qrvxy/i4AN+5EUbu6q+4zSwszKnk6%0AcONOFNUqOTHn4wNYlDPl9M4pPAiP4/X/fI+nm12udszNTLh08C2qtZnP3i9HUblCeTLVGt6YuZlX%0Aujbk62WvcebiPQLf3sLOL0ZQ1csJgN2H/2DdBwNZW3cAmZm5r23y/B00qluBr5e9xoU/HzJyxiY6%0AtqqZq9yHb/cCwM3ZVvcHjZmZSY4/vi5fD2PG4j18sXgA9b3d2fnjJUbN3Myh9WMxN8v+X8WeI5dZ%0Au2QA5e0tUSoVvPHWJjq18mb5nD6ERyUwZPJ6qno50qZZNQAOn7rOZ/Nf4YO3evLR2mPMWx7ED6uH%0As2xWb367eC/fW+JVKjoS9E0gbfuv5Pd90zExURKXkMrIGZt4d2IXevjVY//xPxk5YxNHN47Dwc6S%0AiXO3U7OqMz9vn8yte9EMnbIBLw8HWjapwidfneReaCzHNr1JSmoGw6dv1P/lEKKMkVviRiYuPhUH%0AO0tMTPL/V1ff251GdStgYqKkgrs9A3s24ZcLd3OV02iy2HfkMlNHd8Da0pwK7vaM6N+CnT9e0pVx%0AcbRhaN9mmJgoKWdumuP8oz/doIK7HS93bYiJiZK6Nd3p0qY2B45lJ3UTEyU3QqJITE7HzsaCet7u%0A+cbsaG/FsFeaY2qiortfXapWdOTYzzeIjknixOmbzJ7QGUsLM5wcrBjWrzl7j14uUIz6pKRmYm1l%0AnuOYtZU5ySkZf32egU0enyelZqDRZHHwxFUmDW+LRTlTalR2po+/T4HbPn/5ISmpGQS+5ouZqYqW%0ATarQvmUN9hx+cm0dW9Wkaf2KKJUKzM1z/n0dGhHPxauhTB7RDnMzE5o1rEQH3xqFuv6nbdrzOwN7%0ANqZhHU9UKiV9AxpgZqri/J8PdWWG9m2Gh6sd5cxNuXg1lJi4FMa/3gYzUxVeHg7079GIvUeexN+0%0AvhftX6yBSqWkdxcfrtyMKHJ8x36+QeUK5Xmpiw8mJkp6dqxHtUqOHPnpBqER8Zz94z7TA/0wNzeh%0ATg03+nVvyI6DFwHYf+xPxg5uhb2tBR6udgzt26zIcQhRWmSEbWTs7SyIjU9Brc7KN2nfuf+IBf89%0AxKVroaSlZaLWZOWZLGPjU8hUZ+Hp+mRE6OlmR3hUou53dxfbfGN5GBHPhT8f0rDrB7pjGk0WvTtn%0AJ63P5r/Cp9/+jw8/P0qtai5MG+1H43oV8qzL1dlG92z1cRyR0Yk8DI8nU62hxUsf6z7TZmlzxPWs%0AGPWxtDAlKTk9x7HEpHSsLM3++tyMpJS/fZ6cjrWFGTFxKag1Wbi7POm/wsQSEZ2Iu4stSuVT1+1q%0AR3h0wfo/IjoRO2uLHM+gPV3tCItMKHAMT3sYHs/2oAt8u/033bHMTA0R+cTzMDyOyEeJOf79Z2m0%0AOSY+Ope30v1sYW5Keob6md/dZ4mMTsx198LD1Y6IqAQiHyVhb2OBteWTP6483ey5dC17Jn7Eo8Qc%0Ased1F0SIsk4StpFpXLcCZqYmHAq+SkC7OnmWmb1sP3VquLF8zktYW5rz1ZZfOHDiSq5yDnaWmJoo%0AeRgRT43K2ROhQiMScHO20ZV5Oon+nbuLLc0aVuLbjwbl+blPbQ8+X9SfTLWG77b/xvg5P3Dqh4l5%0Alo2ISkSr1eraC42Ix8+3Ju4utpiZmnBm99R8/yf/rBj1qVLREY0mizv3H+lui1+9FaHrjxpVnNke%0AdEFXPiU1g3sPY6lRxZny9paYqJSERyXozi1MsnR1siEsMoGsLK0uaYdGxlOlwpPb8wryvzYXR2vi%0Ak1JJSc3QJe3QiASK2h3uLraMHdyKcUNa51vm6brdXeyo4ObA0Y3jitTes64tLy5ONjw8cTXHsdCI%0ABNo0r46LozVxiakkpaTrknZoRDyuTtnfZZfy2X1ds4qL7jMhjI3cEjcyNtblmDS8LXM+DuLH/10l%0ANS2TTLWG46dvsnjVYQCSU7Jv41pZmHHrbjQbdp3Jsy6VKnv29LIvjpGUks7D8Di+3HK6wK9tdWhZ%0Agzv3Y9hx8CKZag2Zag0Xr4RyMySKjEwNu368RGJSGqYmKqwtzXOMJP/uUVwyX2/7lUy1hv3H/uTW%0A3WjataiOi5MNrV+oysJPD5GYnE5Wlpa7D2N0z5gLQqvVkp6uJlOd/Qw4PV1NeoYayB5Bd25Ti+Vf%0AniAlNYMzF+9x+NR1enfJ7oPObby5fieKoONXSE9X88nXJ6ld3ZVqlZxQqZR0blOLFV+dIDUtk1t3%0Ao3W3YAuiQR1PLMxNWfP9T2SqNZz+PYSjp27Q3a9ugc73dLOnvrcHy788QUamhjMX73H0p6K/KdC/%0ARyO+33WO838+RKvVkpKawbGfb+S6w6CLv7YH1pZmfL7hFGnpmWg0WVy7HcnFK6EFas+pvBX3njGv%0A4e/atajOnQeP2H3oEmp1FnuPXObm3Sg6vFgDD1c7GterwNLPj5KerubqrQi27DtP77++y13b12b1%0A+lPEJ6YSFpnAtz/8pqc1IcoeGWEboZEDXsS5vDWffhvMlPk7sbI0o15Nd8YObgXAzLEdeWfpPtZs%0A/Ik6Ndzo1qEuP58LybOuOZP8mbc8iPb9/4uZmQkDejTila4NCxSHtaU53yx7lQX/PcTC/x4iS6ul%0AVjVX3nmzEwA7frzE3OVBZGVlUcXLkY9n9863rga1Pbn7IIamPZbh5GDFf997GQc7SwCWvtOLDz4/%0Aiv+QVSSlZODlYc+op2YU6/MwPJ62/Vfqfq/TaRGebnac3DIBgPemdGXG4t006/UR9rYWzJ8SoBuJ%0AOdpb8dn8l5m7PIgp7++kYR1PVszpo6tr7mR/pi/cTYveH1HFy5EefnV1t2H1MTNVsWZxf+Z8dIBV%0AG07h5mTDh+/0ololpwJf28fvvsS0hbto0v1DGtWtwEtdfEhISivw+U/zqeXBwundmLv8ACEPYihn%0AZkpTn4q80CDvd/tVKiVfLBnAwk8P0bb/SjIyNFT1cmTKyHYFai/wNV/mrQhiyerDjBvcOs83CJ7m%0AYGfJ2sUDeO+Tg8z+6ACVPB1Yuzh7AhzA8nf7MHvZfl7s8zF2NhZMGt5WN6FtwrC2zFq2j7b9V+Lq%0AaEPfrg34ZtuvBe8cIcoAxa2Ts7WlHYT4d9t24EKO2crGbMmqw0TFJLP0nV6lHYoQ4jkjt8SF+Adu%0A3Y3m6q0ItFotF/58yNb95+ncxvCrmAkh/n0Mdkv89r3oHCtC3Q+NZdLwdrzk78OEuT/wICyeCu52%0ArJzXFzsbCwBWrQ9my77zqJQK3p3or3uXU4iyKjklg4nvbScyOhEnB2tG9G9Bp1aSsIUQxa9Ebolr%0ANFm07Luc7auH892OM9jbWBA4yFc3CWTGmI7cCIli0rztbP98BJHRiQyZsoHDG8aiUslNACGEEKJE%0AsuFPZ+/g5eGAp5s9h4Ov6RaX6OPvw6HgawAcDr5Gd7+6mJuZUNHDgUqeDlwo4GxTIYQQ4nlXIgl7%0A79HL9PCrB0B0bDIuf70b6exoTXRsMpD9Hu7TCxu4OdsSEV20BSCEEEKI543BX+vKyNRw5NR1po3q%0AkOszhUJR6MUTNu4+x6Y95wC4eTeWChXyXjlLCCFE3h5FPeTMnqmlHYYoJIMn7BOnb1K3hjtO5a0B%0AcHKwIjI6ERcnGyKjE3F0yH6H0tXZJscqUeFRCbg65V6WcWDPxgzsmb0DT8Abm1m9Zo2hL0EIIZ4r%0AE0YNLO0QRBEY/Jb4niN/0KPjk5Wb/Hy92R6UvRrU9qCLuq0E/XxrsvfIZdIz1NwPjSXkQQwNansY%0AOjwhhBDCKBh0hJ2SmsGpM3dYMLWb7ljgay0ZP+cHtuw7j6db9mtdADWruNC1fR38h6xGpVIwd3KA%0AzBAXQggh/mLQhG1pYcbZvTmfkzjYWbJ++eA8y48b0vqZGw8IIYQQ/1aylrgQQohiER2bzKLPDnH7%0A7iOytLLqdWEoFQqqVnJk5thOODlY5VlGErYQQohiseizQ7zYqDKLZ/TA1ERV2uEYlUy1hp0HL7Ho%0As0MseyfvjZLkIbEQQohicfvuI3p1ri/JughMTVT07lKf23cf5VtGErYQQohikaXVSrL+B0xNVM98%0AlCC3xIUQQjw3arR7H++qLrrfVy/oRwV3e4O0dfr3ENZuOs3aJQMMUv/fScIWQgjx3ChnbsLeL0fl%0A+7lanYWJiXHeXJaELYQQ4rm27cAFfjxxheTUTLKysti4cihrNv7E/mN/kpGhoXMbbyYNb8eDsDiG%0AT/ueJj5e/P7HfVydbPl8UT/KmZsS8iCG2cv2ExOXjEqpZOV72WuIpKRmMG72Vq7fiaJeTXc+mt0b%0AhaJwS24XlCRsIYQQz420dDXdh2cvWV3B3Z7VC/oBcPlGOPu+Go29rQX/+/UWIQ9i2PH5CLRaGDVz%0AM7+ev4uHqx0hD2NYPqcPi6Z3Z/ycbQSduELvzj5Mmb+D0a/50qVNLdLT1WRptYRFJnD5RjhB3wTi%0A6mRDv3FfcfbSfZr6eBnk2iRhCyGEeG7kd0vct2lV7G0tAPjfb7cJ/u02PUZ8AUByagYhD2LwcLWj%0AgpsDdWq4AVCvpjsPwuJJSkknIjqRLm1qAWBu/iR1NqjtodtpsnZ1Nx6Ex0nCFkIIIYrKspzpk1+0%0AEPiaL6/2apKjzIOwOMzMnsxyVyqVaDTqZ9ZrZvokjaqUCtQawy0YY5xP3oUQQogiat2sKtv2nyc5%0AJQPI3h0yOjY53/LWlua4Odvy4/+uApCeoSY1LbNEYn2ajLCFEEIUu2pt5huk3lsnZ//jOlo3q8bN%0Au9G8POZLAKwszVg2qzcqZf5j2KXv9GLW0v0sX3cCExMl/33v5X8cR2FJwhZCCPHcuHTwrVzHXg5o%0AwMsBDXIcG/ZKc4a90jxX2aBvAnU/vzHwRd3PVSo6smFFzo2rvDwcaNGosu73uZMDihp2gUjCFkII%0AYTCmhzOKpZ7MjmbFUo8xk2fYQgghhBGQhC2EEEIYAbklLoQQ4rnUpt8nWFmYoVJlj03nTQ6gSf2K%0Aucq9POYrtq0aVtLhFZokbCGEEM+tDSuGUN7eMs/PHq8rbgzJGiRhCyGEMKCyNlns9O8hfLzuOHbW%0A5bh17xFHvh9H/S6LdbPL81pjPCU1g/FzfiA8KgFNlpY3h7Smu1/dEo9dErYQQojn1msTv0WlUmJm%0AqmL75yMAuHw9nANfj6aih0OOsvmtMR4Tl4KLkw3rPhgIQGJSWolfB0jCFkIIYQDFscBJccjrlrhP%0AbY9cyRryX2P8hQZeLPzsEEtWHaZDy5q80MAwa4XrIwlbCCHEv4pluXxu0+ezxjjA7rVvcPz0DT5a%0Ae4yWTaow/vU2Bo4yN4Mm7ITENGZ+sIfrd6JQAIvf6klVL0cmzP2BB2HxVHC3Y+W8vtjZZO+gsmp9%0AMFv2nUelVPDuRH/aNKtmyPCEEEIIndbNqvLxuuP06lQfK0szwqMSMDFRodFkYW9jQe/OPthal2Pz%0A3t9LJT6DJuz3PjlIm+bV+XT+K2RkakhLy+Sz9cG0bFyFwEG+rF5/itXrTzFjTEduhESx98hlgr4J%0AJDI6kSFTNnB4w1jddPzi1qFtO4PUWxRHTxwv7RCEEOJfL781xu8+jGXxZ4dRKhWYmCh5b0rXUonP%0AYAk7MSmN3y7c48O3ewJgZqrCzFTF4eBrfL9iCAB9/H14deK3zBjTkcPB1+juVxdzMxMqejhQydOB%0AC1dCaVyvgqFCFEII8Rw7uWVCrmMtGlXOsf435Fx/PK81xit5li8Td3wNlrDvh8VR3t6S6Yt2c/VW%0ABPVqujN7QheiY5NxcbIBwNnRWrelWURUIg3reurOd3O2JSI6wVDh6RTXOrdFUdZedxBCCFF2GSxh%0AqzVZXL4RxpxJ/jSs48l7Kw6yesOpHGUUCgUKFIWqd+Puc2zacw6A2Bg1SQmJRYpv6dKl2TGkBBfp%0A/OKg/SuGol6DEEKIfw+DJWx3Z1vcnG1pWCd71BzQrjarN5zCycGKyOhEXJxsiIxOxNEhe7q9q7MN%0AYZFPRtThUQm4Otnmqndgz8YM7Nk4u843NmNta1Ok+KZOnQqU8gh7agdAnmELIYTQz2AJ29nRGncX%0AW27fi6aqlxM/nb1D9crOVK/szPagiwQO8mV70EU6tvIGwM+3JpPf28Hwfi2IjE4k5EEMDWp7GCq8%0AMuWnUz/pLdPSt2UJRCKEEKKsMugs8TkT/Zk8fyeZmRoqetjzwcyeZGVpGT/nB7bsO4+nW/ZrXQA1%0Aq7jQtX0d/IesRqVSMHdygMFmiAshhBDGxqAJu04NN3Z9MTLX8fXLB+dZftyQ1owb0tqQIQkhhBBG%0ASYawQgghnhs12r1P9+Fr8B+6mjff3UZqWma+ZRMS01i/44zeOgtaztAkYQshhHhulDM3Ye+Xowj6%0AJhBTExXf7zqbb9mEpDTW7yxAwi5gOUOTtcSFEEI8l15o4MXVWxEArNt8mq37zwPQv1sjhvVrzgef%0AH+Hew1i6D1+Db9OqTHi9DaPf3kxCYhqZag1TRranU2vvXOXeGuPH4lVHOPHLTRRkP84tie02JWEL%0AIYR47qjVWZw4fZM2zatx6VoY2/afZ/vq4Wi10DdwHc0aejF9tB/X70Sx98tRunNWLeiHjZU5MXEp%0A9B3zJR1b1cxVLuj4Fa7cDGffl6OIjU+h96h1NGvgpVsUzFAkYQshhHhupKWr6T58DQBNfbx4pVsj%0ANuw8Q+c2tbC0yF5dsnObWvx28T4dfWvmOFeLlmVrjvLrhXsolQoiohKJjknO1caZS/fp4VcPlUqJ%0AU3lrmjesxMWrobrXlA1FErYQQojnxuNn2EWx69AfPIpLYdfakZiaqGjT7xPSM9TFHGHRScIWQghR%0A7Kq1mW+Qem+dnF3oc17w8WL6ot0EvuaLVqvlx/9dY9k7vbCyNCM55clql4lJaTg6WGFqouLncyE8%0ADI8HyFXuBZ+KbNx9jj7+PsQlpvLrhXu8NabjP784PSRhCyGEeK7V83anb0ADXhq9DsiedFa3pjsA%0ATepXwH/oato2r87oV1syauYmAoaupn4tD6p5OQLgYGeZo9xbY/w4d/kh3YavQQHMCPTD2dHa4Nch%0ACVsIIYTBmO4fWCz1ZHbdWKByT2+V+bQR/Vswon+LXMeXv9snx+/bVg3P8/y/l5s5tiMzxxp+VP00%0AeQ9bCCGEMAKSsIUQQggjILfEhRBCPDeiHiUxf+VBLl0Nw8baHCcHazq19ubIqeusXTIgV/mZS/Yw%0AvH8LalR2LoVoC0cStqBD23alHUIOsj+4EKIotFotY2ZtoY9/Az6Zm70T5JWb4Rw+dT3fcxbN6FFS%0A4f1jkrCFEEIYTEEnixWHn8+FYKJS8WqvJrpjtau7EZ+Yxs9nQxg3eyvX70RRr6Y7H83ujUKh4NUJ%0A3/LW2I741PKgfpfF9O/emODfbuFU3poVc/vgaG/F19t+ZeOus6hUSqpXdtL9MVDSJGELneKazVlU%0AJfkfthDi+XP9ThT1vN3z/OzyjXCCvgnE1cmGfuO+4uyl+zT18cpRJiU1k/re7swa35mVX59k5Vcn%0AmTs5gM83nOL45vGYm5mQkJhWEpeSJ0nYQvyNPCIQ4p8rygInhtSgtgfuLrZA9qj7QXhcroStVCro%0A1iF7E49eneszdtZWALyruTJl/g46tfamU6taJRv40/GVWstCCCFEMapRxZk/roXl+ZmZ6ZPxqUqp%0AQK3R6q1Pocj+57olAxj00gtcvh7OS6PWolZnFUu8hSUjbFHm/HTqJ71lWvq2NHgcZwe8YvA2nqXJ%0Apq2l2r4QxqZl48osW3OUjbvPMbBnYwCu3orgt4v3CnR+VpaWAyf+pIdfPXYf+oMm9b3IytISFpnA%0Ai40r09SnInuPXCYlNQNbm3KGvJQ8ScIWQgjxXFAoFKxa0I/3Vx5kzfc/YW6mwtPNnk6tC7aLlqWF%0AKRevhPLpt8E42lvxybw+aLKymPL+ThKT0tACQ/s2K5VkDZKwhRBCPEdcnWxYOe/lXMcH9Gis+3nu%0A5ADdz99/MiRHuXfe7Jzr3C2fvl58Af4DkrCFKOPKyiMCIUTpkklnQgghBPlvHFJWGHSE3abfJ1hZ%0AmKFSKVGplOz6YiRxCalMmPsDD8LiqeBux8p5fbGzsQBg1fpgtuw7j0qp4N2J/rRpVs2Q4QkhhBBG%0Aw+C3xDesGEJ5e0vd76s3nKJl4yoEDvJl9fpTrF5/ihljOnIjJIq9Ry4T9E0gkdGJDJmygcMbxqJS%0AyU0AIYQQosSz4eHga/Tx9wGgj78Ph4Kv6Y5396uLuZkJFT0cqOTpwIUroSUdnhBCCFEmGTRhK1Aw%0AZMp6eo78go27zwEQHZuMi5MNAM6O1kTHJgMQEZWoW4UGwM3ZlojoBEOGJ4QQQhgNvbfEz1y6T53q%0ArlhamLHzx4tcvh7O6y83w9PNXm/lmz8dipuzLdGxyQydsp5qXo45PlcoFChQFCrgjbvPsWlPdvKP%0AjVGTlJBYqPMfW7p0aXYMKcFFOr84aP+KwdPTU2/Zol5nQej6IrO8wdooCO3S7AX7y0p/hJd3MFgb%0ABYqjaXOg9PtDiKKo1ma+QerVt+RpjXbv413VBa1Wi0qpZM4kf5rUr2iQWEqa3oT97rL97PtqFFdu%0AhrNu82n6dWvE1AW72LhyqN7K3ZyzR8xODlZ0bl2LC1dCcXKwIjI6ERcnGyKjE3F0yH6+7epsQ1jk%0AkxF1eFQCrk62ueoc2LOxbgWbgDc2Y21rU7Ar/ZupU6cCYHo4o0jnF4fMqR0AeH/hQr1lDfnajq4v%0ASnvzj6nZm3+Ulf4o7ZXOuv210llp94cQxqScuQl7vxwFwMlfb7F0zdEC5StjoDdhm6iUKBQKDgdf%0AZ/BLL9CveyO27juvt+KU1AyytFqsLc1JSc3gf7/dZvzrrfHz9WZ70EUCB/myPegiHVtlr0Dj51uT%0Aye/tYHi/FkRGJxLyIIYGtT3++RUKIYQoNcX1h29RlupNSk7XrUqWnJLB6Lc3k5CYRqZaw5SR7XUr%0AoG0PusDaTadRKKBWNVeWzerNg7A4ZizeQ2x8CuXtLflgZk88XO2YtnAX1lbmXLoaRnRMEjPG+BHQ%0Ark6xXKNv008DAAAgAElEQVQ+ehO2laUZq9YHs+PgJTb/dyhZWVoy1Rq9FUfHJjPmnS0AaDRZ9OhY%0Aj7bNq+NTy4Pxc35gy77zeLplv9YFULOKC13b18F/yGpUKgVzJwfIDHEhhBCFkpaupvvwNaRnqIl8%0AlMT65YMBMDczYdWCfthYmRMTl0LfMV/SsVVNboRE8em3wWz9bBjl7S2JS0gFYN6KIPr4+9A3oAFb%0A951n3oogPl/YH4CoR0ls+fR1bt2LZtTMzWUnYX8yty+7D//Bkrd64OxoTWhEPG8MfFFvxV4eDuz7%0AanSu4w52lroO/LtxQ1ozbkjrAoQthBBC5Pb0LfFzfzxg2oKdHPgmEC1alq05yq8X7qFUKoiISiQ6%0AJpmfz4UQ0L627vVje9vsdUF+v/yAz97PvjvQu0t9lqw+rGujUytvlEoFNSo78ygmucSuTW/Cdna0%0Axr9tLUIexADZCbdzm9LbD1QIIYQoiMb1KhATn8qjuBSOn77Jo7gUdq0diamJijb9PiE9Q12kes3M%0AVLqftejfprO46L3nvGnPOca9u41ZS/cD2ZPBAt/eYvDAhBBCiH/i1t1osrKycLC1IDEpDUcHK0xN%0AVPx8LoSH4fEAvNi4MgeOXSE2PgVAd0u8cd0K7D1yGYBdh/6gqY9X6VzEU/SOsNfvOMP2z0fQN3Ad%0AAFUqOvIotuRuAQghhDBeJb2v++Nn2ABarZYP3+6FSqWkV6f6jJq5iYChq6lfy0P3mnHNKi6MHdyK%0AgRO+RaVUUKeGGx++3Ys5k/yZvmgPX2z8WTfprLTpTdhmpirMTJ8M/9XqLBSKwr07LYQQQpSEG8dn%0A5Xm8vL0l21YNz/OzvgEN6BvQIMcxTzd7NqzIPd/qw7d75fi9JDcM0ZuwmzWsxGffBZOWrib4t9us%0A33mGDr41SiI2IYQQRkrfAiei8PQ+w54+2o/y9pZ4V3Vh4+6ztGtRnf+MbF8SsQkhhBDiL3pH2Eql%0AggE9GjOgR+OSiEcIIYQQecg3YY+fs42V814mYOjqPJ9Z7/869zvWQgghhDCMfBP27PFdAFi7ZECJ%0ABSOEEEKIvOWbsF2cbNBospi2aDffrxhSkjEJIYQQ4m+e+QxbpVKiVChITErDxrpcScUkhBDCyJX2%0A9ppqTRbVKznx4du9sChnystjvmLbqmEGiamk6N/8w8KMgNc/p1XTqlhYmOqOz5nob9DAhBBCiMJ6%0Aei3xye/t4PtdZxnRv4XRJ2soQMLu3KaWrB0uhBCiSBaM31ss9byzsnuhz3mhgRdXb0UAUL/LYi4d%0AfIuP1x3nyKnrAMTEpdDqhao0rOPJ97vOApCYlI6nux3frxjC7GX7uXg1lPT0TPzb1WbS8HbFci1F%0ApTdh9w1oQEamhjv3HwFQ1csRUxOVnrOEEEKI0qNWZ3Hi9E3aNK+W4/jkEe2YPKIdCYlp9H/zawb3%0AeYH63u682qsJmWoNgyZ9x4h+LQD4zxvtsbe1QKPJYvDk9Vy9FUGtaq6lcTlAARL26d9DmLZwNxXc%0A7NBqISwygQ/f7kmzhpVKIj4hhBCiwJ5eS7ypjxevdGuUq4xWq2XK+zsZ0b8F9b3ddcfnf3KQFxtX%0Axs+3JgD7j/3Jpt3nUGuyiHqUxI2QqLKdsBd+eohvlr1KVS8nAO7cf8TEedvZvfYNgwcnhBBCFMbT%0Az7Dzs+KrE7g52/By14a6Y9sOXOBheDxzJwUAcD80li82/czONSOws7Fg2sJdpGdoDBq7PnqXJlWr%0As3TJGrJ361KrswwalBBCCGEIR05d59SZO7z71MTpS9fCWLvpZz6a3RulMnuhsKSUdCzLmWJjVY7o%0AmCRO/HKrtELW0TvCrl/LnZlL9tCrc30ge1/Q+rXc9ZwlhBBCFG2ymCGt23KaiOhE+ozO3jLaz7cm%0AYZEJxCek8trE7wCo7+3Oohk9qFPDjU6DPsPdxZYm9SqUZthAARL2e1O6sn7HGb7Z9iuQPevutd5N%0ADR6YEEIIUVj5bXf5+HhhFgL7+1aapU1vwjY3M2FE/xaM6N+iJOIRQgjxHJDtNYtfvgk7v00/HpPN%0AP4QQQoiSk2/Clk0/hBBCiLIj34Tt6WZfLA1oNFn0HrUWVydb1i4ZQFxCKhPm/sCDsHgquNuxcl5f%0A7GwsAFi1Ppgt+86jUip4d6I/bZpV01O7EEII8e+g9xn275cfMG9FELfuRpOZqUGTpcWynCkXgmYU%0AqIGvt/1KtUpOJCVnALB6wylaNq5C4CBfVq8/xer1p5gxpiM3QqLYe+QyQd8EEhmdyJApGzi8YSwq%0Ald43z4QQQojnnt5sOHd5EMvf7UPlCuW5fGgmi6Z3Z9BLBZslHhaZwLGfb9DvqZVmDgdfo4+/DwB9%0A/H04FHxNd7y7X13MzUyo6OFAJU8HLlwJLco1CSGEEM8dvSNsgMoVyqPRaFGplLzctSE9Rqxh2mg/%0Avee9v/IgM8Z0JDklXXcsOjYZFycbAJwdrYmOTQYgIiqRhnU9deXcnG2JiE4o1MUIIYQoG0pre82o%0AR0nMX3mQS1fDsLE2x8nBmtkTOhMRncjaTafznJ81c8kehvdvQY3KzrTp9wk714ykvL1lvlty6rbw%0AVGtQqZS81MWH4f1a6BZdMRS9CdvC3JSMTA21a7iyeNVhXBytycrS6q346E/XcXSwor63O6d/D8mz%0AjEKhQEHhLnDj7nNs2nMOgNgYNUkJiYU6/7GlS5dmx5ASXKTzi4P2rxg8PT31lKTI11kQur7ILG+w%0ANgpCu7QJUHb6I7y8g8HaKFAcTZsDpd8fQhgLrVbLmFlb6OPfgE/m9gXgys1womOSn3neohk98jye%0A35acTy9/Gh2bzOT3dpCUkm7w3bz0Juxls3qhzdIyd1IAX205TVhkAp/Of0VvxWcv3efIqescP32T%0A9Aw1ScnpTJm/AycHKyKjE3FxsiEyOhFHB0sAXJ1tCIt8MqIOj0rA1ck2V70DezZmYM/GAAS8sRlr%0AW5sCX+zTpk6dCoDp4YwinV8cMqd2AOD9hQv1lm3p29Jgcej6Yv9Ag7VREJlTNwJlpz/ODtD/PTek%0Abpu2AqXfH0L8Expt8cxDUin0L4n987kQTFQqXu3VRHesdnU3IHsjq5TUDMbN3sr1O1HUq+nOR7N7%0Ao1AoeHXCt7w1tiM+tTxy1Pd4S85ncXKwYsG0brw0ah0Th7UlI0PD7I/2c+lqKCYmSt4e15kXG1cm%0ANS2T6Yt2cf12FFW8HImMTmTu5IBcbT5Lvj35KC6ZGyFReLrZY25ugo2VOROGteWVbg2xsTbXW/G0%0A0X6c+mESJ7dMYMWcPrzYuAofzX4JP19vtgddBGB70EU6tvIGspeH23vkMukZau6HxhLyIIYGtQt+%0AIUIIIf7drt+Jop53/ktnX74RzqzxXTj47Rjuh8Vy9tL9YmnXy8MBTVYWj2KT+W7HbygUcOCbQJa/%0A2yd705B0Net3nMHW2oKD341h8oh2/HE9rNDt5Juw5y0PIjYuJdfx+IQ05n9ysNANPRb4WkuCz9ym%0Aw8BPOXX2DoGv+QJQs4oLXdvXwX/IaoZN+565kwNkhrgQQohi06C2B+4utiiVCmpXd+NBeFyxt3Hm%0A0n16dcree6NaJSc83ey48+ARZy7do7tfXQC8q7pQq2rht+nM95b43Yexee55/UIDL2Z/tL9QjbRo%0AVJkWjSoD4GBnyfrlg/MsN25Ia8YNaV2ouoUQQgiAGlWcCTp+Jd/PzUyfpDyVUoFao38+VkHcC41F%0ApVTi6GBVLPXlJ98h7NMzu/9OrS7dPUGFEEKIv2vZuDIZmWo27j6nO3b1VgS/XbhnsDYfxSUze+l+%0ABvdpikKh4AUfL3Yf+gOAO/cfERqRQJWKjjSpX5H9x/4E4EZIFNduRxa6rXxH2JU8y3Ps5xu0f7FG%0AjuPHT9+kokfpzp4VQghhHAoyWay4KBQKVi3ox/srD7Lm+58wN1Ph6WbPrPHZr3UVl7R0Nd2Hr9G9%0A1tW7s49ug6xBvZsy+6P9BAxdjYmJkg9m9sTczIRBvZsybeEuugxeRVUvR2pUccbGSv98sKflm7Bn%0Aje/MyBmb2H/sT91D/EtXw/j98gNZZ1wIIUSZ5Opkw8p5L+c6XqWio+7RLMDcyQG6n7//5MmWmye3%0ATND9nN8M8RvHZ+Xbvrm5CR/M7Jn7uJkJH816CXNzE+4+jGHI5A2FXgI834RdpaIj+78ezZ7Df3D9%0AdhQAzRtWYsHUbpibF2i9FSGEEP9Ssr1mTqnpmbw28TvUag1aLcybEoCZqapQdTwz85qbmfBy14b/%0AKEghhBDi387a0pxdX4z8R3XIe1NCCCGEEZCELYQQolgoFQoy5S2iIstUa1Aq8l+uO9+EPWjSdwAs%0AWXW4+KMSQgjx3KlayZGdBy9J0i6CTLWGnQcvUbWSY75l8n2GHfUoSbceeHe/umj/9n75s5Z/E0II%0A8e8zc2wnFn12iO93nSXr70lDPJNSoaBqJUdmju2Ub5l8E/akEW3577f/IzwqkQWfHsrxmQIFG1bk%0AvVqZEEKIfycnByuWvdO7tMN4buWbsAPa1SGgXR1WfnOS8UPblGRMQgghhPgbvS9Ujx/ahsPB1/j1%0Ar6XdWjSqRIeWNQ0emBBCCCGe0DtL/MPPj/D1tl+pUdmZGpWd+Xrbryxdc7QkYhNCCCHEX/SOsI/9%0AfJO9X45Cqcyeat7H34ceI75g6qgOBg9OCCGEENkK9B52QlKa7ufE5Px38RJCCCGEYegdYQcO8qXH%0AiC9o0agSWi38duEe00bL6FoIIYQoSXoTds+O9WjRsBIXr4YCMCPQD2dHa4MHJoQQQognCrTtlouT%0ADR1beRs6FiGEEELkQ9YSF0IIIYyAJGwhhBDCCDwzYWs0WXQa9FlJxSKEEEKIfDwzYatUSqpWdCQ0%0AIr6k4hFCCCFEHvROOotPTMN/yGp8antgWc5Ud3zN4gHPPC89Xc2A8d+QkalGo8nCv11tJg1vR1xC%0AKhPm/sCDsHgquNuxcl5f7GwsAFi1Ppgt+86jUip4d6I/bZpV+2dXJ4QQQjwn9CbsySPbFaliMzMV%0A65cPxsrSjEy1hv7jvqZt8+ocPHmVlo2rEDjIl9XrT7F6/SlmjOnIjZAo9h65TNA3gURGJzJkygYO%0AbxiLSiWP2YUQQgi92bB5w0pUcLNDrdbQvGElfGp5ULemm96KFQoFVpZmAKjVWajVWSgUCg4HX6OP%0Avw+QvczpoeBrABwOvkZ3v7qYm5lQ0cOBSp4OXLgS+k+uTQghhHhu6E3Ym/acY9y725i1dD8A4VEJ%0ABL69pUCVazRZdB++hma9luHbtAoN63gSHZuMi5MNAM6O1kTHJgMQEZWIu4ut7lw3Z1siohMKfUFC%0ACCHE80jvLfH1O86w/fMR9A1cB0CVio48+ivJ6qNSKdn75SgSEtMInLWFa7cjc3yuUChQoChUwBt3%0An2PTnnMAxMaoSUpILNT5jy1dujQ7hpTgIp1fHLR/xeDp6am3bFGvsyB0fZFZ3mBtFIR2aROg7PRH%0AeHkHg7VRoDiaNgdKtz+uX7tmkHqLqqa3LOAk/r30JmwzUxVmpird749vbReGrU05XmxUmZO/3MLJ%0AwYrI6ERcnGyIjE7E0cESAFdnG8Iin4yow6MScHWyzVXXwJ6NGdizMQABb2zG2tamULE8NnXqVABM%0AD2cU6fzikDk1e0329xcu1Fu2pW9Lg8Wh64v9Aw3WRkFkTt0IlJ3+ODvgFYO1URDdNm0FSrc/HvdF%0AWXH0xPHSDkGIUqM3YTdrWInPvgsmLV1N8G+3Wb/zDB18a+it+FFcMqYqFbY25UhLzyT4zG1Gv9oS%0AP19vtgddJHCQL9uDLuqWPPXzrcnk93YwvF8LIqMTCXkQQ4PaHv/8CoUQ/9iC8XtLtf13VnYv1faF%0AKAv0Juzpo/3Ysu93vKu6sHH3Wdq1qE7/7o30Vhz1KIlpC3eh0WjJ0mrp1r4OHVrWpFHdCoyf8wNb%0A9p3H0y37tS6AmlVc6Nq+Dv5DVqNSKZg7OUBmiAshhBB/0ZuwlUoFffwb0LCOJwqgipdTgW6J16rm%0Ayp51o3Idd7CzZP3ywXmeM25Ia8YNaa0/aiGEEOJfRm/CPvbzDWYt3U8lTwe0Wi33w+J4f2o32rWo%0AXhLxCSGEzk+nftJbxpDzG4QoTXoT9sJPD7FhxWAqV8ieQXz3YQwjZ2yShC2EEEKUIL0Pia0szXTJ%0AGsDLw0G3IIoQQgghSka+I+yDJ64AUN/bg+HTNtK1Qx0UwIHjV/CpJbO3hRBCiJKUb8I+8tMN3c9O%0A5a349fxdAMrbW5KWrjZ8ZEIIIYTQyTdhfzCzZ0nGIYQQQohn0Dvp7H5oLN9u/40HYXFoNFm64/q2%0A1xRCiOdNh7btSjuEHGTlt38XvQk78J0tvNKtER1a1kSpLNySpEIIIYQoHnoTtrmZCa+/3KwkYhFC%0ACKOg0ZbuKowqRZb+QuK5ozdhv/5yMz756gStXqiWYxOQet7uBg1MCCGEEE/oTdjXbkey88dL/Hwu%0ABMVft8QVKNiwIu/lRYUQQghR/PQm7P3Hr3Bs0/gco2shhBClT5Zq/XfR+yCmZhVnEpLSSiIWIYQQ%0AQuRD7wg7MSmdzoM+w6eWR45RtrzWJYQQQpQcvQl74vC2JRGHEEIIIZ5Bb8Ju3rBSScQhhBBCiGfQ%0Am7B9uixB8dd6KRlqDWp1FpblTLkQNMPQsQkhhBDiL3oT9sWDTxKzVqvlUPA1zl9+aNCghBBCCJFT%0AoZbrUSgUdG5di//9dstQ8QghhBAiD3pH2I/3xQbI0mq5dDUMczO9pwkhhBCiGOnNvE/vi61SKang%0AZsfqhf0NGpQQQgghctKbsGVfbCGEEKL05ZuwV359Mv+zFDB+aBtDxCOEEEKIPOSbsC3KmeY6lpqW%0AyZZ954lLSNGbsEMj4pm6cBePYpJRKKB/j8YMe6U5cQmpTJj7Aw/C4qngbsfKeX2xs7EAYNX6YLbs%0AO49KqeDdif60aVbtH16eEEII8XzIN2GPHPCi7ueklHS+3vor2/ZfoHuHOox46rN8K1YpeXtsJ+p5%0Au5OUkk6vkWtp9UJVfjhwgZaNqxA4yJfV60+xev0pZozpyI2QKPYeuUzQN4FERicyZMoGDm8Yi0pV%0AuvvOCiGEEGXBM7NhXEIqy744RrfX16DRZLF73UhmjOmIk4OV3opdnGx0e2ZbW5pTvZITEVGJHA6+%0ARh9/HwD6+PtwKPgaAIeDr9Hdry7mZiZU9HCgkqcDF66E/tPrE0IIIZ4L+Y6wF312mB9PXmVAj0bs%0A/3o0VpZmRW7kQVgcl2+E06COJ9Gxybg42QDg7GhNdGwyABFRiTSs66k7x83ZlojohFx1bdx9jk17%0AzgEQG6MmKSGxSDEtXboUAEVKcJHOLw7av2Lw9PTUU5IiX2dB6Pois7zB2igI7dImQNnpj/DyDgZr%0Ao0BxNG0OlG5/PO4LTxe1QeovdBxl5Ltx8rjBmihgHNn/LO3+ECUr34S9bvPPmJma8Om3wXz23ZOk%0AptWCQkGBlyZNTslg7OytzB7fGRsr8xyfKRQKFCgKFfDAno0Z2LMxAAFvbMba1qZQ5z82depUAEwP%0AZxTp/OKQObUDAO8vXKi3rCH3tNX1xf6BBmujIDKnbgTKTn+cHfCKwdooiG6btgKl2x+P+2LB+L0G%0Aqb+g3lmZHUdZ+W5otKX7qK59+yyg9PtDlKx8E/bNE7P/ceWZag3jZm+lV6f6dGlbGwAnBysioxNx%0AcbIhMjoRRwdLAFydbQiLfDKiDo9KwNXJ9h/HIIQQQjwPDPZnolar5a0le6hWyYkR/Vvojvv5erM9%0A6CIA24Mu0rGV91/Ha7L3yGXSM9TcD40l5EEMDWp7GCo8IYQQwqgYbI3Rs5fus/PgJbyrutB9+BoA%0A/vNGewJfa8n4OT+wZd95PN2yX+sCqFnFha7t6+A/ZDUqlYK5kwNkhrgQQgjxF4Ml7KY+Xtw6mfdt%0A9fXLB+d5fNyQ1owb0tpQIQkhhBBGS4awQgghhBGQhC2EEEIYAUnYQgghhBGQhC2EEEIYAUnYQggh%0AhBGQhC2EEEIYAUnYQgghhBGQhC2EEEIYAUnYQgghhBGQhC2EEEIYAUnYQgghhBGQhC2EEEIYAUnY%0AQgghhBGQhC2EEEIYAUnYQgghhBGQhC2EEEIYAUnYQgghhBGQhC2EEEIYAUnYQgghhBGQhC2EEEIY%0AAUnYQgghhBGQhC2EEEIYARNDVTxj8W6O/nQDRwcrgr4JBCAuIZUJc3/gQVg8FdztWDmvL3Y2FgCs%0AWh/Mln3nUSkVvDvRnzbNqhkqNCGEEMLoGGyE3de/AV99+GqOY6s3nKJl4yoc3TiOlo2rsHr9KQBu%0AhESx98hlgr4J5KsPX2XORwfQaLIMFZoQQghhdAyWsJs1rIS9rUWOY4eDr9HH3weAPv4+HAq+pjve%0A3a8u5mYmVPRwoJKnAxeuhBoqNCGEEMLoGOyWeF6iY5NxcbIBwNnRmujYZAAiohJpWNdTV87N2ZaI%0A6IQ869i4+xyb9pwDIDZGTVJCYpFiWbp0KQCKlOAinV8ctH/F4OnpqackRb7OgtD1RWZ5g7VRENql%0ATYCy0x/h5R0M1kaB4mjaHCjd/njcF54uaoPUX+g4ysh34+RxgzVRwDiy/1na/SFKVokm7KcpFAoU%0AKAp93sCejRnYszEAAW9sxtrWpkjtT506FQDTwxlFOr84ZE7tAMD7CxfqLdvSt6XB4tD1xf6BBmuj%0AIDKnbgTKTn+cHfCKwdooiG6btgKl2x+P+2LB+L0Gqb+g3lmZHUdZ+W5otKU7X7d9++xHhqXdH6Jk%0Alei3zsnBisjo7L/2IqMTcXSwBMDV2YawyCcj6vCoBFydbEsyNCGEEKJMK9GE7efrzfagiwBsD7pI%0Ax1befx2vyd4jl0nPUHM/NJaQBzE0qO1RkqEJIYQQZZrBbolPnLedX36/S2x8Cr59lzNxWFsCX2vJ%0A+Dk/sGXfeTzdsl/rAqhZxYWu7evgP2Q1KpWCuZMDUKnkFXEhhBDiMYMl7BVz+uR5fP3ywXkeHzek%0ANeOGtDZUOEIIIYRRk2GsEEIIYQQkYQshhBBGQBK2EEIIYQQkYQshhBBGQBK2EEIIYQQkYQshhBBG%0AQBK2EEIIYQQkYQshhBBGQBK2EEIIYQQkYQshhBBGQBK2EEIIYQQkYQshhBBGQBK2EEIIYQQkYQsh%0AhBBGQBK2EEIIYQQkYQshhBBGQBK2EEIIYQQkYQshhBBGQBK2EEIIYQQkYQshhBBGQBK2EEIIYQQk%0AYQshhBBGwKS0A/i7E7/cZP4nB9FkaenfrRGBg3xLOyQhhBCi1JWpEbZGk8Xcj4P48sNXOfjtGPYc%0A+YMbIVGlHZYQQghR6srUCPvClVAqeTrg5eEAQHe/uhwOvkaNys4GazOzo5nB6jY2mV03lnYIZUqT%0ATVtLO4Qy452V3Us7hDJFpcgq7RDEv5Di1snZ2tIO4rEDx//k5C+3WDSjBwA7Dl7kwp8PmTs5QFdm%0A4+5zbNpzDoDbd6OpWsmpVGIFiIlLoby9Zam1X9ZIf+Qk/fGE9EVOpd0fD8PjOLNnaqm1L4qmTI2w%0AC2Jgz8YM7Nm4tMMAoNcba9n1xcjSDqPMkP7ISfrjCemLnKQ/RFGUqWfYrk62hEUm6H4Pj0rA1dmm%0AFCMSQgghyoYylbB9ankQ8iCG+6GxZGRq2HvkMn6+NUs7LCGEEKLUqSYOazu3tIN4TKlUUKlCeaa8%0Av5Pvtv9Gr871CWhXp7TDeqb63u6lHUKZIv2Rk/THE9IXOUl/iMIqU5POhBBCCJG3MnVLXAghhBB5%0Ak4QthBBCGAGje62ruNRo9z7eVV10v69e0I8K7vYGaev07yGs3XSatUsGGKT+4vS4X9SaLKpXcuLD%0At3thUc40z7IJiWnsPvwHg15q+sw6C1quLHrcH1qtFpVSyZxJ/jSpX7G0wyoT8vuuvDzmK7atGlba%0A4RWLqEdJzF95kEtXw7CxNsfJwZrZEzoTEZ2Y73/TM5fsYXj/FtSo7Eybfp+wc81Iyttb5tsvun5U%0Aa1CplLzUxYfh/VqgVCpK4hKFEfnXJuxy5ibs/XJUvp+r1VmYmPz7bkA83S+T39vB97vOMqJ/izzL%0AJiSlsX7nGf0Ju4DlyqKn++Pkr7dYuuYoG1cOLeWoyob8vivPS7LWarWMmbWFPv4N+GRuXwCu3Awn%0AOib5mec9Xvjp7/Lrl6f7MTo2mcnv7SApJZ1Jw9sVOXbxfPrXJuy8bDtwgR9PXCE5NZOsrCw2rhzK%0Amo0/sf/Yn2RkaOjcxptJw9vxICyO4dO+p4mPF7//cR9XJ1s+X9SPcuamhDyIYfay/cTEJaNSKln5%0AXvZ/6CmpGYybvZXrd6KoV9Odj2b3RqEo239Bv9DAi6u3IgBYt/k0W/efB6B/t0YM69ecDz4/wr2H%0AsXQfvgbfplWZ8HobRr+9mYTENDLVGqaMbE+n1t65yr01xo/Fq45w4pebKIBxQ1rT3a9uKV5pwSQl%0Ap2NrUw6A5JSMPK8VYHvQBdZuOo1CAbWqubJsVm8ehMUxY/EeYuOzV7j6YGZPPFztmLZwF9ZW5ly6%0AGkZ0TBIzxviV+Tcj8vL0d6V+l8VcOvgWH687zpFT14Hslb1avVCVhnU8+X7XWQASk9LxdLfj+xVD%0AmL1sPxevhpKenol/u9plIln9fC4EE5WKV3s10R2rXd0NyL5rlt9/069O+Ja3xnbEp5ZHjvoe98uz%0AODlYsWBaN14atY6Jw9qSkaFh9kf7uXQ1FBMTJW+P68yLjSuTmpbJ9EW7uH47iipejkRGJzJ3ckCu%0ANsXz5V+bsNPS1XQfvgaACu72rF7QD4DLN8LZ99Vo7G0t+N+vtwh5EMOOz0eg1cKomZv59fxdPFzt%0ACHkYw/I5fVg0vTvj52wj6MQVenf2Ycr8HYx+zZcubWqRnq4mS6slLDKByzfCCfomEFcnG/qN+4qz%0Al+7T1MerNLvgmdTqLE6cvkmb5tW4dC2MbfvPs331cLRa6Bu4jmYNvZg+2o/rd6J0owO1OotVC/ph%0AY8unpb4AAAwrSURBVGVOTFwKfcd8ScdWNXOVCzp+hSs3w9n35Shi41PoPWodzRp44eJU9hbJefw9%0ASc9QE/koifXLBwNgbmaS57XeCIni02+D2frZMMrbWxKXkArAvBVB9PH3oW9AA7buO8+8FUF8vrA/%0AkH3bdcunr3PrXjSjZm42uoT99HflaZNHtGPyiHYkJKbR/82vGdznBep7u/NqryZkqjUMmvQdI/pl%0A3735z//bu/O4qMo9juOfOcMiiyCiKAiomDugseg1lRZyQSW5apq5ZaapZS7tZTctsyyzXHJLzSXK%0A7jW3W3DNPTUXcEHcUFEWQYldFGSZmfvH5CjGACogI7/3fzwznnnOeZ3xd55nzvk+o5+kjp0VGo2W%0AYZO/50xsCq2aNXgQu2Nw9mIqnqU8elVZ32l3Fwc0Wi3pmdfZ+Fs0KhWErxpLbHwaI14PZXvoK3y/%0AIRI7Wyu2rBlHzIU/CR619L4/V1R/NbZgG5sS7+znQR07KwD2RFxgb8QFgkd9C8D1vALiLmXg0sAe%0A14YOtGmuv9r2bOHMpcvZXMvNJyUthx4BrQCwtLx1eNu1dsHZyQ7QX6VfupJVLQv27Rcyft7uPNv7%0AUUI3RtI9oBXWVvqFUroHtCLieCJP3xFqo0PHl0t3cCgqAUVRkZKaU+L0YWR0IsGBnqjVCvXq2tKx%0AfWOOn0nm6S4tK38H79Lt58mRE5d485ONhK8aa3Rf9x+JI+jJ1oac6Jvn0tGTl1g441kAQnp4MWvx%0ANsNndOvSEkVR0bxJfdLLmG6tTko6V+6k0+mYMmMjowb9o9hzxx/P20InnyaGYKSwnadYu/kIRRot%0AqenXOBeX+sALdlmq4jsdGZ3I8H7+ADRrXI9GDe25eCmdyOgEXhjQEYCWHk608qjex0pUjBpbsI2x%0Avv0GKx2MHdK52JQYwKXLWVhYqA1/K4qCRlNU6nYtzG8darWiokhTPR9/L+u3/dJs2nqC9KxcNi17%0ACXMzNQED55FfUPpxMSU+nq5kZOeRnpXLrgPnK2xfbz+XdFTP86Ik5TlX5n63m4b1azOgV3tD27rw%0AKJKuZDNtkn5Rn8TkTL5du5+NS0dhX9uKN2duIr9AU6l9L4/mTevzv12njb5eWd/phORM1IqCo4NN%0AhWxPPDxq3l1Vd6FrBw/WhR3jem4BoM82T8s0PgKytbakYX07fttzBoD8giLybhRWSV8rk7+3O1v3%0AxJB3o5DcvAJ+2xODv7cbNtYWhmMDkHPtBo4ONpibqdl/JI6kK9kAf3ufv7cbv+44iUajJT3rOoei%0AEmjXulGV79fdio1PQ6vV4mBnZXRfO/k0IXznaTKzcwEMU+I+bV35ZftJQH9hUx1nVyra9n1n2Rd5%0AkX9N7Gloi465zLK1+5nzQYjhLuhruflY1zKntk0t0jKusftg7IPqcjGP+TShoLCIHzcfMbSdiU0h%0AIiqh0j4zPes6H8wOY1g/P1QqFf7e7mzeegKAi4npJKdcpambI75eboTtPAXAubhUYi78WWl9EtWH%0AjLBL0bVDM87HpzFg3ApAX3i+nBqCWjF+nTP7/b5MnR3G18t3Y2amsOCjAVXV3Urj2dKZ/kHt+OfL%0AywH9TWdtW+inN329XOk5YjGPd3yEl59/jDHvriVoxGK8WrnQzN0RAAd762Lve2dcIEdOJtH7xaWo%0AgLfHBlLf0fZB7V6pbp/21el0fPFeX9Rqhb7dvErc1xZNnRg/rAuDX1uNWlHRpnlDvnivLx9O6slb%0An/6Xb3/cb7jp7GG3/N8HSEnLod9f501g5xZc/vMq2VfzGDJxDaCP5/z07WDaNG9It6ELcXayw9fT%0A9UF220ClUrHok4HMmL+FpT/8gaWFmkYN6zB1gv6xropy8xy7+VhXSHdvw5MZQ0P8+GBOGEEjFmNm%0ApvD5u89gaWHG0BA/3py5iR7DFuHh7kjzpvWpbWNZYX0S1ZNEkwohhInRaLQUFWmxtDQjPimD4ZND%0A2Ro6Hgtzddn/WJgsGWELIYSJycsvZMjENRQVadDpYPqUICnWNYCMsIUQQggTICNsIwIGzsPGygK1%0AWv979fTJQSVGUj5MMYx3KimWsVvXlmzfd7bMSEYhhBAVSwp2KULnDjc8T3unm9GlD2uxNhbLuO2v%0A5KqSGItkFEIIcf+kYN+FA0fj+Gr5LuxtaxGbkM72H14pFjdYUoxpbl4BEz78mSupV9FodbxqIjGc%0AxmIZs3NusP9wXJmRjF49PmNQHx/2RsRSr64tc6f1w7GODSvXHeLHTYdRqxUeaVLPcDEghBCidFKw%0ASzFk4mrUagULczXrl4wC4OTZK4SvfBk3F4di7zUWY5qRlYtTvdos/3wwoH9W2RSUFstYnkjG3LxC%0AvFo6M3VCd+av/J353/3OtMlBLAndx66fJmBpYcbVHNM4FkIIUR1IwS5FSVPi3q1d/laswXiMqX87%0Ad2Yu3MqsRdt46rEW+Lcz/cCM8kQyKoqK3k/pZxL6dvdi/NT/ANCyWQOmfLyBbl1b0q1Lq6rtuBBC%0AmDAp2HfJupZFyS8YiTEF2LxsNLsOnGPOsp085tuUCS8EVHIv719psYz3Esl4c2Gy5bOe41BUAjv+%0AOMvC1XsJWzm2Ri5jKoQQd0v+p6wgxmJMU9JysLI0J6S7N6MHd+LE2csPuKflYzSW8Xj5Yhm1Wh3h%0Au/XRiZu3nsDXyx2tVr9yWSefJrw1NpCc6/nk5hWUsSUhhBAgI+wKYyzGND4pk88WbkNRVJiZKXw0%0ApdcD7mn5GItlvLnmc1msrcw5fjqZb1bvxbGODfOm90Oj1TJlxkZyrt1AB4zo38GwvrQQQojSSXCK%0AqBS33z0vhBDi/smUuBBCCGECZIQthBBCmAAZYQshhBAmQAq2EEIIYQKkYAshhBAmQB7rEg+tzOxc%0Ahk3+HoDUjGuoFcWQXLd+yagqWz/4XFwqk6avR1FULJoxEFfnOobXOvf/GjvbWoZV4Wa80Zv2bRrd%0A1+dN+XgDPZ9oTfeukiQnxMNECrZ4aDnYW/PLijEAzF2xG2srC0YP7lTl/diy+wzBgZ6MHdq5xNd/%0AWvCCPI8uhCiTFGxR48xeugMnx9oM7+8PwKxF23BpYI+HuyPfrNmLpYUZicmZdPb1YNrknqhUKnYd%0AOM+CVb9TUKChsWtdZr0TjLVV8ZjaEzGX+decMG7kF9Hkr/ccPBbPmg0RqBWFfYcvsuaroWX2T6vV%0A8enCreyJuIAKeG1kAEFPtCm1fdrX4ew/Eoezkx2KIr90CfEwkoItapwBvdoz6aP1DO/vj0ajJXzX%0AaTYte4kTMZeJOpXEltXjcHayY/iUULbujcHH040loftY89UwrGqZ883qPaxcd4jxw7oU2+7rMzby%0AyVt98PNyY/bSHcxftYf3XulG1Olk6tpbM3JgxxL7M+jVlajVCrUszVm3aCRhO09xPj6NX1eMISMr%0Al5Axy/Fv15gDR+JKbD94NI7Ey1lsWT2OlLQceg5fxPN9fariUAohqpAUbFHjNHGti42VJTGxKSSl%0AZOPd2gX72lYAtG/javiNuU9gWyKPJwJwPi6NZ8d/B0BhoQZfb7di28zMziW/oAg/L317v57evD5j%0AU7n6c+eUeGR0IsGBbVGrFeo72uLn7Ub0mWSj7RFRCQQHtkVRVDg72dGxfeP7O0BCiGpJCraokQb2%0Abs/P4ce5dCWLwc/cGo3eXFXs1t8qdDoI6NiML6eGVHEvhRDiFvmxS9RIPR9vzfY/znL6fAqd/TwM%0A7cdOJZGcko1GoyVs5yn8vNzw9XTl4LF4EpIzAcjNK+BiYnqx7TnYW1PL0ozD0foR+YYt0XS4x5Gu%0Av7cbv2w/hVarIy3jGoejE/Fq5WK8vZ07v+7Qt19JvcrBqPKtqCaEMC0ywhY1kqWlGR3auVOvri2K%0AcmtY7d3ahamzw0hIzqCzrwdPd2mBSqXis7eDeW3azxQWagB4Y8xTNHVzLLbN2e+HGG46a9zIgc/f%0Afeae+hb0RBuOnUqi18glqID3X+1GPQebUtsPHI2nx/BFuDjZ82hb13s9LEKIakyyxEWNpNXq6PPi%0AUhbPHIi7iwMA+yIvsHp9BEtmDnrAvRNCiL+TKXFR48TEpvDkcwsI6NjMUKyFEKK6kxG2EEIIYQJk%0AhC2EEEKYACnYQgghhAmQgi2EEEKYACnYQgghhAmQgi2EEEKYACnYQgghhAn4PxlUtZaNsR5wAAAA%0AAElFTkSuQmCC"&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;facecolor是一个常用的设定名称, 在fig,ax,legend里面都是用的facecolor来设定颜色. 在matplotlib 2.0以后的版本里, 已经没有bgcolor这样的设定了.&lt;/p&gt;
&lt;p&gt;注意bar图里面的背景色, 并不是在plt.bar里设定facecolor为灰色, 而是设定在ax里. 不清楚这样的理由何在.&lt;/p&gt;
&lt;p&gt;总之, 要实现一个看起来酷似MS PowerPoint制作的bar图还是见挺费劲的事情. 就算是为了自己, 也得宣传"Less is More"&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="补充:-如何选取颜色"&gt;补充: 如何选取颜色&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#%E8%A1%A5%E5%85%85:-%E5%A6%82%E4%BD%95%E9%80%89%E5%8F%96%E9%A2%9C%E8%89%B2"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;最后要补充一下, 为了原样还原配色, 我用了mac预览中的取色工具, 找到原作中颜色的十六进制代码. 
&lt;img src="https://i.loli.net/2018/01/21/5a6369bca5076.png" alt=""&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="综上"&gt;综上&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/dejunkifying-a-plot/#%E7%BB%BC%E4%B8%8A"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;结论是如果做乙方的话, 一定要花足够长的时间给甲方洗脑, 洗到less is more形成本能. 如果你省掉了什么时间, 一定会乘10花到工作时间上.&lt;/p&gt;
&lt;p&gt;因为, 要做一张难看的图实在是需要写太多代码了!&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/dejunkifying-a-plot/</guid><pubDate>Sat, 20 Jan 2018 08:30:00 GMT</pubDate></item><item><title>如何写一个球面Ray tracing程序(1)</title><link>https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="直线与平面的交点"&gt;直线与平面的交点&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E7%9B%B4%E7%BA%BF%E4%B8%8E%E5%B9%B3%E9%9D%A2%E7%9A%84%E4%BA%A4%E7%82%B9"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;在Ray tracing的时候，如果光线最终打到一个平面屏幕上，就需要知道每个光线的落点。直线和平面的交点求解比较简单，先用来练手热身。&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://goldengrape.github.io/images/ray-tracing-1.1.png" alt=""&gt;&lt;/p&gt;
&lt;h3 id="直线的表示"&gt;直线的表示&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E7%9B%B4%E7%BA%BF%E7%9A%84%E8%A1%A8%E7%A4%BA"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;一条直线上任意一点P可以用直线上已知一点PLine，和直线方向的向量NLine来表示，写出参数方程就是，注意啊，这里的PLine,NLine都是矢量，但t是标量, 有如下(1)式
$$
P_{(t)}= P_{Line}+t \times N_{Line}
$$&lt;/p&gt;
&lt;h3 id="平面的表示"&gt;平面的表示&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E5%B9%B3%E9%9D%A2%E7%9A%84%E8%A1%A8%E7%A4%BA"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;一个平面，可以用平面上已知一点PPlane，和垂直于这个平面的法向量NPlane来表示。&lt;/p&gt;
&lt;h3 id="用参数方程求交点"&gt;用参数方程求交点&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E7%94%A8%E5%8F%82%E6%95%B0%E6%96%B9%E7%A8%8B%E6%B1%82%E4%BA%A4%E7%82%B9"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;假设现在直线与平面交点是P点，那么可以画一个从平面上已知点PPlane到P点的向量，比如叫V=P-PPlane&lt;/p&gt;
&lt;p&gt;代入上面（1）式
得到(2)式
$$ 
V=P_t-P_{Plane}
\\
V=(P_{Line}+t \times N_{Line}) -P_{Plane}
$$&lt;/p&gt;
&lt;p&gt;显然V矢量是在平面内的，那么“垂直于这个平面的法向量NPlane”当然也垂直于V矢量，NPlane⊥V，这件事情在数学上有明确的表示，就是NPlane矢量和V矢量的dot product是等于0的。
$$
dot(V,N_{Plane})=0
$$&lt;/p&gt;
&lt;p&gt;把V替换成(2)式&lt;/p&gt;
$$
dot(P_{Line}+t \times N_{Line}-P_{Plane}, N_{Plane})=0
$$&lt;p&gt;dot product是满足分配律的，于是有
$$
dot(P_{Line}-P_{Plane}, N_{Plane}) + dot( t \times N_{Line}, N{Plane})=0
$$&lt;/p&gt;
&lt;p&gt;其中t是标量，可以提取到dot product外面来
$$
dot(P_{Line}-P_{Plane}, N_{Plane}) + t \times dot( N_{Line}, N{Plane})==0
$$
化简一下：&lt;/p&gt;
$$
t= - \frac{dot(P_{Line}-P_{Plane}, N_{Plane})}{dot( N_{Line}, N{Plane})}
$$&lt;p&gt;里面再调换一下位置，把难看的负号去掉。铛铛：&lt;/p&gt;
$$
t=\frac{dot(P_{Plane}-P_{Line}, N_{Plane})}{dot( N_{Line}, N{Plane})}
$$&lt;p&gt;这就是程序里算出t的方法了。有t的值，只要代入(1)式就可以求出交点P了。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;lineCrossPlane&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;PLine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;NLine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;PPlane&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;NPlane&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;'''&lt;/span&gt;
&lt;span class="sd"&gt;    直线以起点PLine和方向向量NLine表示&lt;/span&gt;
&lt;span class="sd"&gt;    平面以平面上一点PPlane和法向量NPlane表示&lt;/span&gt;
&lt;span class="sd"&gt;    求其交点P&lt;/span&gt;
&lt;span class="sd"&gt;    直线有多组，平面仅一个&lt;/span&gt;
&lt;span class="sd"&gt;    '''&lt;/span&gt;
    &lt;span class="n"&gt;tup&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;PPlane&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;PLine&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;NPlane&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;tdown&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NLine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;NPlane&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tup&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tdown&lt;/span&gt;
    &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expand_dims&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 为了满足与t与NLine的乘法, 需要将t扩展一维&lt;/span&gt;
    &lt;span class="n"&gt;P&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PLine&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;NLine&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;P&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 测试结果: &lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"__main__"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;pline&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
    &lt;span class="n"&gt;nline&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
    &lt;span class="n"&gt;pplane&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;nplane&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lineCrossPlane&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pline&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;nline&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;pplane&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;nplane&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[[ 5.  0.  0.]
 [ 5.  1.  2.]]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/</guid><pubDate>Mon, 15 Jan 2018 15:30:00 GMT</pubDate></item></channel></rss>