<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>GoldenGrape's Blog</title><link>https://goldengrape.github.io/</link><description>This is a blog site for GoldenGrape.</description><atom:link href="https://goldengrape.github.io/rss.xml" rel="self" type="application/rss+xml"></atom:link><language>zh_cn</language><copyright>Contents © 2018 &lt;a href="mailto:https://twitter.com/goldengrape"&gt;Golden Grape&lt;/a&gt; </copyright><lastBuildDate>Wed, 17 Jan 2018 09:00:56 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Fibonacci数列通项公式</title><link>https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;这几天在家做了Fibonacci火锅,&lt;/p&gt;
&lt;p&gt;今天的火锅汤=昨天的火锅汤+前天的火锅汤. 对了, 剩下的火锅汤还可以做成浓汤宝, 大火收汁差不多以后倒入冰盒中冷藏或冷冻即可.&lt;/p&gt;
&lt;p&gt;于是突然想起来以前学过如何求Fibonacci数列的通项公式. 很华丽的. 不记下来可惜了. 先当作是LaTeX和sympy的练习吧&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="母函数"&gt;母函数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#%E6%AF%8D%E5%87%BD%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Generating Function, 定义是这样的:&lt;/p&gt;
$$
G(x)=\sum_{i=0}^{\infty} a_i x^i
$$&lt;p&gt;其中每一项的系数$$a_i$$就是一个数列$$\{a_i\}$$的第i项.&lt;/p&gt;
&lt;p&gt;注意一定要加到无穷去, 我开始就是没有推到无穷, 只加到有限量, 于是公式推导不出来&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Fibonacci数列"&gt;Fibonacci数列&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#Fibonacci%E6%95%B0%E5%88%97"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;定义大家都很清楚了: 
$$
a_i=a_{i-1}+a_{i-2}
$$
其中
$$
a_0 = 0, a_1 = 1 , a_2 = 1
$$&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="利用数列定义求解母函数"&gt;利用数列定义求解母函数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#%E5%88%A9%E7%94%A8%E6%95%B0%E5%88%97%E5%AE%9A%E4%B9%89%E6%B1%82%E8%A7%A3%E6%AF%8D%E5%87%BD%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;一般的技巧就是利用数列定义中的等式, 凑出能够相减的东西.&lt;/p&gt;
$$
G(x) = a_0 x^0 + a_1 x^1 + a_2 x^2  + a_3 x^3  + a_4 x^4 ...=\sum_{i=0}^{\infty} a_i x^i
$$&lt;p&gt;把前两项写出来:&lt;/p&gt;
$$
G(x) = a_0 x^0 + a_1 x^1 + a_2 x^2  + a_3 x^3  + a_4 x^4 ...=a_0 x^0 + a_1 x^1 + \sum_{i=2}^{\infty} a_i x^i
$$&lt;p&gt;然后去凑等式, 两边都乘x, 注意变成了a的下标比x的指数小1:&lt;/p&gt;
$$
x G(x) = a_0 x^1 + a_1 x^2 + a_2 x^3  + a_3 x^4  + a_4 x^5 ... = a_0 x^1 + \sum_{i=2}^{\infty} a_{i-1} x^i
$$&lt;p&gt;一个不够, 再凑一个, 注意变成了a的下标比x的指数小2:&lt;/p&gt;
$$
x^2 G(x) =a_0 x^2 + a_1 x^3 + a_2 x^4  + a_3 x^5  + a_4 x^6 ... = \sum_{i=2}^{\infty} a_{i-2} x^i
$$&lt;p&gt;然后用第一个式子减去第二, 第三个式子:&lt;/p&gt;
$$
G(x)-x G(x)-x^2 G(x) = a_0 x^0 + a_1 x^1 + \sum_{i=2}^{\infty} a_i x^i - (a_0 x^1 + \sum_{i=2}^{\infty} a_{i-1} x^i) - \sum_{i=2}^{\infty} a_{i-2} x^i
$$&lt;p&gt;左边有G(x)是可以提出来的, 右边x的指数相同的部分可以加减.&lt;/p&gt;
$$
(1-x-x^2) G(x) = a_0 x^0 + a_1 x^1 - a_0 x^1 + (\sum_{i=2}^{\infty} a_i x^i - \sum_{i=2}^{\infty} a_{i-1} x^i - \sum_{i=2}^{\infty} a_{i-2} x^i) 
$$$$
(1-x-x^2) G(x) = a_0 x^0 + a_1 x^1 - a_0 x^1 + \sum_{i=2}^{\infty} (a_i-a_{i-1}-a_{i-2}) x^i 
$$&lt;p&gt;代入Fibonacci的通项公式, 和第0项, 第一项的值&lt;/p&gt;
$$
(1-x-x^2) G(x) = 0 x^0 + 1 x^1 - 0 x^1 +  \sum_{i=2}^{\infty} 0 x^i 
$$&lt;p&gt;化简, 求出G(x)&lt;/p&gt;
$$
G(x)=\frac{x}{1-x-x^2}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="利用母函数展开求解通项公式"&gt;利用母函数展开求解通项公式&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#%E5%88%A9%E7%94%A8%E6%AF%8D%E5%87%BD%E6%95%B0%E5%B1%95%E5%BC%80%E6%B1%82%E8%A7%A3%E9%80%9A%E9%A1%B9%E5%85%AC%E5%BC%8F"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Talyor展开的方式"&gt;Talyor展开的方式&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#Talyor%E5%B1%95%E5%BC%80%E7%9A%84%E6%96%B9%E5%BC%8F"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;其实解出&lt;/p&gt;
$$
G(x)=\frac{x}{1-x-x^2}
$$&lt;p&gt;就已经解出了通项公式了. 因为其实就是Taylor series.&lt;/p&gt;
$$
G(a)=G(a)+\frac{G'(a)}{1!}(x-a)+\frac{G''(a)}{2!}(x-a)^2+\frac{G'''(a)}{3!}(x-a)^3...
$$&lt;p&gt;当a=0时, 
通项就是&lt;/p&gt;
$$
a_i = \frac{G^{(n)}(0)}{n!}x^n
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sympy&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sympy&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;init_printing&lt;/span&gt;
&lt;span class="n"&gt;init_printing&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;#为了美化输出&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fib&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"x"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;diff&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;factorial&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;fib&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 或者调用sympy的级数函数&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fib_series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"x"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;fib_series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[3]:&lt;/div&gt;



&lt;div class="output_latex output_subarea output_execute_result"&gt;
$$x + x^{2} + 2 x^{3} + 3 x^{4} + 5 x^{5} + 8 x^{6} + 13 x^{7} + 21 x^{8} + 34 x^{9} + \mathcal{O}\left(x^{10}\right)$$
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="利用级数"&gt;利用级数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#%E5%88%A9%E7%94%A8%E7%BA%A7%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;不过多数情况下不这么干, 还是有不用求导求阶乘的方式.&lt;/p&gt;
&lt;p&gt;已知有特殊函数的Taylor展开式:&lt;/p&gt;
$$
\frac{1}{1-ax}=1+ax+a^2x^2+...
$$&lt;p&gt;这个好像在母函数里经常用的. 总是把一个母函数表示成上述多个级数之和. 也就是求解A,B,α,β使得:&lt;/p&gt;
$$
G(x)=\frac{x}{1-x-x^2}=\frac{A}{1-\alpha x}+\frac{B}{1-\beta x}
$$&lt;p&gt;那么G(x)就可以分别展开成&lt;/p&gt;
$$
G(x)= A (1+\alpha x+\alpha^2x^2+...)+B (1+\beta x+\beta^2x^2...)
$$&lt;p&gt;通项公式就等于
$$
a_n=A \alpha^n+B \beta^n
$$&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;当然可以通过乘法和对比系数求解A,B,α,β, 但对于我这么懒的人, 反正要求解4个参数, 而且对与任意x都成立, 就直接把x=+1, -1, +2, -2代入求解了&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;α&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;β&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"A B α β x n"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;G_left&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;G_right&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;α&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;β&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;G_left&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;G_right&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)],[&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;α&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;β&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;a_n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;simplify&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;α&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;β&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;α&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;β&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])))&lt;/span&gt;
&lt;span class="n"&gt;a_n&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[18]:&lt;/div&gt;



&lt;div class="output_latex output_subarea output_execute_result"&gt;
$$\frac{2^{- n}}{5} \sqrt{5} \left(\left(1 + \sqrt{5}\right)^{n} - \left(- \sqrt{5} + 1\right)^{n}\right)$$
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fib_G&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;simplify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a_n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;fib_G&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="参考课程"&gt;参考课程&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#%E5%8F%82%E8%80%83%E8%AF%BE%E7%A8%8B"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;组合数学: 
&lt;a href="http://www.xuetangx.com/courses/course-v1:TsinghuaX+60240013X+sp/info"&gt;http://www.xuetangx.com/courses/course-v1:TsinghuaX+60240013X+sp/info&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><guid>https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/</guid><pubDate>Tue, 16 Jan 2018 17:00:00 GMT</pubDate></item><item><title>见微知著: Magic Leap为什么会失败</title><link>https://goldengrape.github.io/posts/bulabula/why-magicleap-fall/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;Magic Leap取得了大量投资以建立基于光纤扫描的数字光场技术. 试图利用该技术解决调节集合反射的问题.&lt;/p&gt;
&lt;p&gt;经过6年的研发, Magic Leap自称将于2018年推出实体产品 Magic Leap One
&lt;img alt="" src="https://www.vrandfun.com/wp-content/uploads/2017/12/magic-leap-one-ar-headset.jpg"&gt;&lt;/p&gt;
&lt;p&gt;但是, 根据magic leap于&lt;a href="https://twitter.com/magicleap/status/717390550429786113"&gt;6 Apr 2016发布的一条twitter&lt;/a&gt;:
"When you start building tech with the body in mind, magical things happen. Step one: study the eye."
&lt;img alt="" src="https://pbs.twimg.com/media/CfSu50CW8AEt39K.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;图中大量的参数标注是错误的!&lt;/strong&gt; 这样粗心或无知的公司不可能按照预期将高质量的产品投放市场上. 投资人对数字光场技术的期望必将收到严重打击, 并将积极寻找替代技术.&lt;/p&gt;
&lt;p&gt;那么, 正确的眼球光学参数应当是怎样的?&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;项目&lt;/th&gt;
&lt;th align="left"&gt;Magic Leap标注&lt;/th&gt;
&lt;th align="left"&gt;Gullstrand模型眼&lt;/th&gt;
&lt;th align="left"&gt;吐槽&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;位置&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;角膜前表面&lt;/td&gt;
&lt;td align="left"&gt;0&lt;/td&gt;
&lt;td align="left"&gt;0&lt;/td&gt;
&lt;td align="left"&gt;参考原点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;角膜后表面&lt;/td&gt;
&lt;td align="left"&gt;1.15&lt;/td&gt;
&lt;td align="left"&gt;0.5&lt;/td&gt;
&lt;td align="left"&gt;错太离谱, 猪眼才这么厚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;前房深度&lt;/td&gt;
&lt;td align="left"&gt;3.54&lt;/td&gt;
&lt;td align="left"&gt;3.6&lt;/td&gt;
&lt;td align="left"&gt;这项看着还行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;晶体后表面&lt;/td&gt;
&lt;td align="left"&gt;7.60&lt;/td&gt;
&lt;td align="left"&gt;7.2&lt;/td&gt;
&lt;td align="left"&gt;晶体这么厚, 还是看着像猪眼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;黄斑位置&lt;/td&gt;
&lt;td align="left"&gt;24.75&lt;/td&gt;
&lt;td align="left"&gt;24&lt;/td&gt;
&lt;td align="left"&gt;眼轴每长1mm误差带来约+3D近视&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;曲率半径&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;角膜前表面&lt;/td&gt;
&lt;td align="left"&gt;7.98&lt;/td&gt;
&lt;td align="left"&gt;7.7&lt;/td&gt;
&lt;td align="left"&gt;前面太凸&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;角膜后表面&lt;/td&gt;
&lt;td align="left"&gt;6.22&lt;/td&gt;
&lt;td align="left"&gt;6.8&lt;/td&gt;
&lt;td align="left"&gt;后面太平&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;晶体前表面&lt;/td&gt;
&lt;td align="left"&gt;10.20&lt;/td&gt;
&lt;td align="left"&gt;10.0&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;晶体后表面&lt;/td&gt;
&lt;td align="left"&gt;-6.17&lt;/td&gt;
&lt;td align="left"&gt;-6.0&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;光学参数&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;由于上面的结构参数差别, 导致光学参数大不相同了.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第一主点位置&lt;/td&gt;
&lt;td align="left"&gt;1.54&lt;/td&gt;
&lt;td align="left"&gt;1.348&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第二主点位置&lt;/td&gt;
&lt;td align="left"&gt;1.86&lt;/td&gt;
&lt;td align="left"&gt;1.602&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第一焦点位置&lt;/td&gt;
&lt;td align="left"&gt;-15.59&lt;/td&gt;
&lt;td align="left"&gt;-15.707&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第二焦点位置&lt;/td&gt;
&lt;td align="left"&gt;24.75&lt;/td&gt;
&lt;td align="left"&gt;24.387&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第一节点位置&lt;/td&gt;
&lt;td align="left"&gt;7.30&lt;/td&gt;
&lt;td align="left"&gt;7.078&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第二节点位置&lt;/td&gt;
&lt;td align="left"&gt;7.62&lt;/td&gt;
&lt;td align="left"&gt;7.332&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第一焦距&lt;/td&gt;
&lt;td align="left"&gt;-17.13&lt;/td&gt;
&lt;td align="left"&gt;-17.055&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第二焦距&lt;/td&gt;
&lt;td align="left"&gt;22. 89&lt;/td&gt;
&lt;td align="left"&gt;24.387&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;正常值来自于Gullstrand模型眼在调节放松时的状态, 引用自2014年AAO教材Basic and Clinical Science Course (BCSC)第三卷Clinical Optics. 当动用调节时在实体参数上只有晶体的曲率和前表面位置发生变化.  &lt;/p&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/Allvar_Gullstrand"&gt;Allvar Gullstrand&lt;/a&gt;前辈1911年获得了诺贝尔奖, 并于1905年霸气地阻止了爱因斯坦的相对论获诺贝尔奖.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Gulsstrand" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Allvar_Gullstrand.jpg/412px-Allvar_Gullstrand.jpg"&gt;&lt;/p&gt;
&lt;p&gt;这些还只是比较了在光轴上的参数, 还有比如角膜直径被标成12-13, 人眼的角膜是10-11, 猪眼才13.&lt;/p&gt;
&lt;p&gt;如果你觉得Gullstrand模型眼太古老, 也可以去Zemax上找到&lt;a href="http://customers.zemax.com/os/resources/learn/knowledgebase/how-to-model-the-human-eye-in-zemax"&gt;如何建立人眼光学模型的教程&lt;/a&gt;, 参数上会有一些差别, 比如角膜厚度是0.55, 这个更接近人体测量值. 但即使有差别, 也不至于把厚度差到猪眼上去.&lt;/p&gt;
&lt;p&gt;哦, 对了, 如果你想用Gullstrand模型眼做个什么简单的模拟或者计算, 我这里已经准备好了&lt;a href="https://goldengrape.github.io/posts/python/abcd-matrix/"&gt;ABCD矩阵&lt;/a&gt;&lt;/p&gt;
&lt;!-- EOF --&gt;&lt;/div&gt;</description><category>ophthalmology</category><guid>https://goldengrape.github.io/posts/bulabula/why-magicleap-fall/</guid><pubDate>Tue, 16 Jan 2018 08:30:00 GMT</pubDate></item><item><title>眼科科普索引贴</title><link>https://goldengrape.github.io/posts/ophthalmology/ophthalomology-pop-sci-index/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;请使用CTRL+F或+F查找相应关键词.&lt;/p&gt;
&lt;p&gt;有些文章写作时间较早, 可能有必要更新. 有些文章我可能会从果壳的日志上逐渐搬运过来. 果壳的图床有时会出问题, 还是放在自己这里安心一些. &lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;hr&gt;
&lt;h2&gt;总论&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://goldengrape.github.io/posts/ophthalmology/How-to-see-a-doctor/"&gt;如何看病&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;眼病的视觉感受&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/article/156504/"&gt;眼睛一生病，世界就变样&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;高度近视&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/blog/114894/"&gt;简介：高度近视定期查眼底&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/176929/"&gt;近视眼坐过山车容易视网膜脱落么？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/102643/"&gt;有没有通过纠正晶状体治疗近视的方法？近视导致是否会反应速度减慢？&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;近视手术&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://songshuhui.net/archives/58085"&gt;准分子激光角膜屈光手术——问与答(上)&lt;/a&gt;
&lt;a href="http://songshuhui.net/archives/58100"&gt;准分子激光角膜屈光手术——问与答(中)&lt;/a&gt;
&lt;a href="http://songshuhui.net/archives/58110"&gt;准分子激光角膜屈光手术——问与答(下)&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;散光&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/blog/102489/"&gt;跟进宝学眼科之散光&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/102222/"&gt;微博刷屏会导致眼睛散光，视力下降吗？&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;隐形眼镜&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/article/94773/"&gt;“美瞳”：美丽是否要付出代价&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/195649/"&gt;如何挑选适合的隐形眼镜？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/177378/"&gt;隐形眼镜能滑到眼球后面吗？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/177392/"&gt;晚上睡觉不摘隐形眼镜会有什么后果？隐形眼镜一次可以戴几小时？ 戴隐形眼镜有什么注意事项么？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/118776/"&gt;闺蜜说，隐形眼镜等于有男友，是真的吗？&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;眼药水&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/article/87604/"&gt;眼药水闪亮不了你的双眼&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/96843/"&gt;人乳治疗眼部炎症是可行的吗?&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;青光眼&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/blog/117302/"&gt;跟进宝学眼科之青光眼&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;白内障&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/blog/73506/"&gt;白内障FAQ&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;麦粒肿&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/115715/"&gt;指甲上画十字能治疗麦粒肿？如果是谣言，正确的方法是什么？&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;眼外伤&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/172712/"&gt;眼球受到外来的尖锐物品的刺伤，后果会是怎样？&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;灯光&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://goldengrape.github.io/posts/ophthalmology/story-of-blue-light/"&gt;蓝光的故事&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;VR/AR&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://goldengrape.github.io/posts/ophthalmology/vr-and-mypia/"&gt;关于VR与近视&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description><guid>https://goldengrape.github.io/posts/ophthalmology/ophthalomology-pop-sci-index/</guid><pubDate>Tue, 16 Jan 2018 05:00:01 GMT</pubDate></item><item><title>机器学习的知识产权保护(2)--侵权检测</title><link>https://goldengrape.github.io/posts/Machine_Learning/ML-IP-2/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;上次说到机器学习的知识产权保护中&lt;a href="https://goldengrape.github.io/posts/Machine_Learning/ML-IP"&gt;保护的困难&lt;/a&gt;, 特别是在侵权识别之中. 由于现阶段机器学习的参数解释起来很困难, 不能够简单设定一个保护范围. 也难以逆向工程别人的模型获得所有的参数.&lt;/p&gt;
&lt;p&gt;但还是有方法的.
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;p&gt;以深度神经网络为例. 其他机器学习也有类似的特点. 深度神经网络(DNN)总会有个风险叫做"过拟合" overfitting, 某种程度上, 这是一种记忆, DNN记住了发来的训练集中的数据, 一旦再次有这些数据输入, DNN就可以调用出原来训练过的输出. 于是在训练的时候, 可能误差很小, 但用测试数据集去测试的时候误差却很大. 这样的DNN缺乏"泛化"能力, 相当于一个学生擅长死记硬背, 却不能举一反三.&lt;/p&gt;
&lt;p&gt;这个特点就可以用来作为DNN的"身份识别"了. 类似师傅教徒弟, 某一个招式本门派的应对是固定的, 由于反复训练, 徒弟们都记在了心里. 比如对面来一直拳, 别的门派都是向后躲, 本门派的却是向前侧躲. 那么行走江湖的时候, 碰见对手一拳打过去是向前侧躲的, 多半就是本门派的师兄弟了.
(貌似哪个武侠小说里有类似的情节)&lt;/p&gt;
&lt;p&gt;在DNN中, 方法可以是这样的:&lt;/p&gt;
&lt;p&gt;准备一组数据对作为"数据探针", 比如输入图像都是猫, 但却在图片中心点有一个白点, 而输出结果中, 把这些猫的图像都标记为狗.&lt;/p&gt;
&lt;p&gt;这些数据copy很多份, 放入DNN的训练集之中, 反复训练, 使得DNN对这些数据发生了过拟合, 记住了这些数据探针. 一旦有猫图中心有白点的图片输入, 本DNN就会认成是狗而不是猫.&lt;/p&gt;
&lt;p&gt;那么, 当本DNN的结构和参数有可能被盗用的时候, 并不需要对可疑的DNN进行逆向工程, 只需要将数据探针送入可疑DNN中, 看看输出的结果是怎样的, 如果发现回报的结果是狗, 就多了几分可疑. 如果很多数据探针都能够检出, 那么从本DNN盗用的可能性就极高了.&lt;/p&gt;
&lt;p&gt;这就是一种不开箱来检查黑箱的方法.&lt;/p&gt;
&lt;p&gt;本来最近我也写了一个这样的发明. 可惜早有先贤写出了同样的方案.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://pdfstore.patentorder.com/pdf/us/449/us2017206449.pdf"&gt;Title: Neural Network Verification;&lt;/a&gt;
申请人: Hewlett Packard Enterprise Development LP;
申请日: September 17, 2014;
公开日: July 20, 2017.&lt;/p&gt;
&lt;p&gt;只比我早三年嘛, 也还不差.&lt;/p&gt;
&lt;!-- EOF --&gt;&lt;/div&gt;</description><category>发明</category><guid>https://goldengrape.github.io/posts/Machine_Learning/ML-IP-2/</guid><pubDate>Tue, 16 Jan 2018 02:00:01 GMT</pubDate></item><item><title>如何写一个球面Ray tracing程序(1)</title><link>https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="直线与平面的交点"&gt;直线与平面的交点&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E7%9B%B4%E7%BA%BF%E4%B8%8E%E5%B9%B3%E9%9D%A2%E7%9A%84%E4%BA%A4%E7%82%B9"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;在Ray tracing的时候，如果光线最终打到一个平面屏幕上，就需要知道每个光线的落点。直线和平面的交点求解比较简单，先用来练手热身。&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://goldengrape.github.io/images/ray-tracing-1.1.png" alt=""&gt;&lt;/p&gt;
&lt;h3 id="直线的表示"&gt;直线的表示&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E7%9B%B4%E7%BA%BF%E7%9A%84%E8%A1%A8%E7%A4%BA"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;一条直线上任意一点P可以用直线上已知一点PLine，和直线方向的向量NLine来表示，写出参数方程就是，注意啊，这里的PLine,NLine都是矢量，但t是标量, 有如下(1)式
$$
P_{(t)}= P_{Line}+t \times N_{Line}
$$&lt;/p&gt;
&lt;h3 id="平面的表示"&gt;平面的表示&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E5%B9%B3%E9%9D%A2%E7%9A%84%E8%A1%A8%E7%A4%BA"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;一个平面，可以用平面上已知一点PPlane，和垂直于这个平面的法向量NPlane来表示。&lt;/p&gt;
&lt;h3 id="用参数方程求交点"&gt;用参数方程求交点&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E7%94%A8%E5%8F%82%E6%95%B0%E6%96%B9%E7%A8%8B%E6%B1%82%E4%BA%A4%E7%82%B9"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;假设现在直线与平面交点是P点，那么可以画一个从平面上已知点PPlane到P点的向量，比如叫V=P-PPlane&lt;/p&gt;
&lt;p&gt;代入上面（1）式
得到(2)式
$$ 
V=P_t-P_{Plane}
\\
V=(P_{Line}+t \times N_{Line}) -P_{Plane}
$$&lt;/p&gt;
&lt;p&gt;显然V矢量是在平面内的，那么“垂直于这个平面的法向量NPlane”当然也垂直于V矢量，NPlane⊥V，这件事情在数学上有明确的表示，就是NPlane矢量和V矢量的dot product是等于0的。
$$
dot(V,N_{Plane})=0
$$&lt;/p&gt;
&lt;p&gt;把V替换成(2)式&lt;/p&gt;
$$
dot(P_{Line}+t \times N_{Line}-P_{Plane}, N_{Plane})=0
$$&lt;p&gt;dot product是满足分配律的，于是有
$$
dot(P_{Line}-P_{Plane}, N_{Plane}) + dot( t \times N_{Line}, N{Plane})=0
$$&lt;/p&gt;
&lt;p&gt;其中t是标量，可以提取到dot product外面来
$$
dot(P_{Line}-P_{Plane}, N_{Plane}) + t \times dot( N_{Line}, N{Plane})==0
$$
化简一下：&lt;/p&gt;
$$
t= - \frac{dot(P_{Line}-P_{Plane}, N_{Plane})}{dot( N_{Line}, N{Plane})}
$$&lt;p&gt;里面再调换一下位置，把难看的负号去掉。铛铛：&lt;/p&gt;
$$
t=\frac{dot(P_{Plane}-P_{Line}, N_{Plane})}{dot( N_{Line}, N{Plane})}
$$&lt;p&gt;这就是程序里算出t的方法了。有t的值，只要代入(1)式就可以求出交点P了。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;lineCrossPlane&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;PLine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;NLine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;PPlane&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;NPlane&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;'''&lt;/span&gt;
&lt;span class="sd"&gt;    直线以起点PLine和方向向量NLine表示&lt;/span&gt;
&lt;span class="sd"&gt;    平面以平面上一点PPlane和法向量NPlane表示&lt;/span&gt;
&lt;span class="sd"&gt;    求其交点P&lt;/span&gt;
&lt;span class="sd"&gt;    直线有多组，平面仅一个&lt;/span&gt;
&lt;span class="sd"&gt;    '''&lt;/span&gt;
    &lt;span class="n"&gt;tup&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;PPlane&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;PLine&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;NPlane&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;tdown&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NLine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;NPlane&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tup&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tdown&lt;/span&gt;
    &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expand_dims&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 为了满足与t与NLine的乘法, 需要将t扩展一维&lt;/span&gt;
    &lt;span class="n"&gt;P&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PLine&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;NLine&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;P&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 测试结果: &lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"__main__"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;pline&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
    &lt;span class="n"&gt;nline&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
    &lt;span class="n"&gt;pplane&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;nplane&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lineCrossPlane&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pline&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;nline&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;pplane&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;nplane&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[[ 5.  0.  0.]
 [ 5.  1.  2.]]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/</guid><pubDate>Mon, 15 Jan 2018 15:30:00 GMT</pubDate></item><item><title>如何写一个球面Ray tracing程序(0)</title><link>https://goldengrape.github.io/posts/python/ray-tracing-0/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;2017年我差不多把python学会了, 还是挺有成就感的. 这个项目是我刚开始重新学习python的时候做的, 现在看起来有些代码需要再修改一下. 所以重新拿出来写一遍.&lt;/p&gt;
&lt;p&gt;Ray tracing, 就是光路追迹或者叫光线追踪, 就是跟随一根光线, 看它依次与透镜组的哪些面相交, 怎样折射/反射, 最终落在成像屏幕的什么位置.&lt;/p&gt;
&lt;p&gt;球面镜的Ray tracing是比较简单的, 直线与平面, 直线与球面的交点就可以写出解析解, 因此求解速度也很快. 球面镜也是很常用的, 毕竟球面镜头便宜. 在自己做的一些项目中, 还是很可能用到球面镜的.&lt;/p&gt;
&lt;p&gt;所以写一个球面镜的ray tracing程序还是有一些实用价值的.&lt;/p&gt;&lt;/div&gt;</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/ray-tracing-0/</guid><pubDate>Mon, 15 Jan 2018 15:00:00 GMT</pubDate></item><item><title>字符替换练习</title><link>https://goldengrape.github.io/posts/bulabula/eq-price/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;这是一个python正则表达式的练习:&lt;/p&gt;
&lt;p&gt;我恰好读到曼昆经济学原理中的一小段, 觉得用来练习正则表达式中的文本替换命令很有意思.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;content0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;span class="s1"&gt;价格上限如何影响市场结果&lt;/span&gt;

&lt;span class="s1"&gt;...对冰激凌市场实行价格上限时，可能有两种结果。&lt;/span&gt;
&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://goldengrape.github.io/images/eq_price.001.png" alt=""&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;content1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;span class="s1"&gt;在图6－l（a）幅中，政府实行每个冰激凌蛋卷为4美元的价格上限。&lt;/span&gt;
&lt;span class="s1"&gt;在这种情况下，由于使供求平衡的价格（3美元）低于上限，&lt;/span&gt;
&lt;span class="s1"&gt;价格上限没有限制作用。&lt;/span&gt;
&lt;span class="s1"&gt;市场力量自然而然地使经济向均衡变动，而且，价格上限没有影响。&lt;/span&gt;
&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://goldengrape.github.io/images/eq_price.002.png" alt=""&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;content2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;span class="s1"&gt;图6－l0(b)幅表示另一种结果，这种结果更令人感兴趣，也更可能。&lt;/span&gt;
&lt;span class="s1"&gt;在这种情况下，政府实行每个冰激凌蛋卷2美元的价格上限。&lt;/span&gt;
&lt;span class="s1"&gt;由于均衡价格3美元在价格上限之上，所以，价格上限对市场有一种限制性约束。&lt;/span&gt;
&lt;span class="s1"&gt;供求力量趋向于使价格向均衡变动，但当市场价格达到上限时，就不能再上升了。&lt;/span&gt;
&lt;span class="s1"&gt;因此，市场价格等于价格上限。&lt;/span&gt;
&lt;span class="s1"&gt;在这种价格时，冰激凌的需求量（图中的125个）超过了供给量（75个）。&lt;/span&gt;
&lt;span class="s1"&gt;存在冰激凌短缺，因此，一些在现行价格时想买冰激凌的人买不到。&lt;/span&gt;
&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;content3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;span class="s1"&gt;当冰激凌短缺的形成是由于这种价格上限时，&lt;/span&gt;
&lt;span class="s1"&gt;一些配给冰激凌的机制自然就会出现。&lt;/span&gt;

&lt;span class="s1"&gt;这种机制可能是排长队：&lt;/span&gt;
&lt;span class="s1"&gt;那些愿意提前来到并排队等候的人得到一个冰激凌，&lt;/span&gt;
&lt;span class="s1"&gt;而另一些不愿意等候的人得不到。&lt;/span&gt;

&lt;span class="s1"&gt;另一种方法是，&lt;/span&gt;
&lt;span class="s1"&gt;卖者可以根据他们自己的偏好来配给冰激凌，&lt;/span&gt;
&lt;span class="s1"&gt;只卖给朋友、亲戚或同一种族或民族的成员。&lt;/span&gt;

&lt;span class="s1"&gt;要注意的是，&lt;/span&gt;
&lt;span class="s1"&gt;尽管价格上限是由帮助冰激凌买者的愿望而促成的，&lt;/span&gt;
&lt;span class="s1"&gt;但并不是所有买者都能从这种政策中受益。&lt;/span&gt;
&lt;span class="s1"&gt;一些买者尽管不得不排队等候，但以较低的价格得到冰激凌，&lt;/span&gt;
&lt;span class="s1"&gt;而另一些买者根本得不到任何冰激凌。&lt;/span&gt;

&lt;span class="s1"&gt;冰激凌市场的这个例子说明了一个一般规律：&lt;/span&gt;
&lt;span class="s1"&gt;当政府对竞争市场实行限制性价格上限时，就产生了物品的短缺，&lt;/span&gt;
&lt;span class="s1"&gt;而且，卖者必然在大量潜在买者中配给稀缺物品。&lt;/span&gt;

&lt;span class="s1"&gt;这种价格上限之下产生的配给机制很少是合意的。&lt;/span&gt;
&lt;span class="s1"&gt;排长队是无效率的，因为这样做浪费了买者的时间。&lt;/span&gt;
&lt;span class="s1"&gt;根据卖者偏好的歧视&lt;/span&gt;
&lt;span class="s1"&gt;既无效率（因为物品并没有给予对它评价最高的买者）&lt;/span&gt;
&lt;span class="s1"&gt;又可能是不公正的。&lt;/span&gt;

&lt;span class="s1"&gt;与此相比，一个自由竞争市场中的配给机制既有效率又客观。&lt;/span&gt;
&lt;span class="s1"&gt;当冰激凌市场达到均衡时，&lt;/span&gt;
&lt;span class="s1"&gt;任何一个想支付市场价格的人都可以得到一个冰激凌蛋卷。&lt;/span&gt;
&lt;span class="s1"&gt;自由市场用价格来配给物品。&lt;/span&gt;

&lt;span class="s1"&gt;摘录来自: [美]N·格里高利·曼昆. “经济学原理”&lt;/span&gt;

&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="文本替换"&gt;文本替换&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/bulabula/eq-price/#%E6%96%87%E6%9C%AC%E6%9B%BF%E6%8D%A2"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;2017-18年的秋冬, 有一场很厉害的流感, 导致各个医院儿科爆满. 一时间各种分析很多. 让我们看看曼昆怎么说的.&lt;/p&gt;
&lt;p&gt;看曼昆对此事的看法, 不妨简单使用文本替换, 将例子中的名词替换成实际生活中的名词&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;content0&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;content1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;content2&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;content3&lt;/span&gt;
&lt;span class="n"&gt;new_content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'冰激凌蛋卷'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"儿科医生"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"冰激凌市场"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"儿科医疗市场"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"冰激凌"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="s2"&gt;"儿科医生"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"物品"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"医疗服务"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'买者'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"患儿家长"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'卖者'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'儿科医院或医生'&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new_content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;
价格上限如何影响市场结果

...对儿科医疗市场实行价格上限时，可能有两种结果。

在图6－l（a）幅中，政府实行每个儿科医生为4美元的价格上限。
在这种情况下，由于使供求平衡的价格（3美元）低于上限，
价格上限没有限制作用。
市场力量自然而然地使经济向均衡变动，而且，价格上限没有影响。

图6－l0(b)幅表示另一种结果，这种结果更令人感兴趣，也更可能。
在这种情况下，政府实行每个儿科医生2美元的价格上限。
由于均衡价格3美元在价格上限之上，所以，价格上限对市场有一种限制性约束。
供求力量趋向于使价格向均衡变动，但当市场价格达到上限时，就不能再上升了。
因此，市场价格等于价格上限。
在这种价格时，儿科医生的需求量（图中的125个）超过了供给量（75个）。
存在儿科医生短缺，因此，一些在现行价格时想买儿科医生的人买不到。

当儿科医生短缺的形成是由于这种价格上限时，
一些配给儿科医生的机制自然就会出现。

这种机制可能是排长队：
那些愿意提前来到并排队等候的人得到一个儿科医生，
而另一些不愿意等候的人得不到。

另一种方法是，
儿科医院或医生可以根据他们自己的偏好来配给儿科医生，
只卖给朋友、亲戚或同一种族或民族的成员。

要注意的是，
尽管价格上限是由帮助儿科医生患儿家长的愿望而促成的，
但并不是所有患儿家长都能从这种政策中受益。
一些患儿家长尽管不得不排队等候，但以较低的价格得到儿科医生，
而另一些患儿家长根本得不到任何儿科医生。

儿科医疗市场的这个例子说明了一个一般规律：
当政府对竞争市场实行限制性价格上限时，就产生了医疗服务的短缺，
而且，儿科医院或医生必然在大量潜在患儿家长中配给稀缺医疗服务。

这种价格上限之下产生的配给机制很少是合意的。
排长队是无效率的，因为这样做浪费了患儿家长的时间。
根据儿科医院或医生偏好的歧视
既无效率（因为医疗服务并没有给予对它评价最高的患儿家长）
又可能是不公正的。

与此相比，一个自由竞争市场中的配给机制既有效率又客观。
当儿科医疗市场达到均衡时，
任何一个想支付市场价格的人都可以得到一个儿科医生。
自由市场用价格来配给医疗服务。

摘录来自: [美]N·格里高利·曼昆. “经济学原理”


&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;hr&gt;
&lt;p&gt;读起来好像还很通顺的. 我隐约记得高中政治经济学里面还是讲过基本的供求曲线的.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><guid>https://goldengrape.github.io/posts/bulabula/eq-price/</guid><pubDate>Mon, 15 Jan 2018 05:20:34 GMT</pubDate></item><item><title>双人游戏的必胜招</title><link>https://goldengrape.github.io/posts/bulabula/zermelo-theorem/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;该篇复习于2011年. 今天看到&lt;a href="https://twitter.com/gttnnn"&gt;如月中天&lt;/a&gt;提到&lt;a href="https://twitter.com/gttnnn/status/952744005934051328"&gt;"胜也罢，败也罢，就是不要同他讲和！"&lt;/a&gt;, 不知怎么, 突然想起这个双人游戏是可能有必胜招的, 还有一个华丽的证明, 然后自己又不记得了. 赶紧搜索了一下, 发现以前记录过.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;hr&gt;
&lt;p&gt;zermelo's theorem 实在太帅了。看了耶鲁公开课博弈论第15集，终于揭开了从大一开始困扰我的谜题。大一的时候舒幼生教授一次很淡定的说，一个双人棋类游戏，如果没有平局，那么一定有必胜招。当时我就很迷惑，但他没给出证明。过了13年，我终于见到了证明。实在激动，记录一下。&lt;/p&gt;
&lt;h2&gt;zermelo's theorem&lt;/h2&gt;
&lt;p&gt;这个定律的全名叫做zermelo's theorem。具体描述是：&lt;/p&gt;
&lt;p&gt;在一个双人游戏中，满足：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;双人轮流行动&lt;/li&gt;
&lt;li&gt;有限步。比如国际象棋好像重复出现六次相同的棋局判和&lt;/li&gt;
&lt;li&gt;信息完备。所谓信息完备，大概是玩家明确知道所有之前的步骤。&lt;/li&gt;
&lt;li&gt;仅有3种结局，对于玩家1只有：赢，和，输三种结局&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当满足上述条件的游戏，只会出现下面情况之一：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;玩家1有必胜招。就是玩家1按照某种特定的走法，不论玩家2如何努力，玩家1都可以赢&lt;/li&gt;
&lt;li&gt;玩家1有必和招。&lt;/li&gt;
&lt;li&gt;玩家2有必胜招。当然，有些游戏是有后手优势的，先走的人倒霉。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这个定律的证明相当华丽，建议每一个理科geek前去欣赏，可自行google "公开课 博弈论 15"查看视频.&lt;/p&gt;
&lt;h2&gt;证明&lt;/h2&gt;
&lt;p&gt;在此简单记叙一下，权作笔记。&lt;/p&gt;
&lt;p&gt;N是某一游戏的最大步长，比如我们下棋，玩很多很多次，其中最多回合的一次，是大战300回合后我赢了，那么N=600。&lt;/p&gt;
&lt;h3&gt;数学归纳法第一步：&lt;/h3&gt;
&lt;p&gt;N=1时，zermelo's theorem显然成立。&lt;/p&gt;
&lt;p&gt;玩家1，只用走一步，就可决定输赢。按照游戏的规定，也许有胜负和三种，那么玩家1显然选择胜的走法，于是满足玩家1有必胜招&lt;/p&gt;
&lt;h3&gt;数学归纳法第二步：&lt;/h3&gt;
&lt;p&gt;假设i&amp;lt;=N时命题成立&lt;/p&gt;
&lt;h3&gt;数学归纳法第三步：&lt;/h3&gt;
&lt;p&gt;试图证明i=N+1时命题成立&lt;/p&gt;
&lt;p&gt;考虑N+1时的子游戏，除去玩家1走的第一步以后的游戏部分。玩家1第一步的每一种走法都会产生一个新游戏起始状态，它的最大步长&amp;lt;=N的，从数学归纳法第二步可知，每个子游戏有唯一确定的结果，玩家1必然会赢、输或者和。于是等价于N=1的情况了！相当于玩家1在第一步的时候来选择进入哪个游戏，是自己必赢还是必输还是必和。&lt;/p&gt;
&lt;p&gt;这个证明的华丽之处在于，我在想N+1的时候，默认的想法是在游戏树后面再加一层，于是很多年都想不出来，而这个证明是在游戏树前面加上了一个树根。在看到这个证明之前，我根本就没有意识到自己有这样的思维定势。&lt;/p&gt;&lt;/div&gt;</description><category>生活方式</category><guid>https://goldengrape.github.io/posts/bulabula/zermelo-theorem/</guid><pubDate>Mon, 15 Jan 2018 04:00:00 GMT</pubDate></item><item><title>生活中的定量</title><link>https://goldengrape.github.io/posts/bulabula/quantity-life/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;"能度量方是合理, 合理性才能存在"-- 张系国《超人列传》&lt;/p&gt;
&lt;p&gt;生活中度量的意义在于使事情可重复. 可重复的才是可控制和可改进的. 可改进则可以达到当前条件下的最优化, 一旦找到最优解就不需要再动脑子了, 除非环境条件发生变化. 省心.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;h2&gt;无明火&lt;/h2&gt;
&lt;p&gt;火是不可度量的. 我家已经取消了用明火做菜做饭. 一切加热源必须能够并且一定要设置定时. 这样在人离开的时候才能有安全感.&lt;/p&gt;
&lt;p&gt;现在家里做饭做菜是电磁炉, 电蒸烤炉, 电饭锅, 微波炉和温控热得快. 除了极其罕见地用电磁炉炒, 其他的方式: 蒸/煮/烤/空气炸/微波加热/炖, 这些都有一个共同特点是可以无人值守, 把食材放入设定好参数, 人就可以离开了.&lt;/p&gt;
&lt;h2&gt;厨房电子称&lt;/h2&gt;
&lt;p&gt;做饭一定要称量的, 前几天看了个教做中国菜的视频推号, 里面不断在说"少许", "适量", 简直不能忍, 看一次就unfo了. 称量能够使每一次烹饪是可重复的,&lt;/p&gt;
&lt;p&gt;比如, 双人份米饭: (90g大米+30g杂粮)[误差1g]+(520-120)g水[误差20g]. 注意做饭使用量筒是不合适的, 对于水虽然问题不大, 但对于米的误差太大.&lt;/p&gt;
&lt;p&gt;称量以后不会有剩菜剩饭, 吃多少, 各种种类是什么心中有数. 控制体重第一步就是买个电子称.&lt;/p&gt;
&lt;h2&gt;喷雾瓶&lt;/h2&gt;
&lt;p&gt;我对咖啡因敏感, 喝完以后就睡不着觉. 但如果长时间开车, 还是需要在路上提神, 需要摄入一些咖啡因. 我的方法是这样的: 用小的喷雾瓶装上零度可乐, 开车的时候拿出来在舌下喷几下.&lt;/p&gt;
&lt;p&gt;虽然缺乏数据, 但个人感觉零度可乐的咖啡因含量挺高, 无糖, 所以不那么粘稠, 自带防腐剂. 因此分装以后放车里也不容易变质, 不慎洒出来一些也不至于黏糊糊的(与可乐/红牛相比).&lt;/p&gt;
&lt;p&gt;舌下吸收避免首过效应, 起效快, 相对来说用量也较少.&lt;/p&gt;
&lt;p&gt;关于咖啡因. 咖啡因长期摄入受体是下调的, 很多人夜里喝咖啡晚上照样睡得安稳, 白天不喝咖啡就困得不行. 其实不喝咖啡的困倦不是因为咖啡提神, 而是更接近于戒断反应.&lt;/p&gt;
&lt;h2&gt;起泡瓶&lt;/h2&gt;
&lt;p&gt;最开始发现这个是因为买了一瓶舒肤佳的泡沫洗手液, 用完以后发现把常规的洗手液1:10稀释以后灌进起泡瓶也有同样的作用. 大概一年了, 再没买过舒肤佳的泡沫洗手液, 一直用蓝月亮洗手液补充装的兑水. 而且蓝月亮洗手液补充装也还有多半袋. 预计下一次买洗手液得是两年以后了.&lt;/p&gt;
&lt;p&gt;现在已经扩展到家里的洗涤灵, 浴液, 洗发水和消毒液了.&lt;/p&gt;
&lt;p&gt;最早搞泡沫洗手液的产品经理, 真是行业公敌啊.&lt;/p&gt;
&lt;h2&gt;按压瓶&lt;/h2&gt;
&lt;p&gt;与洗手液类似的按压瓶, 我用来装漱口水了. 漱口水原装的那个大瓶盖, 说是当量杯用, 其实太大太大, 误差也太大太大. 而且接触完嘴唇再拧回到大瓶上, 虽说是杀菌剂, 也是污染呐.&lt;/p&gt;
&lt;p&gt;按压瓶, 张嘴, 伸到嘴边, 按4次, 无接触, 够用.&lt;/p&gt;
&lt;h2&gt;低温烹饪, 分装与冷冻&lt;/h2&gt;
&lt;p&gt;火候, 就是温度对于时间的函数.&lt;/p&gt;
&lt;p&gt;温度的精度控制越高, 对时间的精度反而可以要求更低. 60度煮牛肉, 4小时和6小时甚至和12小时之间差别也不算大. 而且对于60度的水浴来说, 不论水还是空气, 体积变化都不明显, 不至于溢出到锅外面. 于是, 这样就不用担心什么, 即使忘记了或者临时有事出门, 也不至于发生什么危险.&lt;/p&gt;
&lt;p&gt;低温烹饪的另一个好处就是可以一次做很多, 然后分装, 冷冻. 这样操作更有效率, 平均到每一餐来说花费的时间就更少. &lt;/p&gt;
&lt;!-- EOF --&gt;&lt;/div&gt;</description><category>生活方式</category><guid>https://goldengrape.github.io/posts/bulabula/quantity-life/</guid><pubDate>Sun, 14 Jan 2018 16:20:00 GMT</pubDate></item><item><title>如何看病</title><link>https://goldengrape.github.io/posts/ophthalmology/How-to-see-a-doctor/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;这篇是2011年的文章了, 很遗憾到了2018年仍然适用, 没有过时. 初始的版本用词更凶一些. 经过果壳网袁玥老师的修改之后温柔了许多. 这次贴进来, 还补充了番外篇.&lt;/p&gt;
&lt;p&gt;2017年时, 极其自恋地搜索了一下&amp;lt;如何看病&amp;gt;, 好有趣,在公众号, 还有国医什么什么的公众号转载, 规规矩矩署名的. 在网页上, 有个耳鼻喉大夫转载时, 把里面眼科的例子全都自己改成了耳鼻喉的例子.&lt;/p&gt;
&lt;p&gt;创作共用果然是个好协议&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;本文遵守创作共用-署名协议，欢迎传播
您可以自由：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;复制、发行、展览、表演、放映、广播或通过信息网络传播本作品&lt;/li&gt;
&lt;li&gt;创作演绎作品&lt;/li&gt;
&lt;li&gt;对本作品进行商业性使用
惟须遵守下列条件：&lt;/li&gt;
&lt;li&gt;署名 — 您必须按照作者或者许可人指定的方式对作品进行署名。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;如何看病（－）：该看不该看&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;我不想讨论医疗制度如何如何，只是在现有的条件下，尽可能帮助需要医疗救助的人，使人们看病的效率更高。&lt;/li&gt;
&lt;li&gt;请质疑任何从网络上获取的医学知识，包括本blog&lt;/li&gt;
&lt;li&gt;欢迎传播&lt;/li&gt;
&lt;/ol&gt;
&lt;!-- TEASER_END --&gt;

&lt;p&gt;问题1: 该看不该看&lt;/p&gt;
&lt;p&gt;人的身体是有自我修复能力的。而且这种能力很强，显然比电脑和汽车厉害。有些疾病并不需要治疗，有些疾病是有“自限性”的——也就是时间到了自己就好了。
不过，能够发生在人身上的疾病，也是伴随人类进化了同样长的时间，也不是等闲之辈。&lt;/p&gt;
&lt;p&gt;如果自己身体不适，是扛着，还是去医院就诊。这是个问题。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;如果器官的功能受损，需要立即就诊：
眼睛的功能是用来看东西的，突然看不见了，应该马上看医生。同理，突然听不见了，四肢运动突然出现障碍。。。值得注意的是，人类有许多器官是双份的，比如眼睛、耳朵。。有些人一只眼睛的视力突然下降，另一只却完好，有可能忽略了坏眼的问题。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不能忍受的疼痛。
疼痛是身体发出的火警，不要去挑战疼痛。如果遇到不能忍受的疼痛，应该尽快就诊。比如腹痛、胸痛、眼痛。需要提示的是，即使你到了医院，通常医生也不会立即给你止痛。疼痛是火警，是了解身体状况的重要信号，没有人会在消灭火灾之前，先把附近的电话线都砍了。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;反复发作的不适
老毛病了，忍忍就过去了——大部分的癌症就是这样度过了无人骚扰的童年期。对于反复出现的不适，应该认真注意诱发的原因、缓解的方式。
对了，最重要的是——自己的年龄，&amp;gt;50岁的，最好去看看，免除后患。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;已经处于某个疾病进程中，但是感觉突然发生了变化。
大夫可能已经告诉你这个病没什么，过几天自己就能好，开始的时候，感觉也是一天比一天好，可是今天突然恶化了，那么最好再去复查一下。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;别人看出来的疾病
通常不用着急，人类的身体有发达的自我检测系统，如果自己没有什么不舒服的感觉，多半没有太大的问题。（注意：医生经过身体检查发现的除外，比如身体上的包块之类的）
典型的是结膜下出血。一般是“白眼珠”上有鲜红的血迹，自己毫无感觉，不疼不痒视力不降，通常是照镜子或者是被其他人发现，这种不是“眼底出血”，这种是“白眼珠”上的细小血管破了，跟磕青了没什么区别。咳嗽、便秘、揉眼睛。。。都可能引起。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;定期体检是必要的。
自己的身体只有自己保护，兄弟靠不住、组织靠不住。&lt;/p&gt;
&lt;h2&gt;如何看病（二）：急诊还是门诊？&lt;/h2&gt;
&lt;p&gt;一般医院都有急诊和门诊。
急诊是给紧急需要救治的病人准备的。
门诊则是给不那么紧急的病人准备的。&lt;/p&gt;
&lt;p&gt;急诊的设置是为了使病人在短时间内脱离危险，因此配备的药品都是应急的、速效的，配备的检查手段也是基本的，能够快速做出判断的。&lt;/p&gt;
&lt;p&gt;所以，如果你得的是不那么紧急的病，甚至是慢性病，其实在急诊，并没有针对你的病的疗效好副作用小的药品，而且化验检查并不是很全，辅助检查的设备也不是都能做的。&lt;/p&gt;
&lt;p&gt;不要仅仅因为白天上班，不好请假，而在晚上去看急诊。你得不到最好的药物，不能完成最好的化验检查和辅助检查。身体是自己的，工作是国家或者资本家的。仅仅为了不请假而在晚上看急诊，你为了节省一天的工资而放弃给自己最佳的诊断和治疗，又侵占了分配给急症患者的医疗资源，是损人不利己。。&lt;/p&gt;
&lt;p&gt;需要去急诊看的病：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;刚刚发生的疾病。
一个病已经得了三天了，还跑到急诊去看，我会态度很好的在心里痛骂。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这个疾病可能在8小时内使器官的功能造成不可逆的损害。
严格一点，需要急诊处理的眼病只有：视网膜中央动脉阻塞（需要在10分钟内救治）、眼球破裂伤、急性闭角型青光眼急性发作。（补充下，还有化学伤、烧伤等等。）
突然发作的腹痛、胸痛、眼痛、头痛，还是应该到急诊看看先。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;如何看病（三）：看门诊的时间&lt;/h2&gt;
&lt;p&gt;我国是地大物博人口众多，很小的可能性，乘以13亿，都是无比巨大的数字。
任何你觉得合适的时间，一定是门诊人多的时间。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;一定要避开三个的时间：
星期一上午，星期一上午，星期一上午
只能用人海茫茫来形容。
为了您和家人的健康，请不要在星期一上午看病
请转告您周围的人，“为了您和家人的健康，请不要在星期一上午看病”，并请他们也转告周围的人。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通常来说上午看病的人多，下午少，周一多，周五少。到了周五的下午，基本看病的人就很少了。看来辛勤的工作有益于身体健康。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;季节性
放假了去配个眼镜吧——老老实实排队吧
等天凉快了再做这个手术吧——老老实实排队吧
等放假休息有时间了再去看这个病吧——老老实实排队吧&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;恶劣的天气
刮风下雨是看病的最佳时机，雨越大，人越少。其实，天气对许多人的出行，并没有太大影响，如果工作很忙，需要在短时间内看个病，然后赶紧回去上班，最好是在下雨的天气去看病。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;如何看病（四）：看病前的准备&lt;/h2&gt;
&lt;p&gt;相信您已经选择好了看病的日期，下面介绍一下看病前的准备。&lt;/p&gt;
&lt;h3&gt;回顾历史：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;请在看病之前，回顾一下您的病史，从什么时候开始发病？发病的时候自己有什么感觉？如果有时间，请用本子和笔写下来。&lt;/li&gt;
&lt;li&gt;回想一下是否对药物过敏。药物过敏史对于医生非常重要。如果您在以前用某种药物出现过严重的不良反应，请记录下来，在看病的时候向您的医生咨询是否属于药物过敏，如果是的，请医生在您最常用的病历封面上写下过敏的药物名称。&lt;/li&gt;
&lt;li&gt;回忆一下曾经接受过的治疗，以及正在使用的药物，和它们的商品名称。如果您还能找到药物的说明书或者空的药瓶或者剩余的药物，请带上它们。&lt;/li&gt;
&lt;li&gt;带齐以前的病历记录，曾经做过的检查结果。每次看过病后，也请收好所有的检查结果和病历，有些检查结果是由热敏打印，时间久了容易褪色，请复印一份保存。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;准备行政用品：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;带上信用卡和足够的现金，有些医院不支持刷卡，而取款机前面排队的人可能很多。注意看管好自己的随身财物。如果您是小偷，盗亦有道，请勿在医院行窃。&lt;/li&gt;
&lt;li&gt;带好身份证、社保卡、医疗蓝本、退休证、离休证、医院的就诊卡等等一切跟医保可能有关系的东西。平时除了身份证，这些东西最好专门使用一个透明塑料文件袋放在一起。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;安排好病假当天的事务：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;请好病假，安排好当日的工作。工作是国家的或者资本家的，身体是自己的，只要不给同事添麻烦，离开工作岗位是没有问题的。&lt;/li&gt;
&lt;li&gt;如果是去看急诊或者自觉比较严重的器官功能问题，比如严重的心前区疼痛、视力突然丧失等，带上手机和充电器，您有可能会需要住院或者留院观察。&lt;/li&gt;
&lt;li&gt;最好能够找个比您更健康的伙伴陪同您去看病。&lt;/li&gt;
&lt;li&gt;预计前往的时间，不要在上午11点以后，或者下午4点以后才去医院挂号。因为，恐怕没有号了，或者虽然看了医生，但是到需要做检查的时候，已经过了下班时间，其他的科室已经没人了。&lt;/li&gt;
&lt;li&gt;估计一下交通情况，选择合适的交通工具。最好不要自己开车或者骑车，请打车前往医院。一是医院附近很难停车，停车费高昂，二是您接受的某些治疗可能再不适合开车或者骑车。&lt;/li&gt;
&lt;li&gt;查询一下当日的天气。天气越恶劣，看病的人越少。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;选择合适的医院：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;如果您已经具有相当的医学知识，您可以根据自己的病情来选择医院。&lt;/li&gt;
&lt;li&gt;一般社区医院和二级医院都非常的清净，去看病取药会很舒适。建议您首先去社区医院或者临近的二级医院就诊，至少可以获得相应的医学建议和转诊建议。如果您对这些医院的医疗质量不放心，也可以事先咨询一下有医学背景的朋友，去哪里看比较好。&lt;/li&gt;
&lt;li&gt;当您选择了三级甲等医院看病，也就意味着选择挂号难、看病难。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;挂号&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;没什么好说的，太难了，甚至对于医生自己看病也很困难。如果是外地病人到另一个城市看病，而且要看某个特定的专家，试试提前在网上预约之类的方法，免得到了以后挂不上号，要等几天甚至一周，在北京最低的生活费也是100元/天，一旦等起来消费惊人。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;调整心情&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;得病不是一件愉快的事情。但是人总是会生病的，迟早也是要病死的。所以疾病降临到自己身上，也没什么好抱怨的。&lt;/li&gt;
&lt;li&gt;去医院看病，并不能一定能够治好。实际上，给您看病的医生，最后一定看不好他自己的病，100%是病死的。&lt;/li&gt;
&lt;li&gt;与您的医生合作，共同对抗您的疾病。&lt;/li&gt;
&lt;li&gt;《史记•扁鹊仓公列传》“故病有六不治：骄恣不论于理，一不治也；轻身重财，二不治也；衣食不能适，三不治也；阴阳并，脏气不定，四不治也；形羸不能服药，五不治也；信巫不信医，六不治也。”翻译成白话文就是：一是狂妄、骄横、不讲道理的人；二是只重视钱财而不重视养生的人；三是对服饰、饮食、药物等过于挑剔、不能适应的人；四是体内气血错乱、脏腑功能严重衰竭的人；五是身体极度羸弱、不能服药或不能承受药力的人；六是只相信鬼神、不信任医学的人。对于属于上述六种情况之一的人，他们的疾病不论中医还是西医都很难治好。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;穿着打扮&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;不要化妆。也许您会有面色苍白、黑眼圈。这些都没关系，这些恰恰是医生需要看到的。即便是去看那个很帅或者很漂亮的医生。&lt;/li&gt;
&lt;li&gt;尽量穿容易穿脱的衣物，比如上衣建议是开襟的衣服，而不是套头的衣服。&lt;/li&gt;
&lt;li&gt;袖子要比较容易的挽起来或者脱下。比如冬天，最好穿厚实的大衣，而里面穿相对薄一些的衣服。&lt;/li&gt;
&lt;li&gt;口罩。如果有的话戴上，医院是疾病最集中的地方。本来您就处于比较虚弱的疾病状态，不要再感染了其他的疾病。口罩从医院回来以后要清洗，手也要好好洗。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;检查确认上面的各种准备事项，带齐所有的东西，出发。如果能战胜疾病，就借助医生的力量一起战胜它，如果不能战胜疾病，那么从医生那里学会如何与自己的疾病共存。&lt;/p&gt;
&lt;h2&gt;如何看病（五） 怎样与医生交流&lt;/h2&gt;
&lt;h3&gt;您与门诊医生接触的时间&lt;/h3&gt;
&lt;p&gt;如前所述，当您选择了就诊于三级甲等医院的时候，您也就选择了挂号难和看病难。同时也意味着其他的病人也同样面临挂号难和看病难的问题。为了尽可能的缓解这些问题，一位医生会在出诊时间内看尽可能多的病人，特别是专家，有可能今天额定的挂号量是看20位病人，但是通常会因为外地病人、可怜的病人、重症的病人、有权有势惹不起的病人而加号到30甚至40个。如果上午的门诊是30人，从早上8点看到12点，共4小时，中间没有喝水上厕所的时间，那么平均接待每位病人的时间是4*60/30=8分钟。不错，这就是您凌晨爬起来，裹着军大衣在医院挂号室门外在寒风中等了三个小时以后挂上号，又从上班起等了3小时以后换来的就诊时间，8分钟，平均值。&lt;/p&gt;
&lt;p&gt;还不够准确，这8分钟并不是您坐在诊室内和医生交流的时间，在形成初步诊断以后，医生会给您安排一些检查，大多数是当天就能够完成的，所以您拿着化验单检查单做完检查以后回到医生那里，还要再给他看结果。想必您已经注意到了，在您等候过程中，总有些人没拿着挂号条就冲进了医生的诊室，其实那些很可能是做完检查给医生看结果的病人。&lt;/p&gt;
&lt;p&gt;也许您会非常好心地帮助医生维持就诊的秩序，坚决制止那些加塞儿的人。我建议尽可能在诊室外进行，也许您一把拽出来的是那个刚刚跑了几层楼憋了半天尿才做完B超想拿给医生看结果的病人，他也只有平均8分钟的时间与医生交流。&lt;/p&gt;
&lt;h3&gt;与医生说话&lt;/h3&gt;
&lt;p&gt;不论您是看中医还是看西医，中医讲究望闻问切，西医讲究问病史和查体。医生都需要和您交谈才能够知道您的疾病是怎样的。我们的身体里布满了各种自检的信号线，它们会将身体的损伤通过它们自己的语言向您的大脑做汇报，比如疼痛、酸胀、无力、烧灼感、异物感。请向医生报告这些感觉，他才能帮助您。&lt;/p&gt;
&lt;p&gt;中医不是仅仅切脉就可以摸出您是什么病，西医也不是仅仅靠CT、B超、化验单就可以知道您是什么病。诊断疾病就像是CSI做调查，全面的证据才能指认真凶。
虽然很少，但是确实有一些病人到医生面前一句话不说，手一伸或者脸一挺，医生要先猜出他的主要症状和不舒服，说对了以后，他才继续看病。从前我出门诊，在相对闲适心情也不错的时候会陪着他们玩一会，答对的话他们 会很心服口服的。&lt;/p&gt;
&lt;p&gt;另一种人很多，他们会不断的陈述。比如，"我从20年前就开始胸闷了，那正是小平同志南巡的那一年啊，改革开放以来……"有时候这种倾诉是不自觉的，尤其是老年人。老年人必须依靠事件来回忆时间顺序，所以我在《看病前的准备》里写需要事先回忆一下病史，并且记录下来。当倾诉与疾病无关的时候，医生会打断您，或者是您的长辈，这不是不尊重或者态度不好，而是您只有8分钟。&lt;/p&gt;
&lt;h3&gt;区分事实和判断&lt;/h3&gt;
&lt;p&gt;请尽可能学会区分陈述事实和判断，区分这两点是需要极高的知识和智力的，而且稍微不小心即使具有极高知识和智力的人也可能混淆。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如下是事实陈述：“我眼睛红”，“我发烧最高到39度”，“我嗓子疼”&lt;/li&gt;
&lt;li&gt;如下是判断陈述：“我眼睛发炎了”，“我发烧很高”，“我上火了”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;除非是在精神科或者心理门诊，否则请您尽可能陈述事实。&lt;/p&gt;
&lt;p&gt;对于您的感受，请按照不舒服发生的感觉或者表现，以及它们发生的时间来描述，比如“尿尿尿不出来3天”是非常好的描述，而“尿不出来很久了”则仍然没有给医生提供足够的信息。我的建议是&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;慢性病请精确到年或者月，比如“运动后胸闷5年”，&lt;/li&gt;
&lt;li&gt;近1-2年发病的，请精确到月，比如“双眼视力下降6个月”&lt;/li&gt;
&lt;li&gt;近1个月内发病的，请精确到日，比如 “尿尿尿不出来3天”&lt;/li&gt;
&lt;li&gt;急性病请精确到小时，比如“左眼前发黑看不见东西1小时”。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果您有数字能够描述您的病情，请尽可能告诉医生数字。比如，“这个星期我的血糖最高到过13”，但如果您仅仅说“这个星期我的血糖很高”，那得看您跟谁比了。对于医生的提问，特别是有“多少”这样的关键词的提问，请尽量以数字回答。不过很遗憾，通常当我问起“您得高血压多少年了？” 80%以上的回答是“很久了”。&lt;/p&gt;
&lt;h3&gt;疼痛与痛苦&lt;/h3&gt;
&lt;p&gt;看病，哪怕是急诊，医生不会马上给您解除痛苦。&lt;/p&gt;
&lt;p&gt;疼痛，是大自然赐给人类的礼物，虽然那是无人想要的礼物。疼痛是身体发出的火警，是诊断疾病和判断疾病进展的重要信号，是您生病的身体部分直接向医生的报告。在没有明确诊断之前，医生是不能够帮病人止痛的，就好像没有查明报告火警的位置，我们不可能把火警的电话轻易挂掉。也许您或者您的家人在检查床上疼得死去活来，医生还是会冷漠的用手摸这摸那，甚至使劲压一下问您是否更疼，此时也请告诉医生您的感受。&lt;/p&gt;
&lt;p&gt;另外，值得说明的一点，也需要向低年医生强调的一点是，那种显示出痛苦，大声叫嚷的病人，另一方面也说明他们有强大的生命力，而另一类苍白的悄无声息的病人，却更有可能有生命危险。所以当您在急诊看到医生不顾您大声叫嚷的同伴，而去看另一个悄无声息的病人时，不要去阻挡医生。&lt;/p&gt;
&lt;h3&gt;态度&lt;/h3&gt;
&lt;p&gt;如果您收入不高，生活不充裕，请直接跟医生说，相信很多医生会和我一样给您选择相对便宜的药品和治疗。不过同时相对便宜的药物也意味着疗效，特别是副作用的不同。&lt;/p&gt;
&lt;p&gt;如果您在路上堵车，找不到停车位，在挂号室门前受冻，坐在门诊等候一上午无所事事，请尽量不要将怨气宣泄在那个为您看病的医生身上，他在上班路上一样堵车，一样找不到停车位，您在挂号室门前受冻的时候，他在病房检查住院的病人，您在门诊等候的时候，他在诊室里奋力看病。&lt;/p&gt;
&lt;p&gt;很多时候医生的态度是由科室决定的，越是紧急和危急生命的科室，医生的态度越冷漠甚至恶劣，在急诊室不可能有医生和颜悦色地跟家属说话，有且只有厉声命令家属去做什么。医生不会也不应该把病人当作自己的亲人来对待，事实上很多医生不敢给自己的亲人做手术，因为感情因素可能会影响判断。&lt;/p&gt;
&lt;p&gt;希望您能明白，医生的态度与医学水平没有直接的关系。&lt;/p&gt;
&lt;h3&gt;期望&lt;/h3&gt;
&lt;p&gt;相当多的疾病是不能够消除病因的，比如常见的高血压、糖尿病、青光眼、类风湿……现在的医学也无法解决这些问题，医生能够提供的是尽可能控制疾病进展的方法，使疾病无害化，血压降低到正常值，意味着您几十年以后死于脑出血的可能性要减小；眼压降低到目标眼压，意味着您丢失视野的速度能够减慢，甚至停止。您能够在医生这里找到的不一定是战胜疾病的方法，而往往是学会如何与疾病共存，共同生活。&lt;/p&gt;
&lt;p&gt;新闻或者报纸上出现的某个疾病的治疗“希望”，并不等于真正在医院就可以给您用上。医学是非常保守的学科，一种治疗方法要经过几年、十几年甚至几十年的研究才能确定下来，一种新药上市至少要经过十年的实验和审批才能够进入医院的药房。&lt;/p&gt;
&lt;p&gt;即使是经过那么多年的研究确定下来的治疗方案，仍然不可能100%的保证治好您的疾病，绝对不可能。治病和修车不一样，不是您交了钱，就一定可以拿到一辆修好的车。&lt;/p&gt;
&lt;p&gt;请您一定记住：花了钱，绝对不可能得到保证治愈，绝对不可能保证没有风险。
万一你得到了医生这样的保证，说明：
a)医生在安慰你；
b)跟你说话的压根就不是个医生。&lt;/p&gt;
&lt;h3&gt;知情同意&lt;/h3&gt;
&lt;p&gt;如前所述，您绝对不可能得到保证治愈，绝对不可能保证没有风险。在侵入性的操作治疗或者手术之前，医生会给您看一个知情同意书。这个知情同意书就像是您在购买股票、基金时听到的“入市有风险，投资需谨慎”一样，是要告诉您可能发生的危险的。
1. 知情同意书上写的每一种风险，都是真实发生过的，至少有一个真实的病人，真真切切地经受过这样的痛苦。
2. 知情同意书上写的出现的风险，一旦发生，医生也会继续全力地帮助您。&lt;/p&gt;
&lt;h3&gt;不证自明的公理&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;人都是要生病的。&lt;/li&gt;
&lt;li&gt;人都是要病死的。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;也许从某种程度上来说，正常人和病人，甚至癌症病人之间的区别，只是5年生存率有所不同而已，而且都小于100%。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;2017年补充&lt;/p&gt;
&lt;h2&gt;如何看病.番外篇.面对恶性疾病&lt;/h2&gt;
&lt;p&gt;疾病都不是什么好事，有些疾病更加不好，比如严重的外伤、癌症之类。危及一个器官的功能，甚至可能危及生命。&lt;/p&gt;
&lt;p&gt;不久前我一个好友就得了这样的疾病。两家是世交，她与我年龄相仿。她家也是在医院工作，所以治疗上的事情，不用我给太多建议。&lt;/p&gt;
&lt;p&gt;前去探望病人前，我当时给了亲友们三个建议：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;得病不问原因&lt;/li&gt;
&lt;li&gt;得病不必担心未来&lt;/li&gt;
&lt;li&gt;治病只关心当下最佳&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;得病不问原因&lt;/h3&gt;
&lt;p&gt;病因的探究更多的是由医生对着大批量的病人做出的统计学分析。种种不良的生活习惯，心理状态都可能对健康造成不利的影响。比如医生认为吸烟是肺癌的危险因素，每日吸烟量*吸烟年&amp;gt;=400，医生在问诊和检查时就要谨慎了。但统计学的分析到每个个体身上却不一定应验。正如网上流传的各种段子所言：不抽烟不喝酒，63岁，林彪同志；只喝酒不抽烟，73岁，恩来同志；只抽烟不喝酒，83岁，主席同志；既抽烟又喝酒，93岁，小平同志；&lt;/p&gt;
&lt;p&gt;对于个人而言，疾病的原因可能无法确切的知道，而且对于恶性疾病，病因也不一定需要知道。&lt;/p&gt;
&lt;p&gt;人们在讨论个人疾病的病因时，更多的是作为茶余饭后的谈资。某年某月装修啦，当时家具的气味很大啦；某年某月某日着凉啦；某年某月没有遵守古训啦；某年某月拍过X光片啦；某年某月遇到一位算命先生啦⋯⋯这些是常见的大众对于病因的探讨。这种探究是没有意义的，既无助于治疗，又无助于未来的预防。只是大家谈论的一个话题而已。而且这样的话题在探望恶性疾病的患者时，是很容易被提起的。&lt;/p&gt;
&lt;p&gt;探究病因对于病人和家属不但没有意义，还可能有害。一个人得病以后，特别患上恶性疾病以后，患者和家人第一个心理状态就是“否认”，表现为“这不可能”‘，“这一定是搞错了”。否认的第二个阶段就是“这不是我的错”，“这是由于他人的原因造成的”。探究病因的最终结果常常是得出“这是由于他人的原因所造成”这样的结论。于是这样的结论就会导出下一个结果：疾病既然是他人的原因造成的，就必须由“他人”来负责。这是一个“解铃还需系铃人”的朴素推理过程。不过真正的疾病，并不像武侠小说里那么简单，下毒的人必定掌握解药。真正的疾病可能即使诱发的原因知道了，治疗仍然是需要由专业的医生施行。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;得病并不是一种错误或者惩罚。病了就是病了。一个好人并不会由于得病而降低他的德行，一个坏人也并不会因为得病而受到宽恕。&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;得病不必担心未来&lt;/h3&gt;
&lt;p&gt;医生是很关注病人的“预后”的。所谓预后，就是医生对治疗后未来结果的估计。&lt;/p&gt;
&lt;p&gt;但我认为，病人、家属和去探望病人的亲友，不要太多讨论得病以后的未来。这个提法有些古怪。我所在的眼科，恶性肿瘤的疾病比较少，但眼外伤却能够遇见很多。眼球的破裂伤可能破镜难圆，造成患者视力永久的损失。有些病人在眼球受伤以后会非常的紧张，为自己的未来无比的担忧，给自己非常大的心理压力。这种心理压力虽然不见得对治疗有什么太大的阻碍作用，但也没什么帮助。&lt;/p&gt;
&lt;p&gt;对未来的担忧，会像传染病一样，从一个家属或者一个探望病人的亲友之中播散开来，传播给病人，也传播给病人周围的人。&lt;/p&gt;
&lt;p&gt;普通人不是医生，见过的疾病很少，见过的病人也很少，并没有有足够的经验来判断自己的未来状态，容易错误的估计。悲观绝望之下，做出的选择并不见得正确。&lt;/p&gt;
&lt;p&gt;治病都会花费不菲，过多的担忧未来，也可能反而延误现在的治疗时机。&lt;/p&gt;
&lt;p&gt;对于恶性疾病，常见的评估预后的参数是“五年生存率”，也就是五年以后这个病人仍然生存的概率。在病人面前讨论这个问题，相当于不断在提示死亡。并非所有人都能够清晰的意识到死亡是存在的。对于每个健康的人来说，每时每刻也面临着种种生存威胁的可能性。可以说，健康人也有“五年生存率”。而且显而易见的是，健康人的五年生存率也不是100%的。越早意识到这一点，越早明白许多道理。&lt;/p&gt;
&lt;h3&gt;治病只关心当下最佳&lt;/h3&gt;
&lt;p&gt;过去通过现在作用于未来。当下才是最为重要的。治病的时候，需要冷静的分析，与医生合作、探讨，寻求最好的治疗方法。对于恶性疾病，通常治疗会比较复杂。每个医院每个科室会因为人力资源和物力资源的不同，而各有侧重。医生之间、科室之间、乃至医院之间是有转诊制度的。当某个病人的病情已经超出了这个医生、科室甚至医院的处理能力，一个好医生会指点病人去寻求更好的治疗。&lt;/p&gt;
&lt;p&gt;果壳本来要出一本关于《如何看病》的书／漫画书(?)，本篇是其中的一小部分，但好像后来没了下文。今天看到推友提到家人做检查发现一些异常的征象，于是我擅自贴出这个番外篇。&lt;/p&gt;&lt;/div&gt;</description><guid>https://goldengrape.github.io/posts/ophthalmology/How-to-see-a-doctor/</guid><pubDate>Thu, 11 Jan 2018 07:30:24 GMT</pubDate></item></channel></rss>