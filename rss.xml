<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>GoldenGrape's Blog</title><link>https://goldengrape.github.io/</link><description>This is a blog site for GoldenGrape.</description><atom:link href="https://goldengrape.github.io/rss.xml" rel="self" type="application/rss+xml"></atom:link><language>zh_cn</language><copyright>Contents © 2018 &lt;a href="mailto:https://twitter.com/goldengrape"&gt;Golden Grape&lt;/a&gt; </copyright><lastBuildDate>Thu, 18 Jan 2018 07:53:13 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>极简中式低温锅</title><link>https://goldengrape.github.io/posts/bulabula/simple-Chinese-low-temperature-slow-cooker/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;我怎么早没想到!&lt;/p&gt;
&lt;p&gt;两个组件, 一个是电火锅, 一个是温控继电器. 一共不超过150元人民币.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;h2&gt;选型&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;电饭锅&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;电火锅一定要选择&lt;strong&gt;足够傻&lt;/strong&gt;的, 也就是说接通电源就进入工作状态, 断开电源就关闭, 再接通电源还回到工作状态.  &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;万万不可&lt;/strong&gt;有什么中间的待机状态. 就是那种自作聪明的电器,  接通电源以后进入一个待机状态, 非要等人再按一下才肯工作. 特点是往往有触摸按键, 或者自称微电脑控制.&lt;/p&gt;
&lt;p&gt;&lt;img alt="电火锅选型" src="https://i.loli.net/2018/01/18/5a601da1737a2.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;图中红框标出的这种机械旋钮或者机械开关是最好的.&lt;/p&gt;
&lt;p&gt;如果家里有洗碗机, 推荐使用分离式的锅, 好洗. 洗碗机是研究厨艺的必需品.&lt;/p&gt;
&lt;p&gt;买锅的时候如果拿不准选个能够7天无理由退货的.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;温控继电器&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;淘宝上直接搜索温控继电器就可以了. 有的是模组, 需要自己接线, 还有这种已经装好的, 直接可以接入插头的, 当然这种更简单.&lt;/p&gt;
&lt;p&gt;&lt;img alt="WechatIMG157" src="https://i.loli.net/2018/01/18/5a601da185ae6.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;温控继电器的测温头有不同种类, 我现在使用的是金属头, 可以水下测量. 还有空气测量和塑料封印的. 金属头和塑料头都可以防水, 但金属头的材质不明, 也许不适合烹饪食物使用, 以后可能换成塑料头的, 据说是医用级别. 也可能就用食品袋包裹一下金属头就是了.&lt;/p&gt;
&lt;p&gt;金属头的好处是很细, 恰好可以从锅盖上的排气孔穿过去. 外面稍微固定一下, 探头最好悬浮在水里.&lt;/p&gt;
&lt;p&gt;&lt;img alt="WechatIMG155" src="https://i.loli.net/2018/01/18/5a601da1866cb.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;注意温控继电器的额定功率, 显然要大于电火锅的功率.&lt;/p&gt;
&lt;h2&gt;缺点&lt;/h2&gt;
&lt;p&gt;先说缺点, 这种设定下没有强制水循环的装置, 不打算放个水泵在里面了. 在没有沸腾的时候, 靠水体自身热量扩散和轻微的循环, 水温不均匀, 也不能快速达到热平衡.&lt;/p&gt;
&lt;p&gt;结果就是控温的负反馈响应慢, 温度不能精确控制在一定范围内, 刚才测试中温度设定在60度, 实际最高可以到70度. 我估计可能以后设定温度可能应该比目标温度低上5度.&lt;/p&gt;
&lt;h2&gt;优点&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;可以加佐料!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这回可以直接倒卤水进去了, 传统的各种中式调料都可以方便往里加, 一切炖料都不受限制了.&lt;/p&gt;
&lt;p&gt;靠低温烹饪作出"里嫩"的部分, 如果有必要, 可以做好后再捞出来煎炸或者烤, 处理出"外焦"的部分. 于是, 很容易做出煎卤牛肉, 或者红烧软炸里脊, 或者其他一次性制作很困难的组合.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;无需塑料袋&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;虽说理论上耐120度高温的塑料袋放入六七十度水煮没什么关系, 但总是有些别扭. 而且我发现食品塑料袋并不非常隔水, 或者容易破, 慢煮时间长了以后, 袋子里面的肉汁多多少少会泄露出一些, 用慢煮棒或者热得快的话, 这些蛋白容易粘在加热棒上或者循环水泵上. 现在加热部分是一个完整的锅, 没这些问题了.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以涮火锅&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不做低温慢煮的时候, 还可以用来涮锅啊.&lt;/p&gt;
&lt;h2&gt;下一步&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;低温蒸&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我那个电蒸/烤/空气炸锅, 有"低温蒸"这个选项, 我测了一下温度, 大约是在80-85度, 还是有点高了. 我一直很想试试60度蒸出来的牛肉是怎样的.&lt;/p&gt;
&lt;p&gt;但直接加笼屉用温控继电器来控制的话, 有问题. 加热水-&amp;gt;蒸汽, 这中间水的比热容太大, 空气又是热的不良导体. 于是负反馈控制的波动更大, 蒸汽温度一下子就升到了96度.&lt;/p&gt;
&lt;p&gt;有可能需要+超声雾化+防水风扇, 但这样的话就需要考虑插头接线的走法了, 金属笼屉就不合适了, 有可能需要竹笼屉和盖, 比较容易走线.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;搅拌器&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;低温煮的部分, 如果加入一个搅拌装置很可能会降低负反馈的波动. 如果不用水泵, 不用塑料, 不用金属, 大概最简单的就是放个竹蜻蜓进去, 从锅盖中心穿进去, 再用电机驱动.&lt;/p&gt;
&lt;p&gt;或者也可以找个现成的电动搅拌器, 记得宜家就有一个, 但不知道用电池能持续搅拌多久. &lt;/p&gt;&lt;/div&gt;</description><category>life science</category><guid>https://goldengrape.github.io/posts/bulabula/simple-Chinese-low-temperature-slow-cooker/</guid><pubDate>Thu, 18 Jan 2018 04:00:04 GMT</pubDate></item><item><title>Fibonacci数列通项公式</title><link>https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;这几天在家做了Fibonacci火锅,&lt;/p&gt;
&lt;p&gt;今天的火锅汤=昨天的火锅汤+前天的火锅汤. 对了, 剩下的火锅汤还可以做成浓汤宝, 大火收汁差不多以后倒入冰盒中冷藏或冷冻即可.&lt;/p&gt;
&lt;p&gt;于是突然想起来以前学过如何求Fibonacci数列的通项公式. 很华丽的. 不记下来可惜了. 先当作是LaTeX和sympy的练习吧&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="母函数"&gt;母函数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#%E6%AF%8D%E5%87%BD%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Generating Function, 定义是这样的:&lt;/p&gt;
$$
G(x)=\sum_{i=0}^{\infty} a_i x^i
$$&lt;p&gt;其中每一项的系数$$a_i$$就是一个数列$$\{a_i\}$$的第i项.&lt;/p&gt;
&lt;p&gt;注意一定要加到无穷去, 我开始就是没有推到无穷, 只加到有限量, 于是公式推导不出来&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Fibonacci数列"&gt;Fibonacci数列&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#Fibonacci%E6%95%B0%E5%88%97"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;定义大家都很清楚了: 
$$
a_i=a_{i-1}+a_{i-2}
$$
其中
$$
a_0 = 0, a_1 = 1 , a_2 = 1
$$&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="利用数列定义求解母函数"&gt;利用数列定义求解母函数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#%E5%88%A9%E7%94%A8%E6%95%B0%E5%88%97%E5%AE%9A%E4%B9%89%E6%B1%82%E8%A7%A3%E6%AF%8D%E5%87%BD%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;一般的技巧就是利用数列定义中的等式, 凑出能够相减的东西.&lt;/p&gt;
$$
G(x) = a_0 x^0 + a_1 x^1 + a_2 x^2  + a_3 x^3  + a_4 x^4 ...=\sum_{i=0}^{\infty} a_i x^i
$$&lt;p&gt;把前两项写出来:&lt;/p&gt;
$$
G(x) = a_0 x^0 + a_1 x^1 + a_2 x^2  + a_3 x^3  + a_4 x^4 ...=a_0 x^0 + a_1 x^1 + \sum_{i=2}^{\infty} a_i x^i
$$&lt;p&gt;然后去凑等式, 两边都乘x, 注意变成了a的下标比x的指数小1:&lt;/p&gt;
$$
x G(x) = a_0 x^1 + a_1 x^2 + a_2 x^3  + a_3 x^4  + a_4 x^5 ... = a_0 x^1 + \sum_{i=2}^{\infty} a_{i-1} x^i
$$&lt;p&gt;一个不够, 再凑一个, 注意变成了a的下标比x的指数小2:&lt;/p&gt;
$$
x^2 G(x) =a_0 x^2 + a_1 x^3 + a_2 x^4  + a_3 x^5  + a_4 x^6 ... = \sum_{i=2}^{\infty} a_{i-2} x^i
$$&lt;p&gt;然后用第一个式子减去第二, 第三个式子:&lt;/p&gt;
$$
G(x)-x G(x)-x^2 G(x) = a_0 x^0 + a_1 x^1 + \sum_{i=2}^{\infty} a_i x^i - (a_0 x^1 + \sum_{i=2}^{\infty} a_{i-1} x^i) - \sum_{i=2}^{\infty} a_{i-2} x^i
$$&lt;p&gt;左边有G(x)是可以提出来的, 右边x的指数相同的部分可以加减.&lt;/p&gt;
$$
(1-x-x^2) G(x) = a_0 x^0 + a_1 x^1 - a_0 x^1 + (\sum_{i=2}^{\infty} a_i x^i - \sum_{i=2}^{\infty} a_{i-1} x^i - \sum_{i=2}^{\infty} a_{i-2} x^i) 
$$$$
(1-x-x^2) G(x) = a_0 x^0 + a_1 x^1 - a_0 x^1 + \sum_{i=2}^{\infty} (a_i-a_{i-1}-a_{i-2}) x^i 
$$&lt;p&gt;代入Fibonacci的通项公式, 和第0项, 第一项的值&lt;/p&gt;
$$
(1-x-x^2) G(x) = 0 x^0 + 1 x^1 - 0 x^1 +  \sum_{i=2}^{\infty} 0 x^i 
$$&lt;p&gt;化简, 求出G(x)&lt;/p&gt;
$$
G(x)=\frac{x}{1-x-x^2}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="利用母函数展开求解通项公式"&gt;利用母函数展开求解通项公式&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#%E5%88%A9%E7%94%A8%E6%AF%8D%E5%87%BD%E6%95%B0%E5%B1%95%E5%BC%80%E6%B1%82%E8%A7%A3%E9%80%9A%E9%A1%B9%E5%85%AC%E5%BC%8F"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Talyor展开的方式"&gt;Talyor展开的方式&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#Talyor%E5%B1%95%E5%BC%80%E7%9A%84%E6%96%B9%E5%BC%8F"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;其实解出&lt;/p&gt;
$$
G(x)=\frac{x}{1-x-x^2}
$$&lt;p&gt;就已经解出了通项公式了. 因为其实就是Taylor series.&lt;/p&gt;
$$
G(a)=G(a)+\frac{G'(a)}{1!}(x-a)+\frac{G''(a)}{2!}(x-a)^2+\frac{G'''(a)}{3!}(x-a)^3...
$$&lt;p&gt;当a=0时, 
通项就是&lt;/p&gt;
$$
a_i = \frac{G^{(n)}(0)}{n!}x^n
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sympy&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sympy&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;init_printing&lt;/span&gt;
&lt;span class="n"&gt;init_printing&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;#为了美化输出&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fib&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"x"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;diff&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;factorial&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;fib&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 或者调用sympy的级数函数&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fib_series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"x"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;fib_series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[3]:&lt;/div&gt;



&lt;div class="output_latex output_subarea output_execute_result"&gt;
$$x + x^{2} + 2 x^{3} + 3 x^{4} + 5 x^{5} + 8 x^{6} + 13 x^{7} + 21 x^{8} + 34 x^{9} + \mathcal{O}\left(x^{10}\right)$$
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="利用级数"&gt;利用级数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#%E5%88%A9%E7%94%A8%E7%BA%A7%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;不过多数情况下不这么干, 还是有不用求导求阶乘的方式.&lt;/p&gt;
&lt;p&gt;已知有特殊函数的Taylor展开式:&lt;/p&gt;
$$
\frac{1}{1-ax}=1+ax+a^2x^2+...
$$&lt;p&gt;这个好像在母函数里经常用的. 总是把一个母函数表示成上述多个级数之和. 也就是求解A,B,α,β使得:&lt;/p&gt;
$$
G(x)=\frac{x}{1-x-x^2}=\frac{A}{1-\alpha x}+\frac{B}{1-\beta x}
$$&lt;p&gt;那么G(x)就可以分别展开成&lt;/p&gt;
$$
G(x)= A (1+\alpha x+\alpha^2x^2+...)+B (1+\beta x+\beta^2x^2...)
$$&lt;p&gt;通项公式就等于
$$
a_n=A \alpha^n+B \beta^n
$$&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;当然可以通过乘法和对比系数求解A,B,α,β, 但对于我这么懒的人, 反正要求解4个参数, 而且对与任意x都成立, 就直接把x=+1, -1, +2, -2代入求解了&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;α&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;β&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"A B α β x n"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;G_left&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;G_right&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;α&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;β&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;G_left&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;G_right&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;zero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)],[&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;α&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;β&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;a_n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;simplify&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;α&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;β&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;α&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;β&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])))&lt;/span&gt;
&lt;span class="n"&gt;a_n&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt output_prompt"&gt;Out[18]:&lt;/div&gt;



&lt;div class="output_latex output_subarea output_execute_result"&gt;
$$\frac{2^{- n}}{5} \sqrt{5} \left(\left(1 + \sqrt{5}\right)^{n} - \left(- \sqrt{5} + 1\right)^{n}\right)$$
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fib_G&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;simplify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a_n&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;fib_G&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="参考课程"&gt;参考课程&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/#%E5%8F%82%E8%80%83%E8%AF%BE%E7%A8%8B"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;组合数学: 
&lt;a href="http://www.xuetangx.com/courses/course-v1:TsinghuaX+60240013X+sp/info"&gt;http://www.xuetangx.com/courses/course-v1:TsinghuaX+60240013X+sp/info&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><guid>https://goldengrape.github.io/posts/python/Generating-func-Fibonacci/</guid><pubDate>Tue, 16 Jan 2018 17:00:00 GMT</pubDate></item><item><title>见微知著: Magic Leap为什么会失败</title><link>https://goldengrape.github.io/posts/bulabula/why-magicleap-fall/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;Magic Leap取得了大量投资以建立基于光纤扫描的数字光场技术. 试图利用该技术解决调节集合反射的问题.&lt;/p&gt;
&lt;p&gt;经过6年的研发, Magic Leap自称将于2018年推出实体产品 Magic Leap One
&lt;img alt="" src="https://www.vrandfun.com/wp-content/uploads/2017/12/magic-leap-one-ar-headset.jpg"&gt;&lt;/p&gt;
&lt;p&gt;但是, 根据magic leap于&lt;a href="https://twitter.com/magicleap/status/717390550429786113"&gt;6 Apr 2016发布的一条twitter&lt;/a&gt;:
"When you start building tech with the body in mind, magical things happen. Step one: study the eye."
&lt;img alt="" src="https://pbs.twimg.com/media/CfSu50CW8AEt39K.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;图中大量的参数标注是错误的!&lt;/strong&gt; 这样粗心或无知的公司不可能按照预期将高质量的产品投放市场上. 投资人对数字光场技术的期望必将收到严重打击, 并将积极寻找替代技术.&lt;/p&gt;
&lt;p&gt;那么, 正确的眼球光学参数应当是怎样的?&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;项目&lt;/th&gt;
&lt;th align="left"&gt;Magic Leap标注&lt;/th&gt;
&lt;th align="left"&gt;Gullstrand模型眼&lt;/th&gt;
&lt;th align="left"&gt;吐槽&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;位置&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;角膜前表面&lt;/td&gt;
&lt;td align="left"&gt;0&lt;/td&gt;
&lt;td align="left"&gt;0&lt;/td&gt;
&lt;td align="left"&gt;参考原点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;角膜后表面&lt;/td&gt;
&lt;td align="left"&gt;1.15&lt;/td&gt;
&lt;td align="left"&gt;0.5&lt;/td&gt;
&lt;td align="left"&gt;错太离谱, 猪眼才这么厚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;前房深度&lt;/td&gt;
&lt;td align="left"&gt;3.54&lt;/td&gt;
&lt;td align="left"&gt;3.6&lt;/td&gt;
&lt;td align="left"&gt;这项看着还行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;晶体后表面&lt;/td&gt;
&lt;td align="left"&gt;7.60&lt;/td&gt;
&lt;td align="left"&gt;7.2&lt;/td&gt;
&lt;td align="left"&gt;晶体这么厚, 还是看着像猪眼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;黄斑位置&lt;/td&gt;
&lt;td align="left"&gt;24.75&lt;/td&gt;
&lt;td align="left"&gt;24&lt;/td&gt;
&lt;td align="left"&gt;眼轴每长1mm误差带来约+3D近视&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;曲率半径&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;角膜前表面&lt;/td&gt;
&lt;td align="left"&gt;7.98&lt;/td&gt;
&lt;td align="left"&gt;7.7&lt;/td&gt;
&lt;td align="left"&gt;前面太凸&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;角膜后表面&lt;/td&gt;
&lt;td align="left"&gt;6.22&lt;/td&gt;
&lt;td align="left"&gt;6.8&lt;/td&gt;
&lt;td align="left"&gt;后面太平&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;晶体前表面&lt;/td&gt;
&lt;td align="left"&gt;10.20&lt;/td&gt;
&lt;td align="left"&gt;10.0&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;晶体后表面&lt;/td&gt;
&lt;td align="left"&gt;-6.17&lt;/td&gt;
&lt;td align="left"&gt;-6.0&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;光学参数&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;td align="left"&gt;由于上面的结构参数差别, 导致光学参数大不相同了.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第一主点位置&lt;/td&gt;
&lt;td align="left"&gt;1.54&lt;/td&gt;
&lt;td align="left"&gt;1.348&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第二主点位置&lt;/td&gt;
&lt;td align="left"&gt;1.86&lt;/td&gt;
&lt;td align="left"&gt;1.602&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第一焦点位置&lt;/td&gt;
&lt;td align="left"&gt;-15.59&lt;/td&gt;
&lt;td align="left"&gt;-15.707&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第二焦点位置&lt;/td&gt;
&lt;td align="left"&gt;24.75&lt;/td&gt;
&lt;td align="left"&gt;24.387&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第一节点位置&lt;/td&gt;
&lt;td align="left"&gt;7.30&lt;/td&gt;
&lt;td align="left"&gt;7.078&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第二节点位置&lt;/td&gt;
&lt;td align="left"&gt;7.62&lt;/td&gt;
&lt;td align="left"&gt;7.332&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第一焦距&lt;/td&gt;
&lt;td align="left"&gt;-17.13&lt;/td&gt;
&lt;td align="left"&gt;-17.055&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;第二焦距&lt;/td&gt;
&lt;td align="left"&gt;22. 89&lt;/td&gt;
&lt;td align="left"&gt;24.387&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;正常值来自于Gullstrand模型眼在调节放松时的状态, 引用自2014年AAO教材Basic and Clinical Science Course (BCSC)第三卷Clinical Optics. 当动用调节时在实体参数上只有晶体的曲率和前表面位置发生变化.  &lt;/p&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/Allvar_Gullstrand"&gt;Allvar Gullstrand&lt;/a&gt;前辈1911年获得了诺贝尔奖, 并于1905年霸气地阻止了爱因斯坦的相对论获诺贝尔奖.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Gulsstrand" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Allvar_Gullstrand.jpg/412px-Allvar_Gullstrand.jpg"&gt;&lt;/p&gt;
&lt;p&gt;这些还只是比较了在光轴上的参数, 还有比如角膜直径被标成12-13, 人眼的角膜是10-11, 猪眼才13.&lt;/p&gt;
&lt;p&gt;如果你觉得Gullstrand模型眼太古老, 也可以去Zemax上找到&lt;a href="http://customers.zemax.com/os/resources/learn/knowledgebase/how-to-model-the-human-eye-in-zemax"&gt;如何建立人眼光学模型的教程&lt;/a&gt;, 参数上会有一些差别, 比如角膜厚度是0.55, 这个更接近人体测量值. 但即使有差别, 也不至于把厚度差到猪眼上去.&lt;/p&gt;
&lt;p&gt;哦, 对了, 如果你想用Gullstrand模型眼做个什么简单的模拟或者计算, 我这里已经准备好了&lt;a href="https://goldengrape.github.io/posts/python/abcd-matrix/"&gt;ABCD矩阵&lt;/a&gt;&lt;/p&gt;
&lt;!-- EOF --&gt;&lt;/div&gt;</description><category>ophthalmology</category><guid>https://goldengrape.github.io/posts/bulabula/why-magicleap-fall/</guid><pubDate>Tue, 16 Jan 2018 08:30:00 GMT</pubDate></item><item><title>眼科科普索引贴</title><link>https://goldengrape.github.io/posts/ophthalmology/ophthalomology-pop-sci-index/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;请使用CTRL+F或+F查找相应关键词.&lt;/p&gt;
&lt;p&gt;有些文章写作时间较早, 可能有必要更新. 有些文章我可能会从果壳的日志上逐渐搬运过来. 果壳的图床有时会出问题, 还是放在自己这里安心一些. &lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;hr&gt;
&lt;h2&gt;总论&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://goldengrape.github.io/posts/ophthalmology/How-to-see-a-doctor/"&gt;如何看病&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;眼病的视觉感受&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/article/156504/"&gt;眼睛一生病，世界就变样&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;高度近视&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/blog/114894/"&gt;简介：高度近视定期查眼底&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/176929/"&gt;近视眼坐过山车容易视网膜脱落么？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/102643/"&gt;有没有通过纠正晶状体治疗近视的方法？近视导致是否会反应速度减慢？&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;近视手术&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://songshuhui.net/archives/58085"&gt;准分子激光角膜屈光手术——问与答(上)&lt;/a&gt;
&lt;a href="http://songshuhui.net/archives/58100"&gt;准分子激光角膜屈光手术——问与答(中)&lt;/a&gt;
&lt;a href="http://songshuhui.net/archives/58110"&gt;准分子激光角膜屈光手术——问与答(下)&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;散光&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/blog/102489/"&gt;跟进宝学眼科之散光&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/102222/"&gt;微博刷屏会导致眼睛散光，视力下降吗？&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;隐形眼镜&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/article/94773/"&gt;“美瞳”：美丽是否要付出代价&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/195649/"&gt;如何挑选适合的隐形眼镜？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/177378/"&gt;隐形眼镜能滑到眼球后面吗？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/177392/"&gt;晚上睡觉不摘隐形眼镜会有什么后果？隐形眼镜一次可以戴几小时？ 戴隐形眼镜有什么注意事项么？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/118776/"&gt;闺蜜说，隐形眼镜等于有男友，是真的吗？&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;眼药水&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/article/87604/"&gt;眼药水闪亮不了你的双眼&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/96843/"&gt;人乳治疗眼部炎症是可行的吗?&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;青光眼&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/blog/117302/"&gt;跟进宝学眼科之青光眼&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;白内障&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/blog/73506/"&gt;白内障FAQ&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;麦粒肿&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/115715/"&gt;指甲上画十字能治疗麦粒肿？如果是谣言，正确的方法是什么？&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;眼外伤&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.guokr.com/question/172712/"&gt;眼球受到外来的尖锐物品的刺伤，后果会是怎样？&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;灯光&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://goldengrape.github.io/posts/ophthalmology/story-of-blue-light/"&gt;蓝光的故事&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;VR/AR&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://goldengrape.github.io/posts/ophthalmology/vr-and-mypia/"&gt;关于VR与近视&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description><guid>https://goldengrape.github.io/posts/ophthalmology/ophthalomology-pop-sci-index/</guid><pubDate>Tue, 16 Jan 2018 05:00:01 GMT</pubDate></item><item><title>机器学习的知识产权保护(2)--侵权检测</title><link>https://goldengrape.github.io/posts/Machine_Learning/ML-IP-2/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;上次说到机器学习的知识产权保护中&lt;a href="https://goldengrape.github.io/posts/Machine_Learning/ML-IP"&gt;保护的困难&lt;/a&gt;, 特别是在侵权识别之中. 由于现阶段机器学习的参数解释起来很困难, 不能够简单设定一个保护范围. 也难以逆向工程别人的模型获得所有的参数.&lt;/p&gt;
&lt;p&gt;但还是有方法的.
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;p&gt;以深度神经网络为例. 其他机器学习也有类似的特点. 深度神经网络(DNN)总会有个风险叫做"过拟合" overfitting, 某种程度上, 这是一种记忆, DNN记住了发来的训练集中的数据, 一旦再次有这些数据输入, DNN就可以调用出原来训练过的输出. 于是在训练的时候, 可能误差很小, 但用测试数据集去测试的时候误差却很大. 这样的DNN缺乏"泛化"能力, 相当于一个学生擅长死记硬背, 却不能举一反三.&lt;/p&gt;
&lt;p&gt;这个特点就可以用来作为DNN的"身份识别"了. 类似师傅教徒弟, 某一个招式本门派的应对是固定的, 由于反复训练, 徒弟们都记在了心里. 比如对面来一直拳, 别的门派都是向后躲, 本门派的却是向前侧躲. 那么行走江湖的时候, 碰见对手一拳打过去是向前侧躲的, 多半就是本门派的师兄弟了.
(貌似哪个武侠小说里有类似的情节)&lt;/p&gt;
&lt;p&gt;在DNN中, 方法可以是这样的:&lt;/p&gt;
&lt;p&gt;准备一组数据对作为"数据探针", 比如输入图像都是猫, 但却在图片中心点有一个白点, 而输出结果中, 把这些猫的图像都标记为狗.&lt;/p&gt;
&lt;p&gt;这些数据copy很多份, 放入DNN的训练集之中, 反复训练, 使得DNN对这些数据发生了过拟合, 记住了这些数据探针. 一旦有猫图中心有白点的图片输入, 本DNN就会认成是狗而不是猫.&lt;/p&gt;
&lt;p&gt;那么, 当本DNN的结构和参数有可能被盗用的时候, 并不需要对可疑的DNN进行逆向工程, 只需要将数据探针送入可疑DNN中, 看看输出的结果是怎样的, 如果发现回报的结果是狗, 就多了几分可疑. 如果很多数据探针都能够检出, 那么从本DNN盗用的可能性就极高了.&lt;/p&gt;
&lt;p&gt;这就是一种不开箱来检查黑箱的方法.&lt;/p&gt;
&lt;p&gt;本来最近我也写了一个这样的发明. 可惜早有先贤写出了同样的方案.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://pdfstore.patentorder.com/pdf/us/449/us2017206449.pdf"&gt;Title: Neural Network Verification;&lt;/a&gt;
申请人: Hewlett Packard Enterprise Development LP;
申请日: September 17, 2014;
公开日: July 20, 2017.&lt;/p&gt;
&lt;p&gt;只比我早三年嘛, 也还不差.&lt;/p&gt;
&lt;!-- EOF --&gt;&lt;/div&gt;</description><category>发明</category><guid>https://goldengrape.github.io/posts/Machine_Learning/ML-IP-2/</guid><pubDate>Tue, 16 Jan 2018 02:00:01 GMT</pubDate></item><item><title>如何写一个球面Ray tracing程序(1)</title><link>https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="直线与平面的交点"&gt;直线与平面的交点&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E7%9B%B4%E7%BA%BF%E4%B8%8E%E5%B9%B3%E9%9D%A2%E7%9A%84%E4%BA%A4%E7%82%B9"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;在Ray tracing的时候，如果光线最终打到一个平面屏幕上，就需要知道每个光线的落点。直线和平面的交点求解比较简单，先用来练手热身。&lt;/p&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://goldengrape.github.io/images/ray-tracing-1.1.png" alt=""&gt;&lt;/p&gt;
&lt;h3 id="直线的表示"&gt;直线的表示&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E7%9B%B4%E7%BA%BF%E7%9A%84%E8%A1%A8%E7%A4%BA"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;一条直线上任意一点P可以用直线上已知一点PLine，和直线方向的向量NLine来表示，写出参数方程就是，注意啊，这里的PLine,NLine都是矢量，但t是标量, 有如下(1)式
$$
P_{(t)}= P_{Line}+t \times N_{Line}
$$&lt;/p&gt;
&lt;h3 id="平面的表示"&gt;平面的表示&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E5%B9%B3%E9%9D%A2%E7%9A%84%E8%A1%A8%E7%A4%BA"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;一个平面，可以用平面上已知一点PPlane，和垂直于这个平面的法向量NPlane来表示。&lt;/p&gt;
&lt;h3 id="用参数方程求交点"&gt;用参数方程求交点&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/#%E7%94%A8%E5%8F%82%E6%95%B0%E6%96%B9%E7%A8%8B%E6%B1%82%E4%BA%A4%E7%82%B9"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;假设现在直线与平面交点是P点，那么可以画一个从平面上已知点PPlane到P点的向量，比如叫V=P-PPlane&lt;/p&gt;
&lt;p&gt;代入上面（1）式
得到(2)式
$$ 
V=P_t-P_{Plane}
\\
V=(P_{Line}+t \times N_{Line}) -P_{Plane}
$$&lt;/p&gt;
&lt;p&gt;显然V矢量是在平面内的，那么“垂直于这个平面的法向量NPlane”当然也垂直于V矢量，NPlane⊥V，这件事情在数学上有明确的表示，就是NPlane矢量和V矢量的dot product是等于0的。
$$
dot(V,N_{Plane})=0
$$&lt;/p&gt;
&lt;p&gt;把V替换成(2)式&lt;/p&gt;
$$
dot(P_{Line}+t \times N_{Line}-P_{Plane}, N_{Plane})=0
$$&lt;p&gt;dot product是满足分配律的，于是有
$$
dot(P_{Line}-P_{Plane}, N_{Plane}) + dot( t \times N_{Line}, N{Plane})=0
$$&lt;/p&gt;
&lt;p&gt;其中t是标量，可以提取到dot product外面来
$$
dot(P_{Line}-P_{Plane}, N_{Plane}) + t \times dot( N_{Line}, N{Plane})==0
$$
化简一下：&lt;/p&gt;
$$
t= - \frac{dot(P_{Line}-P_{Plane}, N_{Plane})}{dot( N_{Line}, N{Plane})}
$$&lt;p&gt;里面再调换一下位置，把难看的负号去掉。铛铛：&lt;/p&gt;
$$
t=\frac{dot(P_{Plane}-P_{Line}, N_{Plane})}{dot( N_{Line}, N{Plane})}
$$&lt;p&gt;这就是程序里算出t的方法了。有t的值，只要代入(1)式就可以求出交点P了。&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;lineCrossPlane&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;PLine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;NLine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;PPlane&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;NPlane&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;'''&lt;/span&gt;
&lt;span class="sd"&gt;    直线以起点PLine和方向向量NLine表示&lt;/span&gt;
&lt;span class="sd"&gt;    平面以平面上一点PPlane和法向量NPlane表示&lt;/span&gt;
&lt;span class="sd"&gt;    求其交点P&lt;/span&gt;
&lt;span class="sd"&gt;    直线有多组，平面仅一个&lt;/span&gt;
&lt;span class="sd"&gt;    '''&lt;/span&gt;
    &lt;span class="n"&gt;tup&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;PPlane&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;PLine&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;NPlane&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;tdown&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NLine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;NPlane&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tup&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tdown&lt;/span&gt;
    &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expand_dims&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 为了满足与t与NLine的乘法, 需要将t扩展一维&lt;/span&gt;
    &lt;span class="n"&gt;P&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;PLine&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;NLine&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;P&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 测试结果: &lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"__main__"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;pline&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
    &lt;span class="n"&gt;nline&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
    &lt;span class="n"&gt;pplane&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;nplane&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lineCrossPlane&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pline&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;nline&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;pplane&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;nplane&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[[ 5.  0.  0.]
 [ 5.  1.  2.]]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/pyathon-ray-tracing-1/</guid><pubDate>Mon, 15 Jan 2018 15:30:00 GMT</pubDate></item><item><title>如何写一个球面Ray tracing程序(0)</title><link>https://goldengrape.github.io/posts/python/ray-tracing-0/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;2017年我差不多把python学会了, 还是挺有成就感的. 这个项目是我刚开始重新学习python的时候做的, 现在看起来有些代码需要再修改一下. 所以重新拿出来写一遍.&lt;/p&gt;
&lt;p&gt;Ray tracing, 就是光路追迹或者叫光线追踪, 就是跟随一根光线, 看它依次与透镜组的哪些面相交, 怎样折射/反射, 最终落在成像屏幕的什么位置.&lt;/p&gt;
&lt;p&gt;球面镜的Ray tracing是比较简单的, 直线与平面, 直线与球面的交点就可以写出解析解, 因此求解速度也很快. 球面镜也是很常用的, 毕竟球面镜头便宜. 在自己做的一些项目中, 还是很可能用到球面镜的.&lt;/p&gt;
&lt;p&gt;所以写一个球面镜的ray tracing程序还是有一些实用价值的.&lt;/p&gt;&lt;/div&gt;</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/ray-tracing-0/</guid><pubDate>Mon, 15 Jan 2018 15:00:00 GMT</pubDate></item><item><title>字符替换练习</title><link>https://goldengrape.github.io/posts/bulabula/eq-price/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;这是一个python正则表达式的练习:&lt;/p&gt;
&lt;p&gt;我恰好读到曼昆经济学原理中的一小段, 觉得用来练习正则表达式中的文本替换命令很有意思.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;content0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;span class="s1"&gt;价格上限如何影响市场结果&lt;/span&gt;

&lt;span class="s1"&gt;...对冰激凌市场实行价格上限时，可能有两种结果。&lt;/span&gt;
&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://goldengrape.github.io/images/eq_price.001.png" alt=""&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;content1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;span class="s1"&gt;在图6－l（a）幅中，政府实行每个冰激凌蛋卷为4美元的价格上限。&lt;/span&gt;
&lt;span class="s1"&gt;在这种情况下，由于使供求平衡的价格（3美元）低于上限，&lt;/span&gt;
&lt;span class="s1"&gt;价格上限没有限制作用。&lt;/span&gt;
&lt;span class="s1"&gt;市场力量自然而然地使经济向均衡变动，而且，价格上限没有影响。&lt;/span&gt;
&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;img src="https://goldengrape.github.io/images/eq_price.002.png" alt=""&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;content2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;span class="s1"&gt;图6－l0(b)幅表示另一种结果，这种结果更令人感兴趣，也更可能。&lt;/span&gt;
&lt;span class="s1"&gt;在这种情况下，政府实行每个冰激凌蛋卷2美元的价格上限。&lt;/span&gt;
&lt;span class="s1"&gt;由于均衡价格3美元在价格上限之上，所以，价格上限对市场有一种限制性约束。&lt;/span&gt;
&lt;span class="s1"&gt;供求力量趋向于使价格向均衡变动，但当市场价格达到上限时，就不能再上升了。&lt;/span&gt;
&lt;span class="s1"&gt;因此，市场价格等于价格上限。&lt;/span&gt;
&lt;span class="s1"&gt;在这种价格时，冰激凌的需求量（图中的125个）超过了供给量（75个）。&lt;/span&gt;
&lt;span class="s1"&gt;存在冰激凌短缺，因此，一些在现行价格时想买冰激凌的人买不到。&lt;/span&gt;
&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;!-- TEASER_END --&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;content3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;span class="s1"&gt;当冰激凌短缺的形成是由于这种价格上限时，&lt;/span&gt;
&lt;span class="s1"&gt;一些配给冰激凌的机制自然就会出现。&lt;/span&gt;

&lt;span class="s1"&gt;这种机制可能是排长队：&lt;/span&gt;
&lt;span class="s1"&gt;那些愿意提前来到并排队等候的人得到一个冰激凌，&lt;/span&gt;
&lt;span class="s1"&gt;而另一些不愿意等候的人得不到。&lt;/span&gt;

&lt;span class="s1"&gt;另一种方法是，&lt;/span&gt;
&lt;span class="s1"&gt;卖者可以根据他们自己的偏好来配给冰激凌，&lt;/span&gt;
&lt;span class="s1"&gt;只卖给朋友、亲戚或同一种族或民族的成员。&lt;/span&gt;

&lt;span class="s1"&gt;要注意的是，&lt;/span&gt;
&lt;span class="s1"&gt;尽管价格上限是由帮助冰激凌买者的愿望而促成的，&lt;/span&gt;
&lt;span class="s1"&gt;但并不是所有买者都能从这种政策中受益。&lt;/span&gt;
&lt;span class="s1"&gt;一些买者尽管不得不排队等候，但以较低的价格得到冰激凌，&lt;/span&gt;
&lt;span class="s1"&gt;而另一些买者根本得不到任何冰激凌。&lt;/span&gt;

&lt;span class="s1"&gt;冰激凌市场的这个例子说明了一个一般规律：&lt;/span&gt;
&lt;span class="s1"&gt;当政府对竞争市场实行限制性价格上限时，就产生了物品的短缺，&lt;/span&gt;
&lt;span class="s1"&gt;而且，卖者必然在大量潜在买者中配给稀缺物品。&lt;/span&gt;

&lt;span class="s1"&gt;这种价格上限之下产生的配给机制很少是合意的。&lt;/span&gt;
&lt;span class="s1"&gt;排长队是无效率的，因为这样做浪费了买者的时间。&lt;/span&gt;
&lt;span class="s1"&gt;根据卖者偏好的歧视&lt;/span&gt;
&lt;span class="s1"&gt;既无效率（因为物品并没有给予对它评价最高的买者）&lt;/span&gt;
&lt;span class="s1"&gt;又可能是不公正的。&lt;/span&gt;

&lt;span class="s1"&gt;与此相比，一个自由竞争市场中的配给机制既有效率又客观。&lt;/span&gt;
&lt;span class="s1"&gt;当冰激凌市场达到均衡时，&lt;/span&gt;
&lt;span class="s1"&gt;任何一个想支付市场价格的人都可以得到一个冰激凌蛋卷。&lt;/span&gt;
&lt;span class="s1"&gt;自由市场用价格来配给物品。&lt;/span&gt;

&lt;span class="s1"&gt;摘录来自: [美]N·格里高利·曼昆. “经济学原理”&lt;/span&gt;

&lt;span class="s1"&gt;'''&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="文本替换"&gt;文本替换&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/bulabula/eq-price/#%E6%96%87%E6%9C%AC%E6%9B%BF%E6%8D%A2"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;2017-18年的秋冬, 有一场很厉害的流感, 导致各个医院儿科爆满. 一时间各种分析很多. 让我们看看曼昆怎么说的.&lt;/p&gt;
&lt;p&gt;看曼昆对此事的看法, 不妨简单使用文本替换, 将例子中的名词替换成实际生活中的名词&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;content0&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;content1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;content2&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;content3&lt;/span&gt;
&lt;span class="n"&gt;new_content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'冰激凌蛋卷'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"儿科医生"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"冰激凌市场"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"儿科医疗市场"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"冰激凌"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="s2"&gt;"儿科医生"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"物品"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"医疗服务"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'买者'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"患儿家长"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'卖者'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'儿科医院或医生'&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new_content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;
价格上限如何影响市场结果

...对儿科医疗市场实行价格上限时，可能有两种结果。

在图6－l（a）幅中，政府实行每个儿科医生为4美元的价格上限。
在这种情况下，由于使供求平衡的价格（3美元）低于上限，
价格上限没有限制作用。
市场力量自然而然地使经济向均衡变动，而且，价格上限没有影响。

图6－l0(b)幅表示另一种结果，这种结果更令人感兴趣，也更可能。
在这种情况下，政府实行每个儿科医生2美元的价格上限。
由于均衡价格3美元在价格上限之上，所以，价格上限对市场有一种限制性约束。
供求力量趋向于使价格向均衡变动，但当市场价格达到上限时，就不能再上升了。
因此，市场价格等于价格上限。
在这种价格时，儿科医生的需求量（图中的125个）超过了供给量（75个）。
存在儿科医生短缺，因此，一些在现行价格时想买儿科医生的人买不到。

当儿科医生短缺的形成是由于这种价格上限时，
一些配给儿科医生的机制自然就会出现。

这种机制可能是排长队：
那些愿意提前来到并排队等候的人得到一个儿科医生，
而另一些不愿意等候的人得不到。

另一种方法是，
儿科医院或医生可以根据他们自己的偏好来配给儿科医生，
只卖给朋友、亲戚或同一种族或民族的成员。

要注意的是，
尽管价格上限是由帮助儿科医生患儿家长的愿望而促成的，
但并不是所有患儿家长都能从这种政策中受益。
一些患儿家长尽管不得不排队等候，但以较低的价格得到儿科医生，
而另一些患儿家长根本得不到任何儿科医生。

儿科医疗市场的这个例子说明了一个一般规律：
当政府对竞争市场实行限制性价格上限时，就产生了医疗服务的短缺，
而且，儿科医院或医生必然在大量潜在患儿家长中配给稀缺医疗服务。

这种价格上限之下产生的配给机制很少是合意的。
排长队是无效率的，因为这样做浪费了患儿家长的时间。
根据儿科医院或医生偏好的歧视
既无效率（因为医疗服务并没有给予对它评价最高的患儿家长）
又可能是不公正的。

与此相比，一个自由竞争市场中的配给机制既有效率又客观。
当儿科医疗市场达到均衡时，
任何一个想支付市场价格的人都可以得到一个儿科医生。
自由市场用价格来配给医疗服务。

摘录来自: [美]N·格里高利·曼昆. “经济学原理”


&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;hr&gt;
&lt;p&gt;读起来好像还很通顺的. 我隐约记得高中政治经济学里面还是讲过基本的供求曲线的.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><guid>https://goldengrape.github.io/posts/bulabula/eq-price/</guid><pubDate>Mon, 15 Jan 2018 05:20:34 GMT</pubDate></item><item><title>双人游戏的必胜招</title><link>https://goldengrape.github.io/posts/bulabula/zermelo-theorem/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;该篇复习于2011年. 今天看到&lt;a href="https://twitter.com/gttnnn"&gt;如月中天&lt;/a&gt;提到&lt;a href="https://twitter.com/gttnnn/status/952744005934051328"&gt;"胜也罢，败也罢，就是不要同他讲和！"&lt;/a&gt;, 不知怎么, 突然想起这个双人游戏是可能有必胜招的, 还有一个华丽的证明, 然后自己又不记得了. 赶紧搜索了一下, 发现以前记录过.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;hr&gt;
&lt;p&gt;zermelo's theorem 实在太帅了。看了耶鲁公开课博弈论第15集，终于揭开了从大一开始困扰我的谜题。大一的时候舒幼生教授一次很淡定的说，一个双人棋类游戏，如果没有平局，那么一定有必胜招。当时我就很迷惑，但他没给出证明。过了13年，我终于见到了证明。实在激动，记录一下。&lt;/p&gt;
&lt;h2&gt;zermelo's theorem&lt;/h2&gt;
&lt;p&gt;这个定律的全名叫做zermelo's theorem。具体描述是：&lt;/p&gt;
&lt;p&gt;在一个双人游戏中，满足：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;双人轮流行动&lt;/li&gt;
&lt;li&gt;有限步。比如国际象棋好像重复出现六次相同的棋局判和&lt;/li&gt;
&lt;li&gt;信息完备。所谓信息完备，大概是玩家明确知道所有之前的步骤。&lt;/li&gt;
&lt;li&gt;仅有3种结局，对于玩家1只有：赢，和，输三种结局&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当满足上述条件的游戏，只会出现下面情况之一：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;玩家1有必胜招。就是玩家1按照某种特定的走法，不论玩家2如何努力，玩家1都可以赢&lt;/li&gt;
&lt;li&gt;玩家1有必和招。&lt;/li&gt;
&lt;li&gt;玩家2有必胜招。当然，有些游戏是有后手优势的，先走的人倒霉。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这个定律的证明相当华丽，建议每一个理科geek前去欣赏，可自行google "公开课 博弈论 15"查看视频.&lt;/p&gt;
&lt;h2&gt;证明&lt;/h2&gt;
&lt;p&gt;在此简单记叙一下，权作笔记。&lt;/p&gt;
&lt;p&gt;N是某一游戏的最大步长，比如我们下棋，玩很多很多次，其中最多回合的一次，是大战300回合后我赢了，那么N=600。&lt;/p&gt;
&lt;h3&gt;数学归纳法第一步：&lt;/h3&gt;
&lt;p&gt;N=1时，zermelo's theorem显然成立。&lt;/p&gt;
&lt;p&gt;玩家1，只用走一步，就可决定输赢。按照游戏的规定，也许有胜负和三种，那么玩家1显然选择胜的走法，于是满足玩家1有必胜招&lt;/p&gt;
&lt;h3&gt;数学归纳法第二步：&lt;/h3&gt;
&lt;p&gt;假设i&amp;lt;=N时命题成立&lt;/p&gt;
&lt;h3&gt;数学归纳法第三步：&lt;/h3&gt;
&lt;p&gt;试图证明i=N+1时命题成立&lt;/p&gt;
&lt;p&gt;考虑N+1时的子游戏，除去玩家1走的第一步以后的游戏部分。玩家1第一步的每一种走法都会产生一个新游戏起始状态，它的最大步长&amp;lt;=N的，从数学归纳法第二步可知，每个子游戏有唯一确定的结果，玩家1必然会赢、输或者和。于是等价于N=1的情况了！相当于玩家1在第一步的时候来选择进入哪个游戏，是自己必赢还是必输还是必和。&lt;/p&gt;
&lt;p&gt;这个证明的华丽之处在于，我在想N+1的时候，默认的想法是在游戏树后面再加一层，于是很多年都想不出来，而这个证明是在游戏树前面加上了一个树根。在看到这个证明之前，我根本就没有意识到自己有这样的思维定势。&lt;/p&gt;&lt;/div&gt;</description><category>生活方式</category><guid>https://goldengrape.github.io/posts/bulabula/zermelo-theorem/</guid><pubDate>Mon, 15 Jan 2018 04:00:00 GMT</pubDate></item><item><title>生活中的定量</title><link>https://goldengrape.github.io/posts/bulabula/quantity-life/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;"能度量方是合理, 合理性才能存在"-- 张系国《超人列传》&lt;/p&gt;
&lt;p&gt;生活中度量的意义在于使事情可重复. 可重复的才是可控制和可改进的. 可改进则可以达到当前条件下的最优化, 一旦找到最优解就不需要再动脑子了, 除非环境条件发生变化. 省心.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;h2&gt;无明火&lt;/h2&gt;
&lt;p&gt;火是不可度量的. 我家已经取消了用明火做菜做饭. 一切加热源必须能够并且一定要设置定时. 这样在人离开的时候才能有安全感.&lt;/p&gt;
&lt;p&gt;现在家里做饭做菜是电磁炉, 电蒸烤炉, 电饭锅, 微波炉和温控热得快. 除了极其罕见地用电磁炉炒, 其他的方式: 蒸/煮/烤/空气炸/微波加热/炖, 这些都有一个共同特点是可以无人值守, 把食材放入设定好参数, 人就可以离开了.&lt;/p&gt;
&lt;h2&gt;厨房电子称&lt;/h2&gt;
&lt;p&gt;做饭一定要称量的, 前几天看了个教做中国菜的视频推号, 里面不断在说"少许", "适量", 简直不能忍, 看一次就unfo了. 称量能够使每一次烹饪是可重复的,&lt;/p&gt;
&lt;p&gt;比如, 双人份米饭: (90g大米+30g杂粮)[误差1g]+(520-120)g水[误差20g]. 注意做饭使用量筒是不合适的, 对于水虽然问题不大, 但对于米的误差太大.&lt;/p&gt;
&lt;p&gt;称量以后不会有剩菜剩饭, 吃多少, 各种种类是什么心中有数. 控制体重第一步就是买个电子称.&lt;/p&gt;
&lt;h2&gt;喷雾瓶&lt;/h2&gt;
&lt;p&gt;我对咖啡因敏感, 喝完以后就睡不着觉. 但如果长时间开车, 还是需要在路上提神, 需要摄入一些咖啡因. 我的方法是这样的: 用小的喷雾瓶装上零度可乐, 开车的时候拿出来在舌下喷几下.&lt;/p&gt;
&lt;p&gt;虽然缺乏数据, 但个人感觉零度可乐的咖啡因含量挺高, 无糖, 所以不那么粘稠, 自带防腐剂. 因此分装以后放车里也不容易变质, 不慎洒出来一些也不至于黏糊糊的(与可乐/红牛相比).&lt;/p&gt;
&lt;p&gt;舌下吸收避免首过效应, 起效快, 相对来说用量也较少.&lt;/p&gt;
&lt;p&gt;关于咖啡因. 咖啡因长期摄入受体是下调的, 很多人夜里喝咖啡晚上照样睡得安稳, 白天不喝咖啡就困得不行. 其实不喝咖啡的困倦不是因为咖啡提神, 而是更接近于戒断反应.&lt;/p&gt;
&lt;h2&gt;起泡瓶&lt;/h2&gt;
&lt;p&gt;最开始发现这个是因为买了一瓶舒肤佳的泡沫洗手液, 用完以后发现把常规的洗手液1:10稀释以后灌进起泡瓶也有同样的作用. 大概一年了, 再没买过舒肤佳的泡沫洗手液, 一直用蓝月亮洗手液补充装的兑水. 而且蓝月亮洗手液补充装也还有多半袋. 预计下一次买洗手液得是两年以后了.&lt;/p&gt;
&lt;p&gt;现在已经扩展到家里的洗涤灵, 浴液, 洗发水和消毒液了.&lt;/p&gt;
&lt;p&gt;最早搞泡沫洗手液的产品经理, 真是行业公敌啊.&lt;/p&gt;
&lt;h2&gt;按压瓶&lt;/h2&gt;
&lt;p&gt;与洗手液类似的按压瓶, 我用来装漱口水了. 漱口水原装的那个大瓶盖, 说是当量杯用, 其实太大太大, 误差也太大太大. 而且接触完嘴唇再拧回到大瓶上, 虽说是杀菌剂, 也是污染呐.&lt;/p&gt;
&lt;p&gt;按压瓶, 张嘴, 伸到嘴边, 按4次, 无接触, 够用.&lt;/p&gt;
&lt;h2&gt;低温烹饪, 分装与冷冻&lt;/h2&gt;
&lt;p&gt;火候, 就是温度对于时间的函数.&lt;/p&gt;
&lt;p&gt;温度的精度控制越高, 对时间的精度反而可以要求更低. 60度煮牛肉, 4小时和6小时甚至和12小时之间差别也不算大. 而且对于60度的水浴来说, 不论水还是空气, 体积变化都不明显, 不至于溢出到锅外面. 于是, 这样就不用担心什么, 即使忘记了或者临时有事出门, 也不至于发生什么危险.&lt;/p&gt;
&lt;p&gt;低温烹饪的另一个好处就是可以一次做很多, 然后分装, 冷冻. 这样操作更有效率, 平均到每一餐来说花费的时间就更少. &lt;/p&gt;
&lt;!-- EOF --&gt;&lt;/div&gt;</description><category>生活方式</category><guid>https://goldengrape.github.io/posts/bulabula/quantity-life/</guid><pubDate>Sun, 14 Jan 2018 16:20:00 GMT</pubDate></item></channel></rss>