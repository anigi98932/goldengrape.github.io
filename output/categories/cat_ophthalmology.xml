<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>GoldenGrape's Blog (文章分类：ophthalmology)</title><link>https://goldengrape.github.io/</link><description></description><atom:link href="https://goldengrape.github.io/categories/cat_ophthalmology.xml" rel="self" type="application/rss+xml"></atom:link><language>zh_cn</language><copyright>Contents © 2018 &lt;a href="mailto:https://twitter.com/goldengrape"&gt;Golden Grape&lt;/a&gt; </copyright><lastBuildDate>Mon, 27 Aug 2018 11:39:05 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>显微操作训练(4)</title><link>https://goldengrape.github.io/posts/ophthalmology/microsurgery_4/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;手术显微镜操作训练&lt;/p&gt;
&lt;p&gt;这是一组操作训练作业:
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;p&gt;1.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;初始化手术显微镜&lt;/li&gt;
&lt;li&gt;设置好显微镜下录像&lt;/li&gt;
&lt;li&gt;用手机或由同伴拍摄坐姿正侧位照片&lt;ul&gt;
&lt;li&gt;在练习0分钟后, 5分钟后, 10分钟后分别拍摄&lt;/li&gt;
&lt;li&gt;或用手机录像拍摄坐姿&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2.
打印下图
&lt;img alt="幻灯片45" src="https://i.loli.net/2018/07/04/5b3ba3f920315.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;3.
&lt;img alt="幻灯片46" src="https://i.loli.net/2018/07/04/5b3ba4254ca37.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;4.
&lt;img alt="幻灯片47" src="https://i.loli.net/2018/07/04/5b3ba4254ef66.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;5.
&lt;img alt="幻灯片48" src="https://i.loli.net/2018/07/04/5b3ba4254c9e5.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;6.
&lt;img alt="幻灯片49" src="https://i.loli.net/2018/07/04/5b3ba42545a5d.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;7.
&lt;img alt="幻灯片50" src="https://i.loli.net/2018/07/04/5b3ba4254596c.jpeg"&gt;&lt;/p&gt;
&lt;h2&gt;参考资料&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://microsurg.hs.columbia.edu/"&gt;http://microsurg.hs.columbia.edu/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Optical Devices in Ophthalmology and Optometry: technology, Design Principles and Clinical Applications. ISBN: 978-3-527-41068-2 page 147-page 177&lt;/li&gt;
&lt;li&gt;Coursera公开课:&lt;ul&gt;
&lt;li&gt;台湾大学基础光学1,  第6讲
*&lt;a href="https://www.coursera.org/learn/ji-chu-guang-xue"&gt;https://www.coursera.org/learn/ji-chu-guang-xue&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;密歇根大学白内障手术概论, week 2&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.coursera.org/course/cataractsurgery"&gt;https://www.coursera.org/course/cataractsurgery
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;</description><category>microsurgery</category><guid>https://goldengrape.github.io/posts/ophthalmology/microsurgery_4/</guid><pubDate>Tue, 03 Jul 2018 16:30:00 GMT</pubDate></item><item><title>显微操作训练(3)</title><link>https://goldengrape.github.io/posts/ophthalmology/microsurgery_3/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;前两课讲的是手术之前应当如何调整显微镜, 这一部分讲解在手术中的显微镜使用和操作训练.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;h2&gt;正确的坐姿&lt;/h2&gt;
&lt;p&gt;基本的原则是:
&lt;em&gt; 上身的重力不可传导至手
&lt;/em&gt; 全身的重力不可传导至脚&lt;/p&gt;
&lt;p&gt;&lt;img alt="幻灯片22" src="https://i.loli.net/2018/07/03/5b3b803388499.jpeg"&gt;
坐姿应当是可持续的放松舒适动作, 有些坐姿看似很舒服, 或者刚刚开始的时候舒服, 持续一段时间反而会造成很大的损伤.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;术者的上身应当是很挺拔的状态, 自我感觉有点像是头悬梁,&lt;/li&gt;
&lt;li&gt;手肘放松接近90度左右,&lt;/li&gt;
&lt;li&gt;膝盖也是接近90度左右,&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;相应地要调节好凳高和床高.&lt;/p&gt;
&lt;p&gt;双脚分开约60度, 轻放在踏板上.&lt;/p&gt;
&lt;!-- EOF --&gt;

&lt;p&gt;&lt;img alt="幻灯片23" src="https://i.loli.net/2018/07/03/5b3b8194de1c1.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;重复一下坐姿的基本原则是:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;上身的重力不可传导至手&lt;/li&gt;
&lt;li&gt;全身的重力不可传导至脚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这是因为:
肌肉越放松, 动作越敏捷越稳定.&lt;/p&gt;
&lt;p&gt;如果画一张图, 用横轴表示肌张力, 纵轴表示动作的稳定性, 大约是这样的:
&lt;img alt="幻灯片24" src="https://i.loli.net/2018/07/03/5b3b820a7f5d2.jpeg"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;要将肢体放置在指定位置, 显然还是需要一定的肌张力, 不可能为0.&lt;/li&gt;
&lt;li&gt;要达成一定的目标动作, 比如用镊子夹持住囊膜, 也需要有一定的力量. 手术过程中是希望使用能够完成目标动作的最小力量. 比如撕囊, 前囊只有几个微米, 很小的力量即可夹持住, 如果施加更大的力量, 囊膜也仍然只是被夹住而已, 但更大的力量就有可能造成肌肉的抖动, 使稳定性下降.&lt;/li&gt;
&lt;li&gt;如果坐姿出现错误, 手或者脚不但要用力完成动作, 还需要分出一部分力量去支撑身体的重力, 稳定性就会更差.&lt;/li&gt;
&lt;li&gt;如果坐姿更扭曲, 可能还出现肌肉之间互相拮抗, 那时就几乎无法完成任何操作了.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;错误坐姿&lt;/h2&gt;
&lt;p&gt;人在精神高度紧张的时候, 可能不注意自己的坐姿. 或者在上台落座之前, 没有能够很好地调整手术床/手术椅的高度.&lt;/p&gt;
&lt;p&gt;&lt;img alt="幻灯片25" src="https://i.loli.net/2018/07/03/5b3b83b1b7fbb.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;要迅速毁掉一台手术非常简单, 比如上图中, 只要手术床摆低一些, 座椅摆到更远离手术床的位置, 脚踏放远一点, 显微镜阻尼放松一点即可.&lt;/p&gt;
&lt;p&gt;分析一下, 在这种情况下:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;显微镜阻尼过松, 使用中下垂, 术者要低头, 颈椎压力大&lt;/li&gt;
&lt;li&gt;手术床过低, 工作距离不变, 显微镜必然也要降低, 术者低头弯腰, 颈椎腰椎压力大.&lt;/li&gt;
&lt;li&gt;手术床过低, 手臂下垂+术者低头, 一部分上身重力转移到手腕上, 手腕肌张力提高, 容易出现手抖.&lt;/li&gt;
&lt;li&gt;手术椅太靠后, 术者只坐椅子边缘, 极不稳定, 紧张, 需要动用腿的力量支撑&lt;/li&gt;
&lt;li&gt;脚踏位置太远, 脚需要分担身体重量, 于是踩下脚踏容易, 抬起来却要慢一拍. 如果是发现吸住后囊, 恐怕是松不开了. 而且由于脚移动困难, 就会少移动, 于是会减少显微镜的实时调节, 相应的, 术者眼睛就要自己来动用调节力调节了, 很快也会疲劳.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;上述坐姿其实并不罕见, 比如在wetlab实验室中:&lt;/p&gt;
&lt;p&gt;&lt;img alt="幻灯片26" src="https://i.loli.net/2018/07/03/5b3b86e90bebb.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;这位同学就能够把所有上述各项错误都做全了. 还好是在实验室及时发现了她的错误, 并且指出纠正, 现在手术应该是好很多了.&lt;/p&gt;
&lt;p&gt;错误的坐姿不仅威胁病人, 对医生的身体也是损害:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1994年, 面向英国眼科医生问卷调查, 54% 背痛&lt;/li&gt;
&lt;li&gt;2005年, 美国, 52%颈部/上肢/腰痛, 其中15%工作受限制&lt;/li&gt;
&lt;li&gt;2004年, 伊朗, 80%慢性背痛, 55%慢性头痛&lt;/li&gt;
&lt;li&gt;2004年, 美国后节, 55%同时颈部背部痛, 其中7%需要接受手术治疗.
...

Will Ophthalmology Cripple You? http://www.reviewofophthalmology.com/content/i/1650/c/30458/
好好看看, 不要把自己变成别人SCI里的病例.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;显微镜调节&lt;/h2&gt;
&lt;p&gt;显微镜是靠脚踏来调节的. 要熟悉脚踏板的操作. 不同的脚踏可能踏板的定义不同, 需要自己亲自测试一下, 并且要在显微镜上多多练习才能熟悉.&lt;/p&gt;
&lt;p&gt;&lt;img alt="幻灯片28" src="https://i.loli.net/2018/07/03/5b3b8990b7fba.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;踏板中最重要的部分就是调节放大率和调焦. 要注意脚踏的各个控制调节都不是无限制的, 都有各自的极限范围, 到达极限以后显微镜有声音却不再移动.&lt;/p&gt;
&lt;p&gt;&lt;img alt="幻灯片29" src="https://i.loli.net/2018/07/03/5b3b8a88a0373.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;特别是调焦的微调上下都是有极限的, 经常看到有学生一直踩着脚踏, 显微镜已经降到最低, 仍然抱怨角膜浑浊看不清楚.&lt;/p&gt;
&lt;p&gt;马志中教授讲过: 出现问题, 停下, 恢复到正常状态, 再操作.&lt;/p&gt;
&lt;p&gt;对于显微镜一直调不清楚的实例来说, 就是停下, 看看显微镜是不是已经调到了最低或最高, 如果是, 用复位按钮或者脚踏把显微镜重新放到中间, 再粗调, 再微调.&lt;/p&gt;
&lt;h2&gt;亮度-对比度&lt;/h2&gt;
&lt;p&gt;显微镜的灯很亮, 但并非越亮越好.&lt;/p&gt;
&lt;p&gt;$$
Contrast= \frac{L_{max}-L_{min}}{L_{max}+L_{min}}
$$&lt;/p&gt;
&lt;p&gt;对比度是(最亮-最暗)除以(最亮+最暗), 或者说&lt;/p&gt;
&lt;p&gt;$$
Contrast= \frac{L_{max}-L_{min}}{L_{mean}}
$$&lt;/p&gt;
&lt;p&gt;对比度是(最亮-最暗)除以平均亮度,
提高了照明亮度, 可不一定提高对比度， 因此也不一定“更清楚”
&lt;img alt="幻灯片31" src="https://i.loli.net/2018/07/03/5b3b8ca149c9f.jpeg"&gt;&lt;/p&gt;
&lt;h2&gt;景深 vs 放大率&lt;/h2&gt;
&lt;p&gt;景深: 用手术显微镜时, 在垂直方向上看清楚的范围.
&lt;img alt="幻灯片32" src="https://i.loli.net/2018/07/03/5b3b8ce8d77ab.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;景深和放大率在一定程度上是相反的, 物体放大, 则景深缩小.
&lt;img alt="幻灯片33" src="https://i.loli.net/2018/07/03/5b3b8d576b481.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;由于景深和放大率有矛盾, 所以应当按需分配, 例如&lt;/p&gt;
&lt;h4&gt;在phaco手术中:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;撕囊:&lt;/li&gt;
&lt;li&gt;需要看清囊膜, 所以放大率很重要&lt;/li&gt;
&lt;li&gt;操作仅仅在囊膜平面, 所以景深并不重要.(这个推理仅仅在你不会牵拉切口的前提下, 否则眼球乱转, 囊膜平面倾斜)&lt;/li&gt;
&lt;li&gt;所以, 可以放得大一些&lt;/li&gt;
&lt;li&gt;phaco:&lt;/li&gt;
&lt;li&gt;需要看到从角膜内皮直到后囊膜的范围, 所以景深非常重要.&lt;/li&gt;
&lt;li&gt;核块的相貌倒是并不重要, 所以放大率可以小一些.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;在显微缝合中:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;进针出针: 需要看清细节层次, 可以放大一些&lt;/li&gt;
&lt;li&gt;打结: 针持到镊子的距离可能很大, 需要缩小一些.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;翼状胬肉:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;病人眼动剧烈, 为了减少术者调节, 景深要好一些, 缩小&lt;/li&gt;
&lt;li&gt;病人配合好, 可以适当增加放大率&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;作业:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;看手术时, 记录下不同步骤时主刀所使用的放大率&lt;/li&gt;
&lt;li&gt;记录数字, 显微镜上会有一个旋转的转盘显示数字&lt;/li&gt;
&lt;li&gt;记录镜下视野边缘看到的东西:&lt;ul&gt;
&lt;li&gt;是否可见开睑器&lt;/li&gt;
&lt;li&gt;是否可见睑缘&lt;/li&gt;
&lt;li&gt;是否可见角膜缘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;在显微镜主镜和助手镜下, 分别试试把一支笔插进笔帽里&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;可视范围&lt;/h2&gt;
&lt;p&gt;显微镜有一定的可视范围, 但显然最中央的区域成像质量是最佳的, 要练习将病人的眼睛放在显微镜视野的中央.&lt;/p&gt;
&lt;p&gt;在实验室, 做猪眼练习时, 很多同学在术中把承放猪眼的支架托盘挪来挪去, 甚至旋转! 记住在实际手术中, 病人是不可移动的, 也是不可旋转的. 要用脚踏调位置
&lt;img alt="幻灯片37" src="https://i.loli.net/2018/07/03/5b3b903e142e7.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;另外注意镜下可视范围&amp;gt;录像可视范围, 如果你真的好好录制自己手术, 很可能在前几次手术时, 根本录不到患者的眼球.&lt;/p&gt;
&lt;h2&gt;眼不离镜&lt;/h2&gt;
&lt;p&gt;在手术中, 术者尽量不要使眼睛离开显微镜目镜. 一旦术者的眼睛离开显微镜目镜, 患者眼内不可有任何手术器械!&lt;/p&gt;
&lt;p&gt;如果你眼睛离开目镜去取器械, 左手还留着chopper在患者眼内, 等再回来看时, 恐怕后囊或者虹膜早被钩破了.&lt;/p&gt;
&lt;p&gt;要学会眼睛不离开显微镜就可以传递手术器械.&lt;/p&gt;
&lt;p&gt;很多同学不敢做这个动作, 眼睛不离开显微镜时, 手里拿着器械却找不到. 这是因为人脑总觉得物体是在视线的延长线上, 而显微镜上有反射镜, 所以物体实际比视线所在位置更靠近自己. 练习时, 把器械向自己怀里拉近一些可能就可以找到.
&lt;img alt="幻灯片39" src="https://i.loli.net/2018/07/03/5b3b93335833a.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;人脑有强大的纠错能力, 大约只需要5分钟的简单训练, 就可以习惯眼不离镜取放器械了.&lt;/p&gt;
&lt;p&gt;练习方法也很简单, 找个同伴为你传递器械, 比如一支笔, 眼不离镜, 用笔在镜下往纸上画个点, 然后再递出去. 练习5分钟, 受用一辈子.&lt;/p&gt;
&lt;h2&gt;红反光&lt;/h2&gt;
&lt;p&gt;每一个到我实验室来练习手术的医生我都会问ta是否从病人视角看过手术显微镜的物镜是什么样子, 大约教了300多位医生, 真正看过的人一只手就可以数过来.&lt;/p&gt;
&lt;p&gt;&lt;img alt="幻灯片40" src="https://i.loli.net/2018/07/03/5b3b948895ac3.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;这是两种显微镜的物镜照片, 两个小圆就是物镜, 而发亮的是光源的反射镜. 可见光源和物镜并不是在同一个位置.&lt;/p&gt;
&lt;p&gt;所谓眼底红反光, 是显微镜的光源将光投射到眼底, 再反射回来, 被物镜接收到.&lt;/p&gt;
&lt;p&gt;&lt;img alt="幻灯片41" src="https://i.loli.net/2018/07/04/5b3b9f68491d5.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;从示意图中可以看出, 如果把眼底简化成一个垂直于眼轴的平面镜, 那么入射角=反射角, 眼轴最多只能在光源和物镜的角平分线之内, 否则反射光就离开物镜了.&lt;/p&gt;
&lt;p&gt;听过科主任对病人喊"看灯"吧, 看灯的时候眼轴指向光源附近, 反射光容易进入物镜, 红反光会比较明显.&lt;/p&gt;
&lt;h2&gt;作业&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;用手机给显微镜底部拍照&lt;/li&gt;
&lt;li&gt;取吸管一根, 底部塞些铝箔&lt;ul&gt;
&lt;li&gt;放在镜下观察反光&lt;/li&gt;
&lt;li&gt;转动角度, 观察反光&lt;/li&gt;
&lt;li&gt;剪成不同长度, 观察反光&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;去验光室学习检影验光&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- EOF  --&gt;&lt;/div&gt;</description><category>microsurgery</category><guid>https://goldengrape.github.io/posts/ophthalmology/microsurgery_3/</guid><pubDate>Tue, 03 Jul 2018 16:00:00 GMT</pubDate></item><item><title>显微操作训练(2)</title><link>https://goldengrape.github.io/posts/ophthalmology/microsurgery_2/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;上一节讲了在手术之前应当对显微镜进行的各种检查, 这一部分讲解在术中需要的各种操作.&lt;/p&gt;
&lt;!-- TEASER_END --&gt;

&lt;h2&gt;清洁区&lt;/h2&gt;
&lt;p&gt;只有套上消毒帽的区域才是清洁区, 术者或者助手可以戴手套操作, 比如:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;调整瞳距&lt;/li&gt;
&lt;li&gt;移动手柄&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其他没有消毒帽覆盖的区域都是污染区, 只有在刷手之前操作或者请巡台护士帮忙&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;屈光度调节&lt;/li&gt;
&lt;li&gt;复位按钮(可能是清洁)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="幻灯片14" src="https://i.loli.net/2018/06/22/5b2bdfbb2707e.jpeg"&gt;&lt;/p&gt;
&lt;h2&gt;初始化&lt;/h2&gt;
&lt;h3&gt;调整手术床高度&lt;/h3&gt;
&lt;p&gt;这个应当在术前完成, 之前已经讲过.&lt;/p&gt;
&lt;h3&gt;显微镜复位&lt;/h3&gt;
&lt;p&gt;显微镜可以通过脚踏来控制调焦(z轴移动)和xy平面上的移动, 但移动范围是有限的, 在手术起始时, 应当赋予显微镜最大的自由选择能力, 也就是能够在各个方向上都有移动的余地, 显微镜应当放置在可移动范围的中央.&lt;/p&gt;
&lt;p&gt;这段话很别扭, 但是"保持最大自由选择能力"是手术中的一个战略原则, 不要把自己逼进死胡同, 否则就处处被动. 这个原则会在撕囊的教学中再次详细解释.&lt;/p&gt;
&lt;p&gt;这个操作是通过复位按钮来实现的.
&lt;img alt="幻灯片16" src="https://i.loli.net/2018/06/22/5b2be454efc53.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;不同的显微镜的复位按钮不同, 不一定都是消毒帽覆盖的, 有可能需要巡台护士帮忙.&lt;/p&gt;
&lt;p&gt;有些显微镜点击了复位按钮之后, xy平面上是复位了, 但在z轴上不一定是自动复位的, 如果没有, 需要用脚踏调焦来将显微镜的z轴指示标记移动到中央.&lt;/p&gt;
&lt;p&gt;&lt;img alt="幻灯片17" src="https://i.loli.net/2018/06/22/5b2be8157e8d0.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;所以, 如果到一个新的地方做手术, 要先行了解一下当地的显微镜, 哪怕先随手戳一下复位按钮.&lt;/p&gt;
&lt;h3&gt;瞳距调节&lt;/h3&gt;
&lt;p&gt;眼科医生要熟记自己的瞳距,&lt;/p&gt;
&lt;p&gt;瞳距的调整是通过旋钮,或者,硬掰来完成的, 当然, 如果有旋钮还是使用旋钮. 旋钮上通常有标尺, 也可能是图中右下这样的标尺, 其含义是对齐的线条指示的是瞳距的大小.&lt;/p&gt;
&lt;p&gt;&lt;img alt="幻灯片19" src="https://i.loli.net/2018/06/22/5b2be8f10ebe7.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;图中的两个标尺都是表示瞳距=65mm.&lt;/p&gt;
&lt;h3&gt;屈光度调节&lt;/h3&gt;
&lt;p&gt;调节屈光度的旋钮是没有消毒帽保护的, 所以要么上台之前调好, 要么请巡台护士帮忙调整.&lt;/p&gt;
&lt;p&gt;手术显微镜可以裸眼使用, 也可以戴眼镜使用, 如果戴眼镜, 那么相当于正视眼.&lt;/p&gt;
&lt;p&gt;目镜上两个镜筒可以分别调整屈光度,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果是近视使用负向的区域, 例如200度近视, 就应当放在-2,&lt;/li&gt;
&lt;li&gt;如果是远视使用正向的区域.&lt;/li&gt;
&lt;li&gt;如果戴眼镜或者是正视眼, 那么就放在0位置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="幻灯片18" src="https://i.loli.net/2018/06/22/5b2be2d16c940.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;操作之前一定要检查目镜上的屈光度是否合适, 并且调整为自己的参数. 如果前一个手术医生双眼都是近视或远视, 自己又没有重调整参数, 那么在使用时通过调整显微镜整体的焦距是可以看清的, 但这时候助手就看不清了. 又或者, 如果前一位医生有屈光参差, 那如果没有调整, 做手术的时候就好像单眼被打了一拳, 各种别扭而且影响立体感.&lt;/p&gt;
&lt;p&gt;顺便说, 这就是为什么眼科医生很多人自己不做近视手术的原因, 因为做手术的时候用显微镜就可以矫正近视, 不要说近视手术, 连眼镜都可以不要.&lt;/p&gt;
&lt;h3&gt;开灯&lt;/h3&gt;
&lt;p&gt;显微镜灯有两组开关, 一组在显微镜基座上, 是主开关, 当主开关开启以后还可以用脚踏上的开关控制开闭和亮度.&lt;/p&gt;
&lt;h3&gt;粗调焦距&lt;/h3&gt;
&lt;p&gt;&lt;img alt="幻灯片21" src="https://i.loli.net/2018/06/22/5b2beee008ff9.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;开灯后, 手握清洁区域, 移动显微镜.&lt;/p&gt;
&lt;p&gt;有一些显微镜上是有供移动用的手柄或者按钮, 在扳动或者按下时显微镜才能移动.&lt;/p&gt;
&lt;p&gt;将显微镜拉动到病人头部的上空, 然后逐渐下降, 当到达自己眼前时, 凑上去用双眼观察, 继续下降至成像清晰. 然后小心地依次松开双手.&lt;/p&gt;
&lt;p&gt;如果显微镜的阻尼太松, 松手的瞬间显微镜有可能突然下落造成危险, 所以要先松开一只手, 然后再松开一只手, 如果继续下落, 要立即握住显微镜.&lt;/p&gt;
&lt;p&gt;在粗调焦距时,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果处于高放大倍率调清楚了, 那么缩小放大率以后, 显微镜仍然是清晰的. 不必再次调焦&lt;/li&gt;
&lt;li&gt;如果是低倍率时清晰, 当继续放大时, 往往还需要重新调焦.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;其他开关&lt;/h2&gt;
&lt;p&gt;显微镜上还有一些其他的设定开关, 比如&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;调整反射镜位置的红光反射开关,&lt;/li&gt;
&lt;li&gt;保护患者黄斑的阴影开关&lt;/li&gt;
&lt;li&gt;滤光片&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些结构请查阅手术显微镜的说明书. 是的, 显微镜是有说明书的, 放在护士长那里, 去借来看看.&lt;/p&gt;
&lt;h2&gt;作业&lt;/h2&gt;
&lt;p&gt;担任一天显微镜调节员，为每台手术：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;复位显微镜&lt;/li&gt;
&lt;li&gt;询问术者和助手的屈光度和瞳距，并调整&lt;/li&gt;
&lt;li&gt;开、关显微镜灯光，并调整亮度&lt;/li&gt;
&lt;li&gt;借阅手术显微镜说明书&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- EOF --&gt;&lt;/div&gt;</description><category>microsurgery</category><guid>https://goldengrape.github.io/posts/ophthalmology/microsurgery_2/</guid><pubDate>Thu, 21 Jun 2018 18:00:00 GMT</pubDate></item><item><title>显微操作训练(1)</title><link>https://goldengrape.github.io/posts/ophthalmology/microsurgery_1/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;眼科是一个手术科室, 其中又有大量的手术是在显微镜下完成的, 显微镜下的操作是最重要的基本功之一了.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;良好的习惯产生手术安全,&lt;/li&gt;
&lt;li&gt;正确勤勉的练习产生良好的习惯,&lt;/li&gt;
&lt;li&gt;理解设备的原理和操作的原理指导正确的练习.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面我来简介一下眼科操作显微镜的原理和基本训练. 非本专业同学可以顺便体会一下手术科室的强迫症和碎碎念.
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;h2&gt;术前设备检查&lt;/h2&gt;
&lt;p&gt;在全天的手术开始之前, 应当亲自检查显微镜. 就好像上战场之前需要检查自己的武器.&lt;/p&gt;
&lt;p&gt;检查的项目有:&lt;/p&gt;
&lt;h3&gt;是否使用了正确的显微镜?&lt;/h3&gt;
&lt;p&gt;显微镜会搭载不同的外设或者本身具有不同的结构, 有些特殊的手术, 是需要特定的显微镜的.&lt;/p&gt;
&lt;p&gt;例如青光眼房角手术, 是使用半球状的房角镜操作, 这时候就需要显微镜的主镜能够倾斜, 但并非所有显微镜都可以做到这点, 术前需要确认.&lt;/p&gt;
&lt;h3&gt;头&lt;/h3&gt;
&lt;p&gt;显微镜是否可以在床头附近自由移动?
&lt;img alt="幻灯片04" src="https://i.loli.net/2018/06/20/5b2a080664c3b.jpeg"&gt;
(图片选自师弟援外时的手术照片, 赞师弟)&lt;/p&gt;
&lt;p&gt;如图中所示, 示意图是俯视图, 红色弧线画出的关节是显微镜的主关节, 要保证这个关节是弯曲的状态.&lt;/p&gt;
&lt;p&gt;从俯视图看, 显微镜是由两个固定臂转动构成, 如果这个关节是完全伸直才能达到患者的头部, 那么再弯曲就够不着了.&lt;/p&gt;
&lt;p&gt;术前要把显微镜挪动到合适的位置, 保持有足够的冗余. 否则术中再移动显微镜底座就非常困难.&lt;/p&gt;
&lt;h3&gt;脚&lt;/h3&gt;
&lt;p&gt;&lt;img alt="幻灯片05" src="https://i.loli.net/2018/06/20/5b2a572576765.jpeg"&gt;
脚踏的位置要在术前事先摆好. 这样术中, 不需要多想脚就可以找到相应的位置.&lt;/p&gt;
&lt;p&gt;多数医院是使用左脚显微镜, 右脚phaco/玻切踏板的设定. 但如果去郑大一附院的时候要小心, 有可能他们的设定相反.&lt;/p&gt;
&lt;p&gt;两个踏板放在与肩同宽或者略宽的位置, 稍微分开成60度左右, 以主刀坐下膝盖90度可舒适踩到踏板为准. 如果太远或太近, 都会造成紧张. 这个后面会详述.&lt;/p&gt;
&lt;h3&gt;床的高度&lt;/h3&gt;
&lt;p&gt;当显微镜座机的位置, 座椅的位置, 脚踏的位置都摆好以后, 相当于在俯视图上把各个物体安顿好了.&lt;/p&gt;
&lt;p&gt;这时候需要调整高度了, 我们转入到侧视图来观察.
&lt;img alt="幻灯片06" src="https://i.loli.net/2018/06/20/5b2a5a3d0ab34.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;从上到下观察, 显微镜的工作距离是不可变的, 虽然显微镜物镜还可以移动, 但距离其实很小. 手术床的厚度给定不可变, 床的高度可调, 凳子的高度可调.&lt;/p&gt;
&lt;p&gt;在操作中凳子的高度要根据术者的小腿长度来设定, 尽量使膝关节弯曲在90度左右. &lt;/p&gt;
&lt;p&gt;显微镜的目镜位置应当在术者平视的位置.&lt;/p&gt;
&lt;p&gt;床的位置需要使术者能够放松放置前臂和手腕, 大约是屈肘90度-120度左右.&lt;/p&gt;
&lt;p&gt;所以综合考虑, 手术床的高度需要有一定的调整, 手术床高了术者的手举高, 容易紧张, 床低了, 可能膝关节活动有影响, 或者手太低也不舒服.&lt;/p&gt;
&lt;p&gt;在准备工作阶段, 术者的舒适感是最优先考虑的事项, 只有术者舒适患者舒适手术才能平稳进行.&lt;/p&gt;
&lt;p&gt;在确定了各个设备的位置之后, 还要检查显微镜的功能&lt;/p&gt;
&lt;h3&gt;显微镜的功能&lt;/h3&gt;
&lt;p&gt;检查显微镜的功能要分别检查主镜和助手镜的功能, 功能检查可以从光/机/电来分类考虑, 不容易漏项.&lt;/p&gt;
&lt;h4&gt;显微镜的光学功能&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;目镜是否插紧是否复位&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;显微镜的目镜是可以拆卸的, 有时候前一个使用者反复调整或者昨天护士在擦拭时目镜可能会松动.&lt;/p&gt;
&lt;p&gt;&lt;img alt="幻灯片08" src="https://i.loli.net/2018/06/20/5b2a5dc96fcf3.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;如果目镜松动, 特别是单个松动, 那样调焦是无论如何无法舒适的. 所以需要确认一下目镜是否塞紧了.&lt;/p&gt;
&lt;p&gt;最好顺手将目镜的屈光度放置到0, 或者设定为第一个术者的屈光度.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;物镜是否太脏&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在眼科手术中, 我们经常需要向患者的角膜上点生理盐水, 偶尔会有少许水滴飞溅到物镜上, 一段时间后水干了会留下盐的痕迹. 会影响成像的对比度, 你不会希望透过一层模糊的镜头来观察前囊的.
&lt;img alt="幻灯片09" src="https://i.loli.net/2018/06/20/5b2a5f5b35c63.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;擦拭物镜需要用擦镜纸, 而不是棉签或者纱布, 用蒸馏水而不是生理盐水.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;助手镜是否打开&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;很多助手镜是可以左右互换的, 如果开关切换到了另一端, 助手镜就是黑的. 刷手之前简单检查一下就好. 如果上台以后才发现有问题, 只好请巡台护士帮忙了, 不但遭到巡台护士的白眼, 而且增加了污染机会.&lt;br&gt;
&lt;img alt="幻灯片10" src="https://i.loli.net/2018/06/20/5b2a60e0e33af.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;注意助手镜的观察角度是可调的, 有一个调节环可以修正角度. 也应当在术前找好与主刀一致的角度, 否则助手操作起来也很困难.&lt;/p&gt;
&lt;p&gt;方法是在镜下放一个物体, 例如一只笔, 按床的长轴方向放置, 然后看着助手镜调整调节环, 使笔的方向合理.&lt;/p&gt;
&lt;p&gt;如果是到一个新的环境, 要弄清楚助手镜的性能, 有的助手镜没有立体感, 放大率不可调, 焦距如何调整要问清楚.&lt;/p&gt;
&lt;h4&gt;机械功能: 悬臂阻尼&lt;/h4&gt;
&lt;p&gt;&lt;img alt="幻灯片11" src="https://i.loli.net/2018/06/20/5b2a61aec1195.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;手术显微镜的悬臂上有多个阻力调节钮, 如果太紧了, 首次调整显微镜位置时很难推动.&lt;/p&gt;
&lt;p&gt;如果阻尼太松了, 显微镜的悬臂可能无法保持位置, 会因为重力缓慢下坠, 术中会发现视物越来越模糊.&lt;/p&gt;
&lt;h4&gt;电器功能:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;照明是否正常&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;试试灯是不是亮的, 想想如果大家都准备好了病人也躺在手术床上才发现灯泡不亮赶着换灯泡的尴尬场面.&lt;/p&gt;
&lt;p&gt;万一术中真的突然灯泡烧了, 每个显微镜常规是有一个可以快速切换的备用灯泡的.
&lt;img alt="幻灯片12" src="https://i.loli.net/2018/06/20/5b2a62eb30c44.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;常规而言灯泡的位置都是在悬臂上有散热格栅的地方, 有一个可以拔出的面板, 里面会有两个灯泡, 旋转180度重新插回就可以启动备用灯泡了. 术后记得要及时换掉烧坏的灯泡.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;录像系统是否接好&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;学习手术必须录像.
学习手术必须录像.
学习手术必须录像.&lt;/p&gt;
&lt;h2&gt;有记录的失败才是成功之母,&lt;/h2&gt;
&lt;h2&gt;没有记录的失败仅仅是场灾难.&lt;/h2&gt;
&lt;h2&gt;作业&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;帮助护士准备和收纳显微镜，认清各种可调整部分。&lt;/li&gt;
&lt;li&gt;学会换灯泡。&lt;/li&gt;
&lt;li&gt;学会使用手术录像设备&lt;/li&gt;
&lt;li&gt;学会调整手术床&lt;/li&gt;
&lt;li&gt;学会助手镜的焦距调节和镜下角度调节&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(未完待续)&lt;/p&gt;&lt;/div&gt;</description><category>microsurgery</category><guid>https://goldengrape.github.io/posts/ophthalmology/microsurgery_1/</guid><pubDate>Wed, 20 Jun 2018 14:00:00 GMT</pubDate></item><item><title>人工晶体轶事(1)</title><link>https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;人工晶体, 或者人工晶状体, Intraocular lens, 缩写是IOL, 是用来替换天然晶状体的一片微型的透镜, 通常用在白内障手术中.
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;h2&gt;人工晶体轶事之一, 人工晶体发明的故事&lt;/h2&gt;
&lt;h3&gt;Gordon Cleaver&lt;sup id="fnref-1"&gt;&lt;a class="footnote-ref" href="https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/#fn-1"&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/h3&gt;
&lt;p&gt;1940年8月15日, 伦敦西南的温切斯特, 空袭警报响起.&lt;/p&gt;
&lt;p&gt;德军的轰炸机来得太快了, 直扑机场而来, 想在遇到拦截之前直接摧毁整个空军基地. 皇家空军601中队空军上尉(Flying Officer) Gordon Cleaver冒着硝烟, 奔向跑道上自己的飓风歼击机, 匆忙中他没有戴上护目镜, 就在敌机的轰炸中紧急起飞.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://d.ibtimes.co.uk/en/full/313242/hurricane.jpg"&gt;
(https://www.ibtimes.co.uk)&lt;/p&gt;
&lt;p&gt;Cleaver上尉参加过敦克尔克的战役, 他操纵飓风歼击机无比灵巧, 因此获得了"老鼠"的绰号, 在一年多的战斗飞行中击落了7-9架敌机. 升空后他很快抓到机会击落了一家德军飞机. 突然, Cleaver双眼一黑知道自己被击中了, 他已经无法控制飞机, 只好弃机跳伞, 降落在南安普敦.&lt;/p&gt;
&lt;p&gt;在医院, Cleaver得知当时子弹击中了座舱盖, 将座舱盖打得粉碎, 碎片打中了自己的脸. 右眼已经完全看不见光感, 眼科医生Harold Ridley说对右眼已经无能为力了, 左眼也被弹片击中, 虽然角膜被打穿, 但弹片并没有打碎晶状体, 而是停留在了眼睛里, 而且座舱盖弹片是透明的, 视力虽然下降, 但多少还是能看清些东西. Ridley医生人很好, 经常过来看这只受伤的左眼, 他说只要不感染, 还是有希望恢复一些视力的.&lt;/p&gt;
&lt;p&gt;也许当时戴上护目镜, 世界就会不一样吧.&lt;/p&gt;
&lt;h3&gt;Harold Ridley&lt;sup id="fnref-2"&gt;&lt;a class="footnote-ref" href="https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/#fn-2"&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/h3&gt;
&lt;p&gt;Gordon Cleaver上尉是个坚强的军人, 头面部的创伤经过了18次的手术才算治疗完成. 他也是个有趣的病例, 飓风战斗机的座舱盖弹片居然安静地留在他的左眼里, 没有引起感染和排异反应. 最让人担心的眼内炎并没有发生.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Harold Ridley" src="https://i.loli.net/2018/06/01/5b103665eb0aa.png"&gt;
(https://www.rayner.com/media/pdf/Invention_of_the_IOL.pdf)&lt;/p&gt;
&lt;p&gt;Ridley医生很想知道座舱盖的材料, 战时打听战斗机的材料多多少少有些麻烦, 但后来总算查到了, 是帝国化工(ICI)生产的Perspex. 这种材料在1928年已经被制造出来, 叫做聚甲基丙烯酸甲酯, 缩写是PMMA, 也被称为有机玻璃. 1930年ICI注册了Perspex的商标. 这种材料透光性很好, 比玻璃轻很多, 有一点点弹性, 不像玻璃那么容易破碎, 即使破碎了, 碎片也一般不会那么锋利. 但显然Perspex还是无法抵抗机枪子弹的威力.&lt;/p&gt;
&lt;p&gt;通常情况下弹片打进身体会引起严重的免疫排异反应, 毕竟这是一种异物. 但Cleaver上尉眼睛里的PMMA弹片却是个例外, 原因可能有两个, 一是PMMA是一种聚合物, 不容易释放出什么离子或者小分子, 甚至可以用来制成培养皿来饲养细胞, 后世的生物医学工程师称之为生物相容性很好; 二是眼球内血液和其他液体比如房水和玻璃体是分隔开的, 有血房水屏障, 这种屏障阻挡了免疫反应, 所以眼内也是一个免疫豁免的区域. 这两个因素在Cleaver上尉眼睛遇到了一起, 于是PMMA弹片没有产生排异反应. 他的左眼总算是保住了.&lt;/p&gt;
&lt;p&gt;战时的临床工作忙得不可开交, Ridley医生弹片留在眼睛里的原委以后, 就记录在笔记本上, 又去忙其他病人了.&lt;/p&gt;
&lt;h3&gt;John Pike&lt;sup id="fnref-3"&gt;&lt;a class="footnote-ref" href="https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/#fn-3"&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/h3&gt;
&lt;p&gt;二战已经结束3年多了, John Pike现在是伦敦Rayner公司的光学专家. 最近他正在和Ridley医生合作研发电子眼底镜. 研发工作进展很顺利, 他也和Ridley医生成为好朋友.&lt;/p&gt;
&lt;p&gt;一天傍晚Ridley医生打来电话, 很兴奋地说要讨论一个新项目, 还挺急, 说查房完了就过来. 在卡文迪许广场上, John Pike坐在Ridley医生的车里, 听完了8年前病例报告. Ridley医生说他打算用Perspex做一枚透镜植入到病人眼睛里, 替代天然的晶状体. John Pike觉得这事在医学上有点异想天开, 但在光学上并不困难, 不过是制造一个小一点的透镜而已. 在车里, 两个人就已经完成了大部分的设计. 这个就叫做人工晶体Intraocular lens吧.&lt;/p&gt;
&lt;p&gt;回去以后John Pike很快就按照设计制造出了样品.&lt;/p&gt;
&lt;p&gt;&lt;img alt="https://www.rayner.com/en/history" src="https://www.rayner.com/skin/frontend/mtcolias/default/images/iol_box.jpg"&gt;
https://www.rayner.com/en/history&lt;/p&gt;
&lt;h3&gt;Harold Ridley&lt;/h3&gt;
&lt;p&gt;1949年11月29日, 第一例人工晶体植入手术终于完成了. Ridley医生从圣托马斯医院办公室的窗户看着泰晤士河上往来的船只, 心中有些激动.&lt;/p&gt;
&lt;p&gt;这是一个49岁&lt;sup id="fnref-4"&gt;&lt;a class="footnote-ref" href="https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/#fn-4"&gt;4&lt;/a&gt;&lt;/sup&gt;的女病人名叫伊丽莎白, 她的左眼晶状体已经完全浑浊, Pike或者说Rayner公司生产的人工晶体被植入到了患者眼内. 巡台护士Doreen Clarke小姐配合得不错, 手术视野照明很清楚. 当时并没有手术显微镜, Clarke小姐用的是一把手电. 术后, Clarke小姐在记录本上记下了"Extra-capsular ext"--白内障囊外摘除术.&lt;/p&gt;
&lt;p&gt;但其实第一例手术并不算顺利, 而且这也是第一例人工晶体手术并发症----度数算错了, 术后病人验光有高度近视, 但视力仍然提高到20/60.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Ridley's eighth IOL implantation, performed at St. Thomas' Hospital, May 8, 1951" src="https://i.loli.net/2018/06/01/5b1036f8abdf1.png"&gt;
(https://www.rayner.com/media/pdf/Invention_of_the_IOL.pdf)&lt;/p&gt;
&lt;p&gt;之后, Ridley医生又做了很多人工晶体植入手术, 早期的手术大约有70%的成功率. 虽然白内障病人多数是老年人, 但也有一些年轻的病人因为外伤植入人工晶体, 这些病人经过了40多年后, 仍然保持着可用的视力. &lt;sup id="fnref-5"&gt;&lt;a class="footnote-ref" href="https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/#fn-5"&gt;5&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;h3&gt;Gordon Cleaver&lt;/h3&gt;
&lt;p&gt;Cleaver上尉因为在温切斯特保卫战中的英勇表现被授予空军功勋十字勋章, 当时他年仅30岁, 但右眼失明, 左眼破裂伤使得他无法再驾驶战斗机重回蓝天.&lt;/p&gt;
&lt;p&gt;在他70多岁的时候, 他的左眼晶状体也终于出现了白内障, 他也接受了白内障摘除手术, 并植入了一枚人工晶体. &lt;/p&gt;
&lt;h3&gt;Harold Ridley&lt;/h3&gt;
&lt;p&gt;2000年2月, Ridley医生被英女王授予爵士勋衔(Knight Bachelor), 以表彰他在白内障手术中的开创性工作.&lt;/p&gt;
&lt;p&gt;Harold Ridley爵士逝世于2001年5月25日, 享年94岁.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://images-na.ssl-images-amazon.com/images/I/51udsOifu8L._SX398_BO1,204,203,200_.jpg"&gt;&lt;/p&gt;
&lt;!-- EOF --&gt;

&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn-1"&gt;
&lt;p&gt;https://en.wikipedia.org/wiki/Gordon_Cleaver &lt;a class="footnote-backref" href="https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/#fnref-1" title="Jump back to footnote 1 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-2"&gt;
&lt;p&gt;https://en.wikipedia.org/wiki/Harold_Ridley_(ophthalmologist) &lt;a class="footnote-backref" href="https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/#fnref-2" title="Jump back to footnote 2 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-3"&gt;
&lt;p&gt;https://en.wikipedia.org/wiki/Rayner_(company) &lt;a class="footnote-backref" href="https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/#fnref-3" title="Jump back to footnote 3 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-4"&gt;
&lt;p&gt;维基百科上说年龄是45岁, 但按照"Sir Harold Ridley and His Fight for Sight"中的记录, 还是应当为49岁. &lt;a class="footnote-backref" href="https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/#fnref-4" title="Jump back to footnote 4 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-5"&gt;
&lt;p&gt;&lt;a href="https://www.sciencedirect.com/science/article/pii/S0886335099800613"&gt;Letocha, C. E.; Pavlin, C. J. (1999). "Follow-up of 3 patients with Ridley intraocular lens implantation". Journal of cataract and refractive surgery. 25 (4): 587–591.&lt;/a&gt; &lt;a class="footnote-backref" href="https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/#fnref-5" title="Jump back to footnote 5 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>IOL</category><category>ophthalmology</category><guid>https://goldengrape.github.io/posts/bulabula/stories_of_IOL_1/</guid><pubDate>Thu, 31 May 2018 17:00:00 GMT</pubDate></item><item><title>ABCD矩阵</title><link>https://goldengrape.github.io/posts/python/abcd-matrix/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div tabindex="-1" id="notebook" class="border-box-sizing"&gt;
    &lt;div class="container" id="notebook-container"&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="光线传输矩阵"&gt;光线传输矩阵&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#%E5%85%89%E7%BA%BF%E4%BC%A0%E8%BE%93%E7%9F%A9%E9%98%B5"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;这是一次sympy的小练习.&lt;/p&gt;
&lt;p&gt;光线传输矩阵又称做&lt;a href="https://en.wikipedia.org/wiki/Ray_transfer_matrix_analysis"&gt;ABCD矩阵&lt;/a&gt; 用来描述近轴光线的传播过程.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/RayTransferMatrixDefinitions.svg/600px-RayTransferMatrixDefinitions.svg.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;光线穿过一个光学系统的过程可以用一个2x2的矩阵来表示, 如果:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;入射光线距离光轴是x1, 角度是 θ1,  &lt;/li&gt;
&lt;li&gt;出射光线距离光轴是x2, 角度是 θ2,&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;那么: 
$$
\begin{bmatrix}x_2\\ \theta_2 \end{bmatrix} = \begin{bmatrix}A &amp;amp; B \\C &amp;amp; D \end{bmatrix} \begin{bmatrix}x_1\\ \theta_1 \end{bmatrix}
$$&lt;/p&gt;
&lt;p&gt;对于不同的光学元件, ABCD的取值不同.&lt;/p&gt;
&lt;p&gt;下面准备使用python的符号运算库sympy, 进行光路的ABCD矩阵分析. 试图建立一个简化的眼球光路追迹模型. 
&lt;!-- TEASER_END --&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Sympy基本"&gt;Sympy基本&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#Sympy%E5%9F%BA%E6%9C%AC"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;sympy是python库, 用于符号计算, 轻量级, 不依赖于其他库. 符号计算就是做类似于
$$
(x+y)^2 = x^2 +2xy+ y^2
$$&lt;/p&gt;
&lt;p&gt;试了一下sympy, 看起来还比较容易, 几个要点:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;要把运算中涉及到的符号先定义好, 例如 &lt;code&gt;x,y = symbols('a b')&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;要注意一下大小写, symbols是小写, Matrix是大写, solve是小写&lt;/li&gt;
&lt;li&gt;其他没什么了&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我平时常用的几个函数也不多, 其实在mathematica里面也就常用这些.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;symbols(字符串), 字符串里面是符号, 注意用空格隔开&lt;/li&gt;
&lt;li&gt;expr.subs(字典), 替换, 相当于mathematica里面的expr/.{x-&amp;gt;a}&lt;/li&gt;
&lt;li&gt;Matrix(list), 把一个list转换成矩阵, 向量也用这个表示. &lt;/li&gt;
&lt;li&gt;solve(expr,x), 求解expr==0时, x的解&lt;/li&gt;
&lt;li&gt;simplify(expr), 化简表达式&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;sympy&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="ABCD-Matrix"&gt;ABCD Matrix&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#ABCD-Matrix"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;内置上常用的参数字典, 其实最常用的也就是在自由空间内传播, 和在球面上折射, 而这两者可以合并成在球面上折射然后再传播一段距离.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在自由空间传播距离为d的矩阵是: 
$$
free\space space\space matrix=\begin{bmatrix} 1 &amp;amp; d \\ 0 &amp;amp; 1 \end{bmatrix}
$$&lt;/li&gt;
&lt;li&gt;在球面上折射的矩阵, 如果从n1折射率介质经过半径为R的球面, 折射到n2折射率介质: 
$$
curved\space interface\space matrix=\begin{bmatrix} 1 &amp;amp; 0 \\ \frac{(n_1-n_2)}{R n_2} &amp;amp; \frac{n_1}{n_2} \end{bmatrix}
$$&lt;/li&gt;
&lt;li&gt;两者合并是相乘的关系, 注意乘法的顺序, 从右至左应当先经过曲面, 再自由传播: &lt;/li&gt;
&lt;/ul&gt;
$$
pass\space curved\space interface\space  matrix=
\begin{bmatrix} 1 &amp;amp; d \\ 0 &amp;amp; 1 \end{bmatrix}
\begin{bmatrix} 1 &amp;amp; 0 \\ \frac{(n_1-n_2)}{R n_2} &amp;amp; \frac{n_1}{n_2} \end{bmatrix}
$$
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;ABCD&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dictname&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'d n1 n2 R f p'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;abcd_dict&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s1"&gt;'free space'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;         &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="s1"&gt;'flat interface'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;     &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="s1"&gt;'curved interface'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;   &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="s1"&gt;'curved mirror'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;      &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="s1"&gt;'Thin lens'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;          &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="s1"&gt;'Thin lens in power'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;abcd_dict&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;dictname&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Matrix&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;],[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;free_space&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d_inspace&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ABCD&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'free space'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;d_inspace&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;curved_interface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;na&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;nb&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Rx&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'n1 n2 R'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ABCD&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'curved interface'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;([(&lt;/span&gt;&lt;span class="n"&gt;n1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;na&lt;/span&gt;&lt;span class="p"&gt;),(&lt;/span&gt;&lt;span class="n"&gt;n2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;nb&lt;/span&gt;&lt;span class="p"&gt;),(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Rx&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;pass_curved_interface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;surface_parameters&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;n_from&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_to&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_from&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;p_to&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;surface_parameters&lt;/span&gt;
    &lt;span class="n"&gt;transfer_matrix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;free_space&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_to&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;p_from&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;curved_interface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n_from&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_to&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transfer_matrix&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;Thin_lens_in_power&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;power&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'p'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ABCD&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Thin lens in power"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;power&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="基础人眼模型"&gt;基础人眼模型&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#%E5%9F%BA%E7%A1%80%E4%BA%BA%E7%9C%BC%E6%A8%A1%E5%9E%8B"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;h3 id="The-Gullstrand-Schematic-Eye"&gt;The Gullstrand Schematic Eye&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#The-Gullstrand-Schematic-Eye"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;数据来自: AAO 2014版 Basic and Clinical Science Course (BCSC) Section 3: Clinical Optics 
第75页&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;折射率:&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;n_air&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;n_cornea&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;1.376&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.376&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;n_humor&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;1.336&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.336&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;n_vitreous&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;1.336&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.336&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;n_lens&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mf"&gt;1.386&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.386&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;n_core_lens&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mf"&gt;1.406&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.406&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;顶点位置:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;p_cornea_Anterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;p_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;p_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;3.6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;p_core_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;4.146&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.8725&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;p_core_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;6.565&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;6.5275&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;p_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;7.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;7.2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;p_retina&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;24.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;24.4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;曲率半径:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;R_cornea_Anterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;7.7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;7.7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;R_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;6.8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;6.8&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;R_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;5.33&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;R_core_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;7.911&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.655&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;R_core_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.76&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.655&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;R_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.33&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;Gullstrand_Schematic_Eye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;eye_parameters&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 需要定义成符号&lt;/span&gt;
    &lt;span class="n"&gt;n_air&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_cornea&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_humor&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_vitreous&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_lens&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_core_lens&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s1"&gt;'n_air n_cornea n_humor n_vitreous n_lens n_core_lens'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;p_cornea_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_core_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_core_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_retina&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s1"&gt;'p_cornea_Anterior p_cornea_Posterior p_lens_Anterior p_core_lens_Anterior p_core_lens_Posterior p_lens_Posterior p_retina'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;R_cornea_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_core_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_core_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_lens_Posterior&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s1"&gt;'R_cornea_Anterior R_cornea_Posterior R_lens_Anterior R_core_lens_Anterior R_core_lens_Posterior R_lens_Posterior'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 对各个曲面的参数定义: 入射介质折射率, 出射介质折射率, 曲率半径, 本曲面顶点位置, 下一个曲面顶点位置&lt;/span&gt;
    &lt;span class="n"&gt;surface&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;"cornea_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;n_air&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_cornea&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_cornea_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_cornea_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;p_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"cornea_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;n_cornea&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_humor&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"lens_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;n_humor&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_lens&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_core_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"core_lens_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;n_lens&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_core_lens&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_core_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_core_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;p_core_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"core_lens_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;n_core_lens&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_lens&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_core_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_core_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"lens_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;n_lens&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_vitreous&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_retina&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"retina"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;n_vitreous&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_vitreous&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_retina&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_retina&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 曲面的顺序&lt;/span&gt;
    &lt;span class="n"&gt;surface_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"cornea_Anterior"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"cornea_Posterior"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"lens_Anterior"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"core_lens_Anterior"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="s2"&gt;"core_lens_Posterior"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"lens_Posterior"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"retina"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 连乘&lt;/span&gt;
    &lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;eye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# identity matrix&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;surface_seq&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pass_curved_interface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;surface&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt;
    
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;eye_parameters&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Gullstrand_Schematic_Eye具体参数"&gt;Gullstrand_Schematic_Eye具体参数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#Gullstrand_Schematic_Eye%E5%85%B7%E4%BD%93%E5%8F%82%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;每个项目有两个参数, 前者是调节放松状态, 后者是最大调节状态&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Gullstrand_Schematic_Eye_parameters&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;"n_air"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"n_cornea"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;1.376&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.376&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"n_humor"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;1.336&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.336&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"n_vitreous"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;1.336&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.336&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"n_lens"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mf"&gt;1.386&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.386&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"n_core_lens"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="mf"&gt;1.406&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.406&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"p_cornea_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"p_cornea_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"p_lens_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;3.6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"p_core_lens_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;4.146&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.8725&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"p_core_lens_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;6.565&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;6.5275&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"p_lens_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;7.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;7.2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"p_retina"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;24.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;24.4&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"R_cornea_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;7.7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;7.7&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"R_cornea_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;6.8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;6.8&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"R_lens_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;5.33&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"R_core_lens_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;7.911&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.655&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"R_core_lens_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.76&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.655&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"R_lens_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.33&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="调节状态"&gt;调节状态&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#%E8%B0%83%E8%8A%82%E7%8A%B6%E6%80%81"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;假定调节状态是各个参数的线性变化&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;Accommodation_state&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;persentage&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;persentage&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; 
        &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Gullstrand_Schematic_Eye_parameters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
            &lt;span class="n"&gt;Gullstrand_Schematic_Eye_parameters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;())}&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;state&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="测试"&gt;测试&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#%E6%B5%8B%E8%AF%95"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;假定调节状态从0到1, 以0.2变化, 其中调节状态=0是调节放松, 调节状态=1是最大调节状态.&lt;/p&gt;
&lt;p&gt;入射光从光轴旁0.1mm,平行于光轴入射.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="n"&gt;input_light&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;Matrix&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;Accommodation&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;eye_parameters&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;Accommodation_state&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Accommodation&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;eye_matrix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;Gullstrand_Schematic_Eye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;eye_parameters&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;output_light&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;eye_matrix&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;input_light&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"视网膜上光点距离光轴的距离是: &lt;/span&gt;&lt;span class="si"&gt;{0}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;入射到视网膜上的角度是: &lt;/span&gt;&lt;span class="si"&gt;{1}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;output_light&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;output_light&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;视网膜上光点距离光轴的距离是: -0.0000640808134414250
入射到视网膜上的角度是: -0.00438892930222859

视网膜上光点距离光轴的距离是: -0.00244173501856344
入射到视网膜上的角度是: -0.00450936564030494

视网膜上光点距离光轴的距离是: -0.00564544009371146
入射到视网膜上的角度是: -0.00467085240921985

视网膜上光点距离光轴的距离是: -0.0102850608794442
入射到视网膜上的角度是: -0.00490361347080649

视网膜上光点距离光轴的距离是: -0.0178899096062572
入射到视网膜上的角度是: -0.00528324762831792

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="测试求解某个参数"&gt;测试求解某个参数&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#%E6%B5%8B%E8%AF%95%E6%B1%82%E8%A7%A3%E6%9F%90%E4%B8%AA%E5%8F%82%E6%95%B0"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;将各个参数都先赋值, 然后取出要求解的x, 将其设定为symbol, 指定入射光线和出射光线参数后, 就可以求解了. 
由于是使用的符号运算, 所以可以使用solve命令进行求解.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve_x_in_focus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;optic_matrix&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;parameters&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;parameters&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# 因为使用近轴光线假设, 所以并不存在球差, &lt;/span&gt;
    &lt;span class="c1"&gt;# 所以输入光线平行于光轴都可以汇聚, 于输入光线位置无关&lt;/span&gt;
    &lt;span class="n"&gt;x_input&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'x_input'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;input_light&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;Matrix&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;x_input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;output_light&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;optic_matrix&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;parameters&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;input_light&lt;/span&gt;
    &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;output_light&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;eye_parameters&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;Accommodation_state&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"p_retina"&lt;/span&gt;
&lt;span class="n"&gt;p_retina&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;solve_x_in_focus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Gullstrand_Schematic_Eye&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;eye_parameters&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"视网膜位置在: &lt;/span&gt;&lt;span class="si"&gt;{0}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;p_retina&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;视网膜位置在: 24.3853994427731
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="戴上眼镜"&gt;戴上眼镜&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#%E6%88%B4%E4%B8%8A%E7%9C%BC%E9%95%9C"&gt;¶&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;眼镜认为是薄透镜, 角膜距离眼镜12mm&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# f, d = symbols('f d')&lt;/span&gt;
&lt;span class="n"&gt;glasses_matrix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;free_space&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;ABCD&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Thin lens in power'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;Gullstrand_Schematic_Eye_wear_glasses&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;eye_parameters&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Gullstrand_Schematic_Eye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;eye_parameters&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;glasses_matrix&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;eye_wear_glasses_parameters&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;Accommodation_state&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;eye_wear_glasses_parameters&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"p_retina"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;25.6&lt;/span&gt;
&lt;span class="n"&gt;power&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;solve_x_in_focus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Gullstrand_Schematic_Eye_wear_glasses&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;eye_wear_glasses_parameters&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'p'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"眼镜屈光度=&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;power&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;眼镜屈光度=-3.08997137454269
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="计算人工晶体"&gt;计算人工晶体&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#%E8%AE%A1%E7%AE%97%E4%BA%BA%E5%B7%A5%E6%99%B6%E4%BD%93"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="人工晶体眼"&gt;人工晶体眼&lt;a class="anchor-link" href="https://goldengrape.github.io/posts/python/abcd-matrix/#%E4%BA%BA%E5%B7%A5%E6%99%B6%E4%BD%93%E7%9C%BC"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;人工晶体假定为薄透镜, 所在位置为ELP.&lt;/p&gt;
&lt;p&gt;待调整, 可能需要把角膜两层合成一个K.&lt;/p&gt;
&lt;p&gt;目前结果看起来有点怪异, 一般认为正视眼放入的IOL大约是19-20D, 现在得出的结果有点差得远, 大概什么地方有错误&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;IOL_Eye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;IOL_eye_parameters&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 需要定义成符号&lt;/span&gt;
    &lt;span class="n"&gt;n_air&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_cornea&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_humor&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_vitreous&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_lens&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n_core_lens&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s1"&gt;'n_air n_cornea n_humor n_vitreous n_lens n_core_lens'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;p_cornea_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_core_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_core_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_retina&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s1"&gt;'p_cornea_Anterior p_cornea_Posterior p_lens_Anterior p_core_lens_Anterior p_core_lens_Posterior p_lens_Posterior p_retina'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;R_cornea_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_core_lens_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_core_lens_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_lens_Posterior&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s1"&gt;'R_cornea_Anterior R_cornea_Posterior R_lens_Anterior R_core_lens_Anterior R_core_lens_Posterior R_lens_Posterior'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;ELP&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'ELP'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;IOL_Power&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;symbols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'IOL_Power'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# 对各个曲面的参数定义: 入射介质折射率, 出射介质折射率, 曲率半径, 本曲面顶点位置, 下一个曲面顶点位置&lt;/span&gt;
    &lt;span class="n"&gt;surface&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;"cornea_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;n_air&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_cornea&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_cornea_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_cornea_Anterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;p_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="s2"&gt;"cornea_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;n_cornea&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;n_humor&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;R_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;p_cornea_Posterior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ELP&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 曲面的顺序&lt;/span&gt;
    &lt;span class="n"&gt;surface_seq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"cornea_Anterior"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"cornea_Posterior"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 连乘&lt;/span&gt;
    &lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;eye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# identity matrix&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;surface_seq&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pass_curved_interface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;surface&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt;
        
    &lt;span class="c1"&gt;# 经过人工晶体&lt;/span&gt;
    &lt;span class="c1"&gt;# 此处可能有错误, 是否应当代入折射率&lt;/span&gt;
    &lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Thin_lens_in_power&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;IOL_Power&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;n_humor&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 到达视网膜&lt;/span&gt;
    &lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;free_space&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p_retina&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;ELP&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt;
    
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;eye_transfer_matrix&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;IOL_eye_parameters&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;IOL_eye_parameters&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;"n_air"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"n_cornea"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;1.376&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"n_humor"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;1.336&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"n_vitreous"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;1.336&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"p_cornea_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"p_cornea_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"p_retina"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;24.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
    &lt;span class="s2"&gt;"R_cornea_Anterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;7.7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"R_cornea_Posterior"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;6.8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"ELP"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;"IOL_Power"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# IOL_eye_parameters['ELP']=symbols('ELP')&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"IOL_Power"&lt;/span&gt;
&lt;span class="n"&gt;IOL_Power&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;simplify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;solve_x_in_focus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;IOL_Eye&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;IOL_eye_parameters&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"人工晶体度数=: &lt;/span&gt;&lt;span class="si"&gt;{0}&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;IOL_Power&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;
&lt;div class="prompt"&gt;&lt;/div&gt;

&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;人工晶体度数=: 15.9734364841675
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</description><category>python</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/python/abcd-matrix/</guid><pubDate>Thu, 28 Dec 2017 16:07:03 GMT</pubDate></item><item><title>为什么对比敏感度的视标亮度是正弦变化的？(5)</title><link>https://goldengrape.github.io/posts/ophthalmology/CSF/wei-shi-yao-dui-bi-min-gan-du-de-shi-biao-liang-du-shi-zheng-xian-bian-hua-de-5/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;前面说到测量对比敏感度所需要的视标，应该是经过任意像差的角膜、晶状体，在视网膜上成像以后，它的空间频率应当和经过一个理想无像差的眼睛一样。
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;h2&gt;为什么要用Eigenfunction&lt;/h2&gt;
&lt;p&gt;如果空间频率不一样，就会有麻烦，比如医生想测量的是相对高频部分的30 cpd(cycle per degree,周/度，在一度范围内空间结构重复了多少次，这是空间频率的单位)，如果由于患者眼有像差的存在，也许在视网膜上的成像变成了20cpd，本来患者无法分辨的视标，反而因为像差因祸得福可以指出方向了。&lt;/p&gt;
&lt;p&gt;类比测视力，就好像用1.0的视标去测病人，结果病人自带放大系统，视标放大到0.1的程度，这样的测量就错了。&lt;/p&gt;
&lt;p&gt;由于病人的像差可以千奇百怪千差万别，所以病人的眼睛作为一个线性不变系统，也可能是千差万别的。要选择一个带有周期结构的输入，经过各种各不相同的线性系统还可以得到同周期的输出，满足这个能力的输入，就是所有线性不变系统的Eigenfunction了。&lt;/p&gt;
&lt;p&gt;常规的E视标，相当于给入的输入的“方波”，那么如果经过一个有像差的眼睛，成像后的输出可能是这样的：&lt;/p&gt;
&lt;p&gt;&lt;img alt="E_MTF" src="https://goldengrape.github.io/images/CSF/E_MTF.png"&gt;&lt;/p&gt;
&lt;p&gt;看输出的强度波形，会发现各个峰的高度是不同的，如果仔细测量，可能还会发现波峰之间的周期也会略有差别。甚至一个有经验的“视力测量欺骗者”，可以根据虚影的方向反推出视标的方向。&lt;/p&gt;
&lt;p&gt;但如果是一个正弦波的视标。&lt;/p&gt;
&lt;p&gt;&lt;img alt="sin_MTF" src="https://goldengrape.github.io/images/CSF/sin_MTF.png"&gt;&lt;/p&gt;
&lt;p&gt;经过同样有像差的眼，形成的仍然是正弦波，峰值是同样的，周期是同样的，区别只是“振幅”发生了变化。只有对比度这个变量会根据像差的情况改变，这样就方便了测量。&lt;/p&gt;
&lt;h2&gt;总结&lt;/h2&gt;
&lt;p&gt;为什么对比敏感度的视标亮度是正弦变化的？&lt;/p&gt;
&lt;p&gt;答：因为人眼视觉成像过程近似于线性不变系统，亮度正弦变化的视标是线性系统的Eigenfunction，在经过人眼成像厚视标的空间频率不变。&lt;/p&gt;
&lt;p&gt;至于为什么正弦函数是线性不变系统的Eigenfunction，就是另外一个很长的故事了。如果有兴趣可以参考吕乃光老师编写的《傅里叶光学(第二版)》，第50-52页。&lt;/p&gt;
&lt;h2&gt;One more thing&lt;/h2&gt;
&lt;p&gt;题图&lt;/p&gt;
&lt;p&gt;&lt;img alt="stripe_0.21" src="https://goldengrape.github.io/images/CSF/stripe_0.21.jpg"&gt;&lt;/p&gt;
&lt;p&gt;很多人抱怨说看起来很不舒服。这是有道理的。因为人眼在对焦的时候可能是在不断测试是否看得“清晰”，至于“清晰”是可以有定义的。常见的方法是去比较图像中高频部分和低频部分的对比度。&lt;/p&gt;
&lt;p&gt;通常低频部分的对比度随着离焦变化是比较慢的，就像你戴上从-3.00D到+3.00D的眼镜都可以分辨出0.1的视标。而高频部分只有在对焦清楚的时候对比度才最大——你只有找到合适的眼镜看1.0的视标才最清晰。&lt;/p&gt;
&lt;p&gt;如果你眼前大范围的区域都是单一空间频率的正弦视标，就像题图中的那样，甚至如果整间屋子都是同一正弦函数。你的眼睛就失去了对焦的参照，因为只有一个空间频率了，所以会感觉不适。&lt;/p&gt;&lt;/div&gt;</description><category>CSF</category><category>教程</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/ophthalmology/CSF/wei-shi-yao-dui-bi-min-gan-du-de-shi-biao-liang-du-shi-zheng-xian-bian-hua-de-5/</guid><pubDate>Mon, 18 Dec 2017 17:11:00 GMT</pubDate></item><item><title>为什么对比敏感度的视标亮度是正弦变化的？(4)</title><link>https://goldengrape.github.io/posts/ophthalmology/CSF/wei-shi-yao-dui-bi-min-gan-du-de-shi-biao-liang-du-shi-zheng-xian-bian-hua-de-4/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;因为，正弦函数sin(x)、余弦函数cos(x)，更准确的说是$e^{i x} $，其实就是某种Eigenfunction，甚至，是任意线性不变系统的Eigenfunction。&lt;/p&gt;
&lt;p&gt;看这思路，人眼的光学成像近似是线性空间不变系统，如果有个函数是任意线性不变系统的Eigenfunction，那么必然也是人眼光学成像的Eigenfunction。&lt;/p&gt;
&lt;p&gt;Otto. H. Schade在1956年把正弦视标引入眼科检查的时候，到底是怎么把这么远的两个概念结合到一起的？&lt;/p&gt;
&lt;p&gt;为什么对比敏感度的视标亮度是正弦变化的？
因为正弦函数是线性不变系统的本征函数！&lt;/p&gt;
&lt;p&gt;但是，为什么要用Eigenfunction，这得从对比敏感度讲起。&lt;/p&gt;
&lt;h2&gt;对比敏感度&lt;/h2&gt;
&lt;p&gt;这得从对比敏感度讲起。对比敏感度的检查方法是让患者看圆形的视标，视标中的条纹亮度按正弦变化，背景的亮度=视标的平均亮度。要求被试指出视标条纹的方向。&lt;/p&gt;
&lt;p&gt;对比敏感度的报告是一张二维图片，也就是说有两个参数，一个是空间频率，一个是对比度。&lt;/p&gt;
&lt;p&gt;对比敏感度测量的就是在不同空间频率下，眼睛可以看到的最低对比度是多少。&lt;/p&gt;
&lt;p&gt;&lt;img alt="SinVibr" src="https://goldengrape.github.io/images/CSF/SinVibr.png"&gt;&lt;/p&gt;
&lt;p&gt;这张图水平方向是空间频率越来越高，垂直方向是对比度越来越低，是不是可以感觉到一个抛物线的痕迹，抛物线的上方是一片灰色，下面是有条纹的。&lt;/p&gt;
&lt;p&gt;三角函数的表示还记得吧，如果亮度的变化可以用 I(x) =A sin(B x )+C 来表示，&lt;/p&gt;
&lt;p&gt;对比度contrast：&lt;/p&gt;
&lt;p&gt;sin是在-1和+1直接变化，所以最大的亮度是Imax=A+C，最小的亮度Imin=-A+C。根据对比度的定义&lt;/p&gt;
&lt;p&gt;contrast=(Imax-Imin)/(Imax+lmin)&lt;/p&gt;
&lt;p&gt;contrast=2A/2C=A/C&lt;/p&gt;
&lt;p&gt;&lt;img alt="对比度" src="https://goldengrape.github.io/images/CSF/%E5%AF%B9%E6%AF%94%E5%BA%A6.jpg"&gt;&lt;/p&gt;
&lt;p&gt;空间频率frequency&lt;/p&gt;
&lt;p&gt;就是在单位长度内，周期重复了多少次。显然B x=2kπ 的时候会重复，把x=1代入，B=2kπ, k=B/2π，所以空间频率&lt;/p&gt;
&lt;p&gt;frequency=B/2π&lt;/p&gt;
&lt;p&gt;前面说到，对比敏感度测量的时候，要给定一个空间频率，然后测量人眼分辨对比度的能力。如果给好了一个空间频率，而通过眼睛的屈光间质折射以后，空间频率变化了，就不好办了。&lt;/p&gt;
&lt;p&gt;那么就是说一个视标图像，在经过任意像差的角膜、晶状体，在视网膜上成像以后，它的空间频率应当和经过一个理想无像差的眼睛一样，而对比度会有不同。&lt;/p&gt;&lt;/div&gt;</description><category>CSF</category><category>教程</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/ophthalmology/CSF/wei-shi-yao-dui-bi-min-gan-du-de-shi-biao-liang-du-shi-zheng-xian-bian-hua-de-4/</guid><pubDate>Mon, 18 Dec 2017 17:10:00 GMT</pubDate></item><item><title>为什么对比敏感度的视标亮度是正弦变化的？(3)</title><link>https://goldengrape.github.io/posts/ophthalmology/CSF/wei-shi-yao-dui-bi-min-gan-du-de-shi-biao-liang-du-shi-zheng-xian-bian-hua-de-3/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;h2&gt;Eigenfunction（本征函数/ 特征函数）&lt;/h2&gt;
&lt;p&gt;现在我们要把另一个函数作为参数输入到线性函数里。越来越抽象了，不过对于咱们眼科医生来说，有成像过程可以辅助理解。
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;p&gt;我们说函数function不过是把输入-&amp;gt;输出的过程，所以一张图片，也可以是个函数，图片是把位置-&amp;gt;颜色，或者简单一点，位置-&amp;gt;亮度，图片上每一个位置有一个像素，像素带有一个亮度值。&lt;/p&gt;
&lt;p&gt;所以，如果我们把一个视标图片E，看成是函数g(x)，&lt;/p&gt;
&lt;p&gt;&lt;img alt="E" src="https://goldengrape.github.io/images/CSF/E.png"&gt;&lt;/p&gt;
&lt;p&gt;那么对于一个透镜f(x)，把函数g(x)作为输入就是f(g(x))了，&lt;/p&gt;
&lt;p&gt;&lt;img alt="E-&amp;gt;Eblur.png" src="https://goldengrape.github.io/images/CSF/E2Eblur.png"&gt;&lt;/p&gt;
&lt;p&gt;所以把函数作为参数输入到函数里，可以得到新到函数。&lt;/p&gt;
&lt;p&gt;对于线性不变系统，如果把函数作为参数输入，有一类特殊的输入函数会有这样的性质：
f( g(x) ) = A g(x)
把这个函数g(x)送进f，经过变换的结果，只是相当于对g(x)乘了个系数，g(x)里面的内部结构都没变！&lt;/p&gt;
&lt;p&gt;这类特殊的输入函数叫做该线性不变系统的Eigenfunction，可以翻译成“本征函数”或者“特征函数”。&lt;/p&gt;&lt;/div&gt;</description><category>CSF</category><category>教程</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/ophthalmology/CSF/wei-shi-yao-dui-bi-min-gan-du-de-shi-biao-liang-du-shi-zheng-xian-bian-hua-de-3/</guid><pubDate>Mon, 18 Dec 2017 17:09:00 GMT</pubDate></item><item><title>为什么对比敏感度的视标亮度是正弦变化的？(2)</title><link>https://goldengrape.github.io/posts/ophthalmology/CSF/wei-shi-yao-dui-bi-min-gan-du-de-shi-biao-liang-du-shi-zheng-xian-bian-hua-de-2/</link><dc:creator>Golden Grape</dc:creator><description>&lt;div&gt;&lt;p&gt;现在让我们回到初中，回忆一下你已经还给物理老师的几何光学。&lt;/p&gt;
&lt;h2&gt;线性的几何光学&lt;/h2&gt;
&lt;p&gt;我们可以把透镜成像的过程当作是一个把“物”变换成“像”的功能，说实话function翻译成函数真是挡住了不少人，function嘛，其实就是功能而已，有输入，有输出，把输入变成输出的功能。
&lt;!-- TEASER_END --&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="C-&amp;gt; IJ" src="https://goldengrape.github.io/images/CSF/C.png"&gt;
输入一个物C，就可以在屏幕上得到一个光斑IJ。
f(点C)=IJ&lt;/p&gt;
&lt;p&gt;&lt;img alt="物点G" src="https://goldengrape.github.io/images/CSF/5.png"&gt;
输入另一个物G，就可以在屏幕上得到光斑MN。
f(点G)=MN&lt;/p&gt;
&lt;p&gt;&lt;img alt="两个物点" src="https://goldengrape.github.io/images/CSF/4.png"&gt;&lt;/p&gt;
&lt;p&gt;同时输入物C和物G，同时得到光斑IJ和光斑MN。
f(点C+点G)=IJ+MN = f(点C)+f(点G)
看，理想的成像过程是个线性系统。&lt;/p&gt;
&lt;h2&gt;线性不变系统&lt;/h2&gt;
&lt;p&gt;简单的说，就是这个系统的变换过程是不随时间改变或者不随空间改变的。&lt;/p&gt;
&lt;p&gt;比如一个医生看一个结膜炎用3分钟，看2个结膜炎用6分钟。他早上8点开始就是这个速度，到12点快下班了，还是看一个结膜炎用3分钟，看2个结膜炎用6分钟。这就叫做线性时间不变。&lt;/p&gt;
&lt;p&gt;对于成像来说，考虑的是空间。
比如离焦&lt;/p&gt;
&lt;p&gt;&lt;img alt="C点在中间" src="https://goldengrape.github.io/images/CSF/1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="C点向上移动" src="https://goldengrape.github.io/images/CSF/2.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="C点更向上移动" src="https://goldengrape.github.io/images/CSF/3.png"&gt;&lt;/p&gt;
&lt;p&gt;从C点发出光形成了光斑IJ，如果C点的位置在垂直于光轴的面上移动。那么光斑IJ的大小不变。&lt;/p&gt;
&lt;p&gt;这很容易通过中学学习的几何光学证明，物距u，像距v，焦距f
1/u+ 1/v =1/f
物距u没变，所以像距v不变。
如果设光斑IJ的直径=x，屏幕到透镜的距离=L，透镜的直径=D
三角形ABC'与三角形JIC'相似。所以
IJ / AB = (L-V)/V
也就是
x  / D = (L-V)/V
x= D (L-V)/V
这里面D，L，V都是不变的，x当然也不变。&lt;/p&gt;
&lt;p&gt;所以在垂直于光轴的同一个平面上移动物点C，得到的光斑IJ，虽然位置不同，但大小总是一样的。甚至，如果我们特别仔细地把光束分成一份一份，会发现光斑不仅外形连里面也是一样的。&lt;/p&gt;
&lt;p&gt;这种情况就叫做线性空间不变。
（注意，以上的讨论只是在理想透镜的情况下讨论的，当然我们引入了离焦，所以其实包含了低阶像差，但是更复杂的情况并没有仔细讨论，球差也是线性空间不变的，但如果成像面弯曲了，恐怕就不是这样了，但通常我们只考虑黄斑区那一点点的范围，这时候光斑几乎是相同的，称作“等晕区”，可以近似认为是线性空间不变的）。&lt;/p&gt;
&lt;p&gt;一个相反的例子，哈哈镜，&lt;/p&gt;
&lt;p&gt;&lt;img alt="哈哈镜" src="https://goldengrape.github.io/images/CSF/distormirror.jpg"&gt;&lt;/p&gt;
&lt;p&gt;哈哈镜是线性系统，一个光点成像不影响另一个光点的像。但如果你拿着一个点移动，透过哈哈镜看输出，随着点的位置不同，放大、扭曲、缩小的情况各不相同，所以哈哈镜是线性的，但不是线性空间不变的。&lt;/p&gt;&lt;/div&gt;</description><category>CSF</category><category>教程</category><category>现代眼科医生知识扩展包</category><guid>https://goldengrape.github.io/posts/ophthalmology/CSF/wei-shi-yao-dui-bi-min-gan-du-de-shi-biao-liang-du-shi-zheng-xian-bian-hua-de-2/</guid><pubDate>Mon, 18 Dec 2017 17:08:49 GMT</pubDate></item></channel></rss>